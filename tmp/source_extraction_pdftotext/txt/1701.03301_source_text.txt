BEGIN Definition 1.1  
 The \emph {pseudo-sum} of two filters $\F $ and $\G $ is defined by letting for every set $A\subseteq \N $: $$A\in \F \oplus \G \ \Longleftrightarrow \^^M\{n\mid A-n\in \G \}\in \F $$ where $A-n=\{m\in \N \mid m+n\in A\}$ is the rightward shift of $A$ by $n$.
END Definition
 
BEGIN Definition 1.2  
 An \emph {idempotent ultrafilter} is an ultrafilter $\U $ which is idempotent with respect to the pseudo-sum operation, \emph {i.e.}, $\U =\U \oplus \U $.
END Definition
 
BEGIN Definition 1.3  
 For filters $\F ,\G $ and ultrafilter $\V $, let $$\F (\V ,\G )\ =\ \{B\subseteq \N \mid B\supseteq F\cap A_\V \text { for some } F\in \F \text { and some }A\in \G \}.$$
END Definition
 
BEGIN Proposition 1.4  
 [\textsf {ZF}]\label {fvg} Let $\F $ be a filter, and let $\V $ be an ultrafilter. Then for every filter $\G \supseteq \F \oplus \V $, the family $\F (\V ,\G )$ is a filter such that $\F \subseteq \F (\V ,\G )$ and $\G \subseteq \F (\V ,\G )\oplus \V $.
END Proposition
 
BEGIN Proof 
 The inclusion $\F (\V ,\G )\supseteq \F $ follows from the trivial observation that $\N _\V =\N $, and hence $F=F\cap \N =F\cap \N _\V \in \F (\V ,\G )$ for every $F\in \F $. All sets in $\F (\V ,\G )$ are nonempty; indeed if $F\cap A_\V =\emptyset $ for some $F\in \F $ and some $A\in \G $, then $F\subseteq (A_\V )^c=(A^c)_\V \Rightarrow (A^c)_\V \in \F \Leftrightarrow A^c\in \F \oplus \V \subseteq \G \Rightarrow A\notin \G $. Since $\F (\V ,\G )$ is closed under supersets and under finite intersections, it is a filter. Finally, $A\in \G \Rightarrow A_\V =\N \cap A_\V \in \F (\V ,\G )\Leftrightarrow A\in \F (\V ,\G )\oplus \V $.
END Proof
 
BEGIN Corollary 1.5  
 [\textsf {ZF}]\label {cor1} Let $\F $ be a filter, and let $\V ,\W $ be ultrafilters where $\W \supseteq \F \oplus \V $. Then for every ultrafilter $\U $ we have: \begin {enumerate} \item If $\U \supseteq \F (\V ,\W )$ then $\U \oplus \V =\W $\,; \item If $\U \oplus \V =\W $ and $\F \subseteq \U $ then $\F (\V ,\W )\subseteq \U $. \end {enumerate}
END Corollary
 
BEGIN Proof 
 (1) If $\U \supseteq \F (\V ,\W )$ then $\U \supseteq \F $ and $\W \subseteq \F (\V ,\W )\oplus \V \subseteq \U \oplus \V $, and hence $\W =\U \oplus \V $, since no inclusion between ultrafilters can be proper, by their maximality. \par (2) By definition, $\U \oplus \V =\W $ if and only if $A_\V \in \U $ for all $A\in \W $. Since $F\in \U $ for all $F\in \F $, it follows that $\F (\V ,\W )\subseteq \U $.
END Proof
 
BEGIN Corollary 1.6  
 [\textsf {ZF+UT}($\N $)]\label {cor2} Let $\F $ be a filter and let $\V ,\W $ be ultrafilters. Then $\W \supseteq \F \oplus \V $ if and only if $\W =\U \oplus \V $ for some ultrafilter $\U \supseteq \F $.
END Corollary
 
BEGIN Proof 
 One direction is trivial, because $\U \supseteq \F $ directly implies $\U \oplus \V \supseteq \F \oplus \V $ for every $\V $. Conversely, given an ultrafilter $\W \supseteq \F \oplus \V $, by \textsf {UT}($\N $) we can pick an ultrafilter $\U \supseteq \F (\V ,\W )\supseteq \F $, and the equality $\U \oplus \V =\W $ is satisfied by (1) of the previous corollary.
END Proof
 
BEGIN Definition 2.1  
 A filter $\F $ is \emph {additive} if for every ultrafilter $\V \supseteq \F $, the pseudo-sum $\F \oplus \V \supseteq \F $; that is, $A_\V \in \F $ for every $A\in \F $.
END Definition
 
BEGIN Remark 2.2  
 In 1989, T. Papazyan \cite {p} considered the \emph {almost translation invariant filters} $\F $ such that $\F \subseteq \F \oplus \F $, and showed that every maximal filter in that class is necessarily an ultrafilter, and hence an idempotent ultrafilter. We remark that almost translation invariance is a stronger notion with respect to addivity; indeed, it is straightforwardly seen that any almost translation invariant filter is additive, \emph {but not conversely}. (For the latter assertion, see Example \ref {additivenotidem} in the next section.) That same class of filters, named \emph {idempotent filters}, has been thoroughly investigated by P. Krautzberger in \cite {k}.
END Remark
 
BEGIN Example 2.3  
 \label {fsx} Given an infinite set $X=\{x_1<x_2<\ldots \}$, denote by $$\mathcal {FS}_X\ =\^^M\left \{A\subseteq \N \mid A\supseteq \text {FS}(X\setminus F) \text { for some finite }F\subset X\right \}.$$ Clearly, $\mathcal {FS}_X$ is a filter that contains $\text {FS}(X)$. It just takes a quick check to verify that $\mathcal {FS}_X\subseteq \mathcal {FS}_X\oplus \mathcal {FS}_X$, and hence $\mathcal {FS}_X$ is additive.
END Example
 
BEGIN Proposition 2.4  
 [\textsf {ZF+UT}($\N $)]\label {char_addfil} A filter $\F $ is additive if and only if $\F \subseteq \U \oplus \V $ for every pair of ultrafilters $\U ,\V \supseteq \F $.
END Proposition
 
BEGIN Proof 
 For the ``only if'' implication, notice first that \textsf {ZF+UT}($\N $) implies that $\F $ equals the intersection of all ultrafilters $\U \supseteq \F $. By the hypothesis, for every $A\in \F $ one has that $A_\V \in \U $ for all ultrafilters $\U \supseteq \F $, and hence $A_\V \in \F $. Conversely, assume there exists an ultrafilter $\V \supseteq \F $ with $\F \not \subseteq \F \oplus \V $, and pick a set $A\in \F $ with $A\notin \F \oplus \V $, that is, $A_\V \notin \F $. Then there exists an ultrafilter $\U \supseteq \F $ with $A_\V \notin \U $ (note that the family $\{F\cap (A_\V )^c\mid F\in \F \}$ has the finite intersection property, thus it can be extended to an ultrafilter by $\textsf {UT}(\N )$). Then $A\notin \U \oplus \V $ and the set $A$ is a witness of $\F \not \subseteq \U \oplus \V $.
END Proof
 
BEGIN Remark 2.5  
 \label {fil-cl} If $C$ is a nonempty closed sub-semigroup of $(\beta \N ,\oplus )$ then $$\text {Fil}(C)\ =\ \bigcap _{\U \in C}\U $$ is an additive filter. To show this, notice first that if $\V \supseteq \text {Fil}(C)$ is an ultrafilter, then $\V \in \overline {C}=C$. So, for all ultrafilters $\V ,\V '\supseteq \text {Fil}(C)$ one has that $\V \oplus \V '\in C$ by the property of sub-semigroup, and hence $\V \oplus \V '\supseteq \text {Fil}(C)$. Conversely, if $\F $ is an additive filter, then \textsf {UT}($\N $) implies that $$\text {Cl}(\F )\ =\ \{\U \in \beta \N \mid \U \supseteq \F \}$$ is a nonempty closed sub-semigroup. Moreover, the two operations are one the inverse of the other, since $\text {Cl}(\text {Fil}(C))=C$ and $\text {Fil}(\text {Cl}(\F ))=\F $ for every nonempty closed sub-semigroup $C$ and for every additive filter $\F $.
END Remark
 
BEGIN Proposition 2.6  
 [\textsf {ZF+UT}($\N $)]\label {FplusVadditive} Let $\F $ be an additive filter. Then for every ultrafilter $\V \supseteq \F $, the filter $\F \oplus \V $ is additive.
END Proposition
 
BEGIN Proof 
 Take any ultrafilter $\W \supseteq \F \oplus \V $. Then, by Corollary \ref {cor2}, there exists an ultrafilter $\U \supseteq \F $ such that $\W =\U \oplus \V $. By additivity of $\F $, we have that $\F \subseteq \F \oplus \U \subseteq \V \oplus \U \Rightarrow \F \subseteq \F \oplus \V \oplus \U \Rightarrow \F \oplus \V \subseteq \F \oplus \V \oplus \U \oplus \V = (\F \oplus \V )\oplus \W $.
END Proof
 
BEGIN Proposition 2.7  
 [\textsf {ZF}]\label {fvv} Let $\F $ be an additive filter. Then for every ultrafilter $\V $ where $\V \supseteq \F \oplus \V $, $\F (\V ,\V )$ is an additive filter.
END Proposition
 
BEGIN Proof 
 Let $\U _1,\U _2\supseteq \F (\V ,\V )$ be ultrafilters. We want to show that $\F (\V ,\V )\subseteq \U _1\oplus \U _2$. Since $\F $ is additive and $\U _1,\U _2\supseteq \F (\V ,\V )\supseteq \F $ by Proposition \ref {fvg}, we have that $\F \subseteq \U _1\oplus \U _2$. By Corollary \ref {cor1}, we have $\U _1\oplus \V =\U _2\oplus \V =\V $, and so $\V =\U _1\oplus \U _2\oplus \V $. But then for every $A\in \V $ the set $A_\V \in \U _1\oplus \U _2$, and the proof is complete.
END Proof
 
BEGIN Theorem 2.8  
 [\textsf {ZF+UT}($\N $)] If a filter is maximal among the additive filters then it is an idempotent ultrafilter.
END Theorem
 
BEGIN Proof 
 Let $\F $ be maximal among the additive filters. By $\textsf {UT}(\N )$ we can pick an ultrafilter $\V \supseteq \F $. We will show that $\V =\F $ and $\V \oplus \V =\V $. By additivity $\F \subseteq \F \oplus \V $, and since $\F \oplus \V $ is additive, by maximality $\F =\F \oplus \V $. Since $\F $ is additive and the ultrafilter $\V \supseteq \F \oplus \V $, also the filter $\F (\V ,\V )$ is additive by the previous proposition and so, again by maximality, $\F (\V ,\V )=\F $. In particular, for every $A\in \V $ one has that $A_\V \in \F (\V ,\V )=\F $, that is $A\in \F \oplus \V =\F $. This shows that $\V \subseteq \F $, and hence $\V =\F $. Finally, since $\V \supseteq \F (\V ,\V )$ and $\V \supseteq \F \oplus \V $, we have $\V \oplus \V =\V $ by Corollary \ref {cor1}.
END Proof
 
BEGIN Theorem 2.9  
 [\textsf {ZFC}]\label {maintheorem} Every additive filter can be extended to an idempotent ultrafilter.
END Theorem
 
BEGIN Proof 
 Given an additive filter $\F $, consider the following family $$\mathbb {F}\ =\ \{\G \supseteq \F \mid \ \G \ \text {is an additive filter}\}.$$ It is easily verified that if $\langle \G _i\mid i\in I\rangle $ is an increasing sequence of filters in $\mathbb {F}$, then the union $\bigcup _{i\in I}\F _i$ is an additive filter. So, \emph {Zorn's Lemma} applies, and one gets a maximal element $\G \in \mathbb {F}$. By the previous theorem, $\G \supseteq \F $ is an idempotent ultrafilter.
END Proof
 
BEGIN Remark 2.10  
 As already pointed out in the introduction, with the only exception of \cite {p}, the only known proof of existence of idempotent ultrafilters is grounded on \emph {Ellis-Numakura's Lemma}, a general result in semigroup theory that establishes the existence of idempotent elements in every compact right-topological semigroups. An alternate argument to prove the above Theorem \ref {maintheorem} can be obtained by same pattern. Indeed, given an additive filter $\F $, by Remark \ref {fil-cl} we know that $C=\text {Cl}(\F )$ is a closed nonempty sub-semigroup of the compact right-topological semigroup $(\beta \N ,\oplus )$. In consequence, $(C,\oplus )$ is itself a compact right-topological semigroup, so \emph {Ellis-Numakura's Lemma} applies, and one gets the existence of an idempotent element $\U \in C$; clearly, $\U \supseteq \F $.
END Remark
 
BEGIN Proposition 3.1  
 [\textsf {ZF}]\label {step-one} Assume there exists a choice function $\Phi $ that associates to every additive filter $\F $ an ultrafilter $\Phi (\F )\supseteq \F $. Then there exists a choice function $\Psi $ that associates to every additive filter $\F $ an ultrafilter $\Psi (\F )\supseteq \F $ such that $\Psi (\F )\supseteq \F \oplus \Psi (\F )$.
END Proposition
 
BEGIN Proof 
 Given an additive filter $\F $, let us define a sequence of filters by transfinite recursion as follows. At the base step, let $\F _0=\F $. At successor steps, let $\F _{\alpha +1}=\F _\alpha $ if $\Phi (\F _\alpha )\supseteq \F _\alpha \oplus \Phi (\F _\alpha )$, and let $\F _{\alpha +1}=\F _\alpha \oplus \Phi (\F _\alpha )$ otherwise. Finally, at limit steps $\lambda $, let $\F _\lambda =\bigcup _{\alpha <\lambda }\F _\alpha $. It is readily seen by induction that all $\F _\alpha $ are additive filters, and that $\F _\alpha \subseteq \F _\beta $ for $\alpha \le \beta $. If it was $\F _{\alpha +1}\ne \F _\alpha $ for all $\alpha $, then the sequence $\langle \F _\alpha \mid \alpha \in \textbf {ON}\rangle $ would be strictly increasing.\footnote {~By $\textbf {ON}$ we denote the proper class of all ordinals.} This is not possible, even without assuming $\textsf {AC}$, because otherwise we would have a 1-1 correspondence $\alpha \mapsto \F _{\alpha +1}\setminus \F _\alpha $ from the proper class $\textbf {ON}$ into the set $\mathcal {P}(\mathcal {P}(\N ))$, contradicting the replacement axiom schema. Then define $\Psi (\F )=\Phi (\F _\alpha )$ where $\alpha $ is the least ordinal such that $\F _{\alpha +1}=\F _\alpha $. Such an ultrafilter $\Psi (\F )$ satisfies the desired properties. Indeed, $\Phi (\F _\alpha )\supseteq \F _\alpha \supseteq \F _0=\F $. Moreover, if it was $\Phi (\F _\alpha )\not \supseteq \F \oplus \Phi (\F _\alpha )$, then also $\Phi (\F _\alpha )\not \supseteq \F _\alpha \oplus \Phi (\F _\alpha )$, and so $\F _{\alpha +1}=\F _\alpha \oplus \Phi (\F _\alpha )$. But then, since $\Phi (\F _\alpha )\supseteq \F _\alpha $ and $\Phi (\F _\alpha )\not \supseteq \F _{\alpha +1}$, it would follow that $\F _{\alpha +1}\ne \F _\alpha $, against the hypothesis.
END Proof
 
BEGIN Theorem 3.2  
 [\textsf {ZF}]\label {additivetoidempotent} Assume there exists a choice function $\Phi $ that associates to every additive filter $\F $ an ultrafilter $\Phi (\F )\supseteq \F $. Then there exists a choice function $\Theta $ that associates to every additive filter $\F $ an idempotent ultrafilter $\Theta (\F )\supseteq \F $.
END Theorem
 
BEGIN Proof 
 Fix a function $\Psi $ as given by the previous proposition. Given an additive filter $\F $, by transfinite recursion let us define the sequence $\langle \F _\alpha \mid \alpha \in \textbf {ON}\rangle $ as follows. At the base step, let $\F _0=\F $. At successor steps $\alpha +1$, consider the ultrafilter $\V _\alpha =\Psi (\F _\alpha )$, and let $\F _{\alpha +1}=\F _\alpha $ if $\V _\alpha \supseteq \F _\alpha (\V _\alpha ,\V _\alpha )$, and let $\F _{\alpha +1}=\F _\alpha (\V _\alpha ,\V _\alpha )$ otherwise. At limit steps $\lambda $, let $\F _\lambda =\bigcup _{\alpha <\lambda }\F _\alpha $. It is shown by induction that all $\F _\alpha $ are additive filters, and that $\F _\alpha \subseteq \F _\beta $ for $\alpha \le \beta $. Indeed, notice that at successor steps $\F _\alpha (\V _\alpha ,\V _\alpha )\supseteq \F _\alpha $ is additive by Proposition \ref {fvv}, since $\V _\alpha =\Psi (\F _\alpha )\supseteq \F _\alpha \oplus \V _\alpha $. By the same argument as used in the proof of the previous proposition, it cannot be $\F _{\alpha +1}\ne \F _\alpha $ for all ordinals. So, we can define $\Theta (\F )=\Psi (\F _\alpha )$ where $\alpha $ is the least ordinal such that $\F _{\alpha +1}=\F _\alpha $. Let us verify that the ultrafilter $\Theta (\F )$ satisfies the desired properties. First of all, $\Theta (\F )=\Psi (\F _\alpha )\supseteq \F $. Now notice that $\V _\alpha \supseteq \F _\alpha (\V _\alpha ,\V _\alpha )$, as otherwise $\F _{\alpha +1}=\F _\alpha (\V _\alpha ,\V _\alpha )$ and we would have $\F _\alpha \ne \F _{\alpha +1}$, since $\V _\alpha \supseteq \F _\alpha $ but $\V _\alpha \not \supseteq \F _{\alpha +1}$. So, $\Theta (\F )=\Psi (\F _\alpha )=\V _\alpha $, and by Corollary \ref {cor1}, we finally obtain that $\V _\alpha \oplus \V _\alpha =\V _\alpha $.
END Proof
 
BEGIN Corollary 3.3  
 [\textsf {ZF}] Assume there exists a choice function $\Phi $ that associates to every additive filter $\F $ an ultrafilter $\Phi (\F )\supseteq \F $. Then for every additively large set $A$ there exists an idempotent ultrafilter $\U $ where $A\in \U $.
END Corollary
 
BEGIN Proof 
 Let $X$ be an infinite set with $\text {FS}(X)\subseteq A$, and consider the additive filter $\mathcal {FS}_X$ of Example \ref {fsx}. Then $A\in \mathcal {FS}_X$ and, by the previous theorem, $\mathcal {FS}_X$ is included in an idempotent ultrafilter.
END Proof
 
BEGIN Proposition 3.4  
 [$\textsf {ZF+UT}(\R )$]\label {bpi} There exists a choice function $\Phi $ that associates to every filter $\F $ on $\N $ an ultrafilter $\Phi (\F )\supseteq \F $.
END Proposition
 
BEGIN Proof 
 Every filter is an element of $\mathcal {P}(\mathcal {P}(\N ))$, which is in bijection with $\mathcal {P}(\R )$. So, in $\textsf {ZF}$, one has a 1-1 enumeration of all filters $\{\F _Y\mid Y\in \FF \}$ for a suitable family $\FF \subseteq \mathcal {P}(\R )$. Fix a bijection $\psi :\mathcal {P}(\N )\times \mathcal {P}(\R )\to \mathcal {P}(\R )$, let $I=\text {Fin}(\R )\times \text {Fin}(\text {Fin}(\R ))$ (where for a set $X$, $\text {Fin}(X)$ denotes the set of finite subsets of $X$), and for every $(A,Y)\in \mathcal {P}(\N )\times \mathcal {P}(\R )$, let $$X(A,Y)\ =\ \{(F,S)\in I\mid S\subseteq \mathcal {P}(F);\ \psi (A,Y)\cap F\in S\}.$$ Notice that for every $\BB \subseteq \mathcal {P}(\N )\times \mathcal {P}(\R )$, the family $$\langle \BB \rangle \ =\^^M\{X(A,Y)\mid (A,Y)\in \BB \}\cup \{X(A,Y)^c\mid (A,Y)\notin \BB \}$$ has the finite intersection property. Indeed, given pairwise distinct $(A_1,Y_1),\ldots $, $(A_k,Y_k)\in \BB $ and pairwise distinct $(B_1,Z_1),\ldots ,(B_h,Z_h)\notin \BB $, for every $i,j$ pick an element $u_{i,j}\in \psi (A_i,Y_i)\triangle \psi (B_j,Z_j)$ (where $\triangle $ denotes the symmetric difference of sets). If we let $$F=\{u_{i,j}\mid i=1,\ldots ,k;\ j=1,\ldots ,h\}\quad \text {and}\quad S=\{\psi (A_i,Y_i)\cap F\mid i=1,\ldots ,k\},$$ then it is readily seen that $(F,S)\in \bigcap _{i=1}^{k}X(A_i,Y_i)\cap \bigcap _{j=1}^{h} X(B_j,Z_j)^c$. \par For every $Y\in \FF $, let us now consider the following family of subsets of $I$: $$\G _Y\ =\ \{X(A,Y)\mid A\in \F _Y\}\cup \{\Lambda (A,B,Y)\mid A,B\subseteq \N \}\cup \{\Gamma (A,Y)\mid A\subseteq \N \}$$ $$\cup \,\{\Delta (A,B,Y)\mid A\subseteq B\subseteq \N \}$$ where \par \begin {itemize} \item $\Lambda (A,B,Y)=X(A,Y)^c\cup X(B,Y)^c\cup X(A\cap B,Y)$\,; \item $\Gamma (A,Y)=X(A,Y)\cup X(A^c,Y)$\,; \item $\Delta (A,B,Y)=X(A,Y)^{c}\cup X(B,Y)$. \end {itemize} We want to show that every finite union $\bigcup _{i=1}^k\G _{Y_i}$ where $Y_i\in \FF $ has the finite intersection property, and hence also $\G =\bigcup _{Y\in \FF }\G _Y$ has the finite intersection property. By $\textsf {UT}(\N )$, which follows from $\textsf {UT}(\R )$, we can pick ultrafilters $\V _i\supseteq \F _{Y_i}$ for $i=1,\ldots ,k$. Then $$\H \ =\ \bigcup _{i=1}^k\left (\{X(A,Y_i)\mid A\in \V _i\}\cup \{X(A,Y_i)^c\mid A\notin \V _i\}\right )$$ has the finite intersection property, because $\H \subset \langle \BB \rangle $ where $\BB =\{(A,Y_i)\mid 1\le i\le k;A\in \V _i\}$. Now let $G_1,\ldots ,G_h\in \bigcup _{i=1}^k\G _{Y_i}$. For every $G_j$ pick $H_j\in \H $ such that $H_j\subseteq G_j$ as follows. If $G_j=X(A,Y_i)$ for some $A\in \F _{Y_i}$ then let $H_j=G_j$; if $G_j=\Lambda (A,B,Y_i)$ then let $H_j=X(A,Y_i)^c$ if $A\notin \V _i$, let $H_j=X(B,Y_i)^c$ if $A\in \V _i$ and $B\notin \V _i$, and let $H_j=X(A\cap B,Y_i)$ if $A,B\in \V _i$; if $G_j=\Gamma (A,Y_i)$ then let $H_j=X(A,Y_i)$ if $A\in \V _i$, and let $H_j=X(A^c,Y_i)$ if $A\notin \V _i$; and if $G_{j}=\Delta (A,B,Y_{i})$ (where $A\subseteq B$) then let $H_j=X(B,Y_{i})$ if $A\in \V _{i}$ or $B\in \V _{i}$, and let $H_{j}=X(A,Y_{i})^{c}$ if $A\not \in \V _{i}$ and $B\not \in \V _{i}$. But then $\bigcap _{j=1}^h G_j$ is nonempty because it includes $\bigcap _{j=1}^h H_j$ and the family $\H $ has the finite intersection property. \par Since $I=\text {Fin}(\R )\times \text {Fin}(\text {Fin}(\R ))$ is in bijection with $\R $, by $\textsf {UT}(\R )$ there exists an ultrafilter $\UU \supseteq \G $. Finally, for every $Y\in \FF $, the family $$\U _Y\ =\ \{A\subseteq \N \mid X(A,Y)\in \UU \}$$ is an ultrafilter that extends $\F _Y$. Indeed, if $A\in \F _Y$ then $X(A,Y)\in \G _Y\subseteq \UU $, and so $A\in \U _Y$. Now assume $A,B\in \U _Y$, \emph {i.e.} $X(A,Y),X(B,Y)\in \UU $. Since $\Lambda (A,B,Y)\in \G _Y\subseteq \UU $, we have $X(A\cap B,Y)=\Lambda (A,B,Y)\cap X(A,Y)\cap X(B,Y)\in \UU $, and so $A\cap B\in \U _Y$. Now let $A\in \U _{Y}$ and also let $B\supseteq A$. Since $\Delta (A,B,Y)\in \G _{Y}\subseteq \UU $, we have $X(A,Y)\cap \Delta (A,B,Y)\in \UU $. Furthermore, $X(B,Y)\supseteq X(A,Y)\cap X(B,Y)= X(A,Y)\cap \Delta (A,B,Y)$, thus $X(B,Y)\in \UU $, and consequently $B\in \U _{Y}$. Now let $A\subseteq \N $. If $A\notin \U _Y$, \emph {i.e.} if $X(A,Y)\notin \UU $, then $X(A,Y)^c\in \UU $. But $\Gamma (A,Y)\in \G _Y\subseteq \UU $, so $X(A^c,Y)\supseteq \Gamma (A,Y)\cap X(A,Y)^c\in \UU $, and hence $A^c\in \U _Y$. Clearly, the correspondence $\F _Y\mapsto \U _Y$ yields the desired choice function.
END Proof
 
BEGIN Remark 3.5  
 \label {rem:Prop3_4} In $\textsf {ZF}$, the property that ``there exists a choice function $\Phi $ that associates to every filter $\F $ on $\N $ an ultrafilter $\Phi (\F )\supseteq \F $" is equivalent to the property that ``$\beta \N $ is compact and Loeb" (see \cite [Proposition 1(ii)]{hkt}). We remark that the latter statement is strictly weaker than $\mathsf {UT}(\R )$ in $\mathsf {ZF}$ (see \cite [Theorem 10]{kk}).
END Remark
 
BEGIN Theorem 3.6  
 [$\textsf {ZF}+\textsf {UT}(\R )$]\label {main} Every additive filter can be extended to an idempotent ultrafilter.
END Theorem
 
BEGIN Remark 3.7  
 Since every idempotent filter $\F \subseteq \F \oplus \F $ is readily seen to be additive, as a straight corollary we obtain Paparyan's result \cite {p} that every maximal idempotent filter is an idempotent ultrafilter.
END Remark
 
BEGIN Remark 3.8  
 The above Theorem \ref {main} cannot be proved by \textsf {ZF} alone. Indeed, since the Fr\'{e}chet filter $\{A\subseteq \N \mid \N \setminus A \text { is finite}\}$ is additive, one would obtain the existence of a non-principal ultrafilter on $\N $ in \textsf {ZF}, against the well-known fact that there exist models of \textsf {ZF} with no non-principal ultrafilters on $\N $ (see \cite {hr}).
END Remark
 
BEGIN Example 3.9  
 \label {additivenotidem} ($\mathsf {ZF}$). The following family is an additive filter which is \emph {not} idempotent: $$\F \ =\ \{A\subseteq \N \mid A^c\ \text {is not FAL}\}.$$ \par First of all, the dual family $\F $ is a filter because the family of FAL sets is partition regular. Recall that the latter property is a consequence of \emph {Folkman's Theorem} in its finite version: ``For every $n$ and for every $r$ there exists $N$ such that for every $r$-coloring $\{1,\ldots ,N\}=C_1\cup \ldots \cup C_r$ there exists a set $S$ of cardinality $n$ with $\text {FS}(S)$ monochromatic.'' (For a $\textsf {ZF}$-proof of Folkman's Theorem, see \cite [Theorem 11, Lemma 12]{grs}, pp. 81--82.) \par In order to show that $\F $ is additive, fix any ultrafilter $\V \supseteq \F $; we want to see that $\F \subseteq \F \oplus \V $. Notice that every $B\in \V $ is FAL, as otherwise $B^c\in \F \subseteq \V $ and we would have $\emptyset =B\cap B^c\in \V $. By the definitions, if $A\notin \F \oplus \V $ then $A_\V =\{n\mid A-n\in \V \}\not \in \F $, \emph {i.e.}, $(A_\V )^c=\{n\mid A^c-n\in \V \}$ is FAL. Then for every $n$ there exist $x_1<\ldots <x_n$ such that $A^c-s\in \V $ for every $s\in \text {FS}(\{x_i\}_{i=1}^{n})$. Since the finite intersection $B=\bigcap \{A^c-s\mid s\in \text {FS}(\{x_i\}_{i=1}^{n})\}$ also belongs to $\V $, we can pick $y_1<\ldots <y_n$ where $y_1>x_1+\ldots +x_n$ such that $\text {FS}(\{y_i\}_{i=1}^{n})\subseteq B$. It is readily verified that $x_1+y_1<\ldots <x_n+y_n$ and that $\text {FS}(\{x_i+y_i\}_{i=1}^{n})\subseteq A^c$. This shows that $A^c$ is FAL, and hence $A\not \in \F $. \par Let us now check that the filter $\F $ is \emph {not} idempotent. To this end, we need some preliminary work. Denote by $\N _0=\N \cup \{0\}$, and let $\psi :\Fin (\N _0)\to \N _0$ be the bijection where $\psi (F)=\sum _{i\in F}2^i$ for $F\ne \emptyset $ and $\psi (\emptyset )=0$. Notice that $\psi (F)+\psi (G)=\psi (F\triangle G)+2\cdot \psi (F\cap G)$, and also observe that for every $H$ one has $2\cdot \psi (H)=\psi (1+H)$ where $1+H=\{1+h\mid h\in H\}$. In consequence, if $\E $ is the set of even natural numbers, the following property is easily checked: \begin {itemize} \item [($\star )$] \emph {Let $F,G\in \Fin (\E )$. Then $\psi (F)+\psi (G)=\psi (H)$ for some $H\in \text {Fin}(\E )$ if and only if $F\cap G=\emptyset $ and $F\cup G=H$.} \end {itemize} \par Now fix a partition $\E =\bigcup _{n\in \N _0}A_n$ of the even natural numbers into infinitely many infinite sets, and define $$X\ =\ \left \{\psi (F\cup G)\mid \emptyset \ne F\in \Fin (A_0)\ \&\^^M\emptyset \ne G\in \Fin (A_{\psi (F)})\right \}.$$ We will see that $X^c\in \F $ and $X^c\notin \F \oplus \F $, thus showing that $\F \not \subseteq \F \oplus \F $. \par The first property follows from the fact that there are no triples $a,b,a+b\in X$, and hence $X$ is not FAL. To see this, assume by contradiction that $\psi (F_1\cup G_1)+\psi (F_2\cup G_2)=\psi (F_3\cup G_3)$ for suitable nonempty $F_1,F_2,F_3\in \Fin (A_0)$ and $G_i\in \Fin (A_{\psi (F_i)})$. By the above property $(\star )$, it follows that $(F_1\cup G_1)\cap (F_2\cup G_2)=\emptyset $, and hence $F_1\cap F_2=\emptyset $; moreover, $(F_1\cup G_1)\cup (F_2\cup G_2)=F_3\cup G_3$, and hence $F_1\cup F_2=F_3$ and $G_1\cup G_2=G_3$. This is not possible because $F_1\cap F_2=\emptyset $ implies that $F_1,F_2\ne F_3$, and so $(G_1\cup G_2)\cap G_3=\emptyset $. \par By the definitions, $X^c\not \in \F \oplus \F $ if and only if $\Xi =\{n\mid X^c-n\in \F \}\not \in \F $ if and only if $\Xi ^c=\{n\mid X-n\ \text {is FAL}\}$ is FAL, and this last property is true. Indeed, for every nonempty $F\in \Fin (A_0)$ and for every nonempty $G\in \Fin (A_{\psi (F)})$, we have that $F\cap G=\emptyset $ and so $\psi (F\cup G)=\psi (F)+\psi (G)$. In consequence, the set $X-\psi (F)\supseteq \{\psi (G)\mid \emptyset \ne G\in \Fin (A_{\psi (F)})\}= \text {FS}(A_{\psi (F)})$ is additively large, and hence FAL. But then also $\Xi ^c\supseteq \{\psi (F)\mid \emptyset \ne F\in \Fin (A_0)\}= \text {FS}(A_0)$ is FAL because it is additively large, as desired.
END Example
 
BEGIN Remark 3.10  
 The above example is fairly related to Example 2.8 found in P. Krautzberger's thesis \cite {k}; however there are relevant differences. Most notably, besides the fact that different semigroups are considered, our example is carried within $\textsf {ZF}$, whereas the proof in \cite {k} requires certain weak forms of the axiom of choice. Let us see in more detail. \par \par In \cite {k} one first considers a \emph {partial} semigroup $(\mathbb {F},\cdot )$ on the family $\mathbb {F}$ of finite subsets of $\N $ where the partial operation is defined by means of disjoint unions, and then the corresponding semigroup of ultrafilters $(\delta \mathbb {F},\cdot )$ where $\delta \mathbb {F}$ is a suitable closed subspace of $\beta \mathbb {F}$. (See \cite [Definition 1.4]{k} for details.) By \emph {Graham-Rothschild parameter-sets Theorem} \cite {gr}, the family of sets that contain arbitrarily large finite union sets\footnote {~A \emph {finite union set} is a set of the form $\text {FU}(X)=\{\bigcup _{F\in \X } F\mid \emptyset \ne \X \in \text {Fin}(X)\}$.} is partition regular, and so the following closed set is nonempty: $$H\ =\ \{\U \in \delta \mathbb {F}\mid (\forall A\in \U )(\forall n\in \N )(\exists x_1<\ldots <x_{n})\; \text {FU}(\{x_{i}\}_{i=1}^{n})\subseteq A\}.$$ (Notice that $\textsf {UT}(\N )$ suffices to prove $H\ne \emptyset $; indeed, any ultrafilter on $\mathbb {F}$ extending the filter $\{A\subseteq \mathbb {F}\mid A^{c} \text { does not contain arbitrarily large union sets}\}$ is in $H$.) It is then shown that $H$ is a sub-semigroup and that the filter $$\H \ =\ \text {Fil}(H)=\bigcap \{\U \mid \U \in H\}$$ is not idempotent. This last property is proved by showing the existence of an injective sequence of ultrafilters $\langle \U _n\mid n\in \N \rangle $ in $H$ whose limit $\U $-$\lim _n(n+\U _n)\notin H$ for a suitable $\U \in H$; notice that here countably many choices are made.\footnote {~More precisely, for every $n\in \N $ one picks an ultrafilter $\U _n\in H$ that contains a suitable set $A_n\in \H $. (See \cite {k} for details.) In view of Proposition \ref {bpi}, instead of countable choice one could assume $\textsf {UT}(\R )$ to get such a sequence.} \par It is well-known that partition regularity results about finite unions can be (almost) directly translated into partition regularity results about finite sums, and conversely (see, \emph {e.g.}, \cite [Theorem 13]{grs} and \cite [pp.113-114]{hs}). Along these lines, our Example \ref {additivenotidem} can be seen as a translation of the above example to $(\beta \N ,\oplus )$. We remark that, besides some non-trivial adjustments, we paid attention not to use any form of choice; to this end, we directly considered the dual filter $$\F \ =\ \{A\subseteq \N \mid A^c\ \text {is not FAL}\}.$$ instead of the corresponding closed sub-semigroup $\{\U \in \beta \N \mid (\forall A\in \U )(A\text { is FAL})\}.$
END Remark
 
BEGIN Proposition 4.1  
 [\textsf {ZF}]\label {weak} Let $\F $ be filter, and assume that there exists an ultrafilter $\V \supseteq \F $ such $\F \subseteq \F \oplus \V $. Then for every $A\in \F $ and for every $k$ there exist $k$-many elements $x_1<\ldots <x_k$ such that $\mathrm {FS}(\{x_i\}_{i=1}^{n})\subseteq A$.
END Proposition
 
BEGIN Proof 
 Let $\V $ be an ultrafilter as given by the hypothesis. If $\V \supseteq \F $ is principal, say generated by $m\in \N $, then $A\in \F \Rightarrow m\in A$. Moreover, since $\F \subseteq \F \oplus \V $, we also have that $A\in \F \Rightarrow A_\V =A-m\in \F $. But then every $A\in \F $ contains all multiples $hm$ for $h\in \N $, and the thesis trivially follows. So, let us assume that $\V $ is non-principal. \par For the sake of simplicity, here we will only consider the case $k=4$; for arbitrary $k$, the proof is obtained by the same argument. Notice first that, since $\F \subseteq \F \oplus \V $, we have that $A\in \F \Rightarrow A_\V \in \F $, and hence also $A_{\V ^2},A_{\V ^3}\in \F $, where we denoted $\V ^2=\V \oplus \V $ and $\V ^3=\V \oplus \V \oplus \V $. \par \begin {itemize} \item Pick $x_1\in A\cap A_\V \cap A_{\V ^2}\cap A_{\V ^3}\in \F $. \end {itemize} \par Then $x_1\in A$, and $A-x_1,A_\V -x_1,A_{\V ^2}-x_1\in \V $. \par \begin {itemize} \item Pick $x_2\in A\cap (A-x_1)\cap A_\V \cap (A_\V -x_1) \cap A_{\V ^2}\cap (A_{\V ^2}-x_1)\in \V $. As $\V $ is non-principal, we can take $x_2>x_1$. \end {itemize} \par Then $x_2,x_2+x_1\in A$, and $A-x_2,A-x_1-x_2,A_\V -x_2,A_\V -x_1-x_2\in \V $. \par \begin {itemize} \item Pick $x_3\in A\cap (A-x_1)\cap (A-x_2)\cap (A-x_1-x_2)\cap A_\V \cap (A_\V -x_1)\cap (A_{\V }-x_2)\cap (A_\V -x_1-x_2)\in \V $. We can take $x_3>x_2$. \end {itemize} \par Then $x_3,x_3+x_1,x_3+x_2,x_3+x_2+x_1\in A$ and $A-x_3,A-x_1-x_3,A-x_2-x_3,A-x_1-x_2-x_3\in \V $. \par \begin {itemize} \item Pick $x_4\in A \cap (A-x_1) \cap (A-x_2)\cap (A-x_3)\cap (A-x_1-x_2)\cap (A-x_1-x_3)\cap (A-x_2-x_3) \cap (A-x_1-x_2-x_3)\in \V $. We can take $x_4>x_3$. \end {itemize} \par We finally obtain that $\text {FS}(\{x_1<x_2<x_3<x_4\})\subseteq A$.
END Proof
 
BEGIN Proposition 4.2  
 [$\textsf {ZF}+\textsf {UT}(\R )$]\label {additivehindman} Let $\F $ be an additive filter. Then every $A\in \F $ is additively large.
END Proposition
 
BEGIN Proposition 4.3  
 [$\textsf {ZF}+\textsf {UT}(\R )$]\label {extendingadditive} Let $\F $ be an additive filter. Then for every $B\subseteq \N $ there exists an additive filter $\G \supseteq \F $ such that either $B\in \G $ or $B^c\in \G $.
END Proposition
 
BEGIN Remark 4.4  
 A detailed investigation of the strength of \emph {Ellis-Numakura's Lemma} in the hierarchy of weak choice principles is found in \cite {ta}. In particular, in that paper it is shown that either one of the \emph {Axiom of Multiple Choice} \textsf {MC} or the \emph {Ultrafilter Theorem} \textsf {UT} (in its equivalent formulation given by the \emph {Boolean Prime Ideal Theorem} \textsf {BPI}) suffices to prove Ellis-Numakura's Lemma.\footnote {~\textsf {MC} postulates the existence of a ``multiple choice'' function for every family $\mathcal {A}$ of nonempty sets, \emph {i.e.}, a function $F$ such that $F(x)$ is a nonempty finite subset of $x$ for every $x\in \mathcal {A}$. Recall that \textsf {MC} is equivalent to \textsf {AC} in \textsf {ZF}, but it is strictly weaker than \textsf {AC} in Zermelo--Fraenkel set theory with atoms \textsf {ZFA} (see \cite {hr}).} (The key point of the proof is the fact that both \textsf {MC} and \textsf {UT} imply the existence of a choice function for the family of nonempty closed sub-semigroups of any compact right topological semigroup.) Recall that, as pointed out in Remark \ref {fil-cl}, under the assumption of \textsf {UT}($\N $) (or of \textsf {MC}, since \textsf {MC} $\Rightarrow $ \textsf {UT}($\N $)), nonempty closed sub-semigroups of $(\beta \N ,\oplus )$ exactly correspond to additive filters, and so one obtains that either one of \textsf {MC} or \textsf {UT} implies that every additive filter on $\N $ is extended to an idempotent ultrafilter.
END Remark
 
