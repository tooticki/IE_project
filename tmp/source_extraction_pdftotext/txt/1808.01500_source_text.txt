BEGIN Proposition 1.1  
 \label {psRamsey} In every finite partition $A=C_1\cup \ldots \cup C_r$ of a piecewise syndetic set $A$, one of the pieces $C_i$ is piecewise syndetic.
END Proposition
 
BEGIN Proof 
 For simplicity, let us say that an interval $I$ is $k$-good for the set $B$ if for every sub-interval $J\subseteq I$ of lenght $k$ one has $J\cap B\ne \emptyset $. By the hypothesis of piecewise syndeticity of $A$, there exists $k\in \N $ and a sequence of intervals $\langle I_n\mid n\in \N \rangle $ with increasing length such that every $I_n$ is $k$-good for $A$. It is enough to consider the case when $A=C_1\cup C_2$ is partitioned into two pieces, because the general case $r\ge 2$ will then follow by induction. We distinguish two cases. \par Case \# 1: There exists $h$ and there exist infinitely many intervals $I_n$ that are $h$-good for $C_1$. In this case $C_1$ is piecewise syndetic. \par Case \# 2: For every $h$, there are only finitely many intervals $I_n$ that are $h$-good for $C_1$. So, for every $h$ we can pick an interval $I_{n_h}$ of length $\ge h$ that is not $h$-good. Let $J_h\subseteq I_{n_h}$ be a sub-interval of length $h$ such that $J_h\cap C_1=\emptyset $. The sequence of intervals $\langle J_h\mid h\in \N \rangle $ shows that $C_2$ is piecewise syndetic. Indeed, given $h$, for every sub-interval $J\subseteq J_h$ of length $k$ we have that $J\cap C_1\subseteq J_h\cap C_1=\emptyset $; and so $J\cap C_2=J\cap A\ne \emptyset $, since $J\subseteq I_{n_h}$ and $I_{n_h}$ is $k$-good for $A$.
END Proof
 
BEGIN Definition 2.1  
 $\F $ is a \emph {translation invariant filter} (TIF for short) if $\F $ is a filter with the additional property that if $A\in \F $ then also $A-1\in \F $ (and hence, $A-n\in \F $ for all $n\in \N _0$).
END Definition
 
BEGIN Proposition 2.2  
 \label {thickTIF} A set $A$ is thick if and only if it belongs to a TIF $\F $.
END Proposition
 
BEGIN Proof 
 Recall that $A$ is thick if and only if the family $\G =\{A-n\mid n\in \N _0\}$ has the FIP. It is easily verified that the generated filter $\langle \G \rangle $ is translation invariant. \par Conversely, assume that $A\in \F $ for some TIF $\F $. Then trivially the family $\G =\{A-n\mid n\in \N _0\}$ has the FIP because $\G \subseteq \F $.
END Proof
 
BEGIN Proposition 2.3  
 \label {maximal} Let $\B =\{B_n\mid n\in \N \}$ be a countable algebra of sets. \begin {enumerate} \item Given a family $\G \subseteq \B $ with the FIP, define $\G _0=\G $; $\G _{n+1}=\G _n\cup \{B_n\}$ in case $B_n\cap A\ne \emptyset $ for every $A\in \G _n$; and $\G _{n+1}=\G _n$ otherwise. Then $\U :=\bigcup _n\G _n$ is an ultrafilter that extends $\G $. \item Given a family $\G \subseteq \B $ with the FIP and such that $A\in \G \Rightarrow A-1\in \G $, define $\G _0=\G $; $\G _{n+1}=\G _n\cup \{B_n-k\mid k\in \N _0\}$ in case that union has the FIP; and $\G _{n+1}=\G _n$ otherwise. Then $\mathcal {M}:=\bigcup _n\G _n$ is a maximal TIF that extends $\G $. \end {enumerate}
END Proposition
 
BEGIN Proof 
 (1). By the definition, it is clear that all families $\G _n$ have the FIP, and so also $\U $ has the FIP. Now assume by contradiction that $A\in \B $ is such that both $A,A^c\notin \U $. If $A=B_n$ and $A^c=B_m$, then, by the definition of $\U $, there exist $U\in \G _m$ and $U'\in \G _m$ such that $A\cap U=A^c\cap U'=\emptyset $. But then $U\cap U'\subseteq (A\cap U)\cup (A^c\cap U')=\emptyset $, against the FIP of $\U $. Finally, if $B\supseteq A$ where $\B \in \B $ and $A\in \U $ then $B\in \U $, as otherwise, by what just proved, $B^c\in \U $, and hence $\emptyset =B^c\cap A\in \U $, a contradiction. \par (2). By induction, it directly follows from the definition that all families $\G _n$ have the FIP and satisfy the property ``$A\in \G _n\Rightarrow A-1\in \G _n$"; so, the same properties hold for $\mathcal {M}$. If $B\supseteq A$ where $\B \in \B $ and $A\in \mathcal {M}$, say $A\in \G _n$, then $B\in \G _{n+1}$ because trivially the FIP of $\G _n\cup \{A-n\mid n\in \N _0\}$ implies the FIP of $\G _n\cup \{B-n\mid n\in \N _0\}$. This shows that $\mathcal {M}$ is a TIF. As for the maximality, let $\mathcal {M}'\supseteq \mathcal {M}$ be a TIF. Given $A\in \mathcal {M}'$, pick $n$ with $A=B_n$. The family $\G _n\cup \{A-n\mid n\in \N _0\}$ has the FIP, since it is included in the filter $\mathcal {M}'$, and so $A\in \G _{n+1}$. This shows that $\mathcal {M}'\subseteq \mathcal {M}$, and hence the two TIFs are equal.
END Proof
 
BEGIN Proposition 2.4  
 \label {syndetic} Let $\U $ be an ultrafilter that includes a maximal TIF $\mathcal {M}$. Then: \begin {enumerate} \item Every $B\in \U $ is piecewise syndetic. \item For every $B\in \U $, the set $B_\U :=\{n\in \N \mid B-n\in \U \}$ is syndetic.\footnote {~We remark that in general the set $B_\U $ does not belong to the algebra of sets $\B $.} \par \end {enumerate}
END Proposition
 
BEGIN Proof 
 Notice first that for every $B\in \U $ there exist $n_1,\ldots ,n_k$ such that the union $\bigcup _{i=1}^k(B-n_i)\in \mathcal {M}$. Indeed, if $\Lambda :=\{B^c-n\mid n\in \N _0\}$ then the union $\mathcal {M}\cup \Lambda $ does not have the FIP, as otherwise $\mathcal {M}\cup \Lambda $ would generate a TIF that properly extends $\mathcal {M}$, against the maximality. So, there exist $A\in \mathcal {M}$ and $n_1,\ldots ,n_k$ such that $A\cap \bigcap _{i=1}^k(B^c-n_i)=\emptyset $. But then $\bigcup _{i=1}^k(B-n_i)\in \mathcal {M}$, as a superset of $A\in \mathcal {M}$. \par (1). Pick a finite union of shifts $\bigcup _{i=1}^k(B-n_i)\in \mathcal {M}$. By Proposition \ref {thickTIF}, that union is thick as an element of a TIF, and hence $B$ is piecewise syndetic. \par (2). As above, pick a finite union of shifts $\bigcup _{i=1}^k(B-n_i)\in \mathcal {M}$. By translation invariance, for every $m\in \N $ one has that $\bigcup _{i=1}^k(B-n_i-m)\in \mathcal {M}\subseteq \U $ and so, by the Ramsey property of ultrafilters, there exists $i$ such that $B-n_i-m\in \U $, that is, $m\in B_\U -n_i$. This shows that $\N =\bigcup _{i=1}^k(B_\U -n_i)$ is a finite union of shifts of $B_\U $, and hence $B_\U $ is syndetic.
END Proof
 
BEGIN Theorem 3.1  
 \label {main} Let $A$ be a piecewise syndetic set. Then for every $k\in \N $, the set $\text {AP}_k(A):= \{x\in A\mid \exists y\in \N \ \text {s.t.}\ x+i y\in A\ \text {for}\ i=1,\ldots ,k\}$ is piecewise syndetic.
END Theorem
 
BEGIN Corollary 3.2  
 In every finite partition $\N =C_1\cup \ldots \cup C_r$ there exists a piece $C=C_i$ such that, for every $k\in \N $, the set $\text {AP}_k(C)$ is piecewise syndetic.
END Corollary
 
BEGIN Proof 
 By the Ramsey property of piecewise syndetic sets (see Proposition \ref {psRamsey}), we can pick a color $C_i$ which is piecewise syndetic.
END Proof
 
BEGIN Proof 
 [Proof of Theorem \ref {main}] Let $\mathcal {B}$ be the countable algebra of sets generated by the family $\{A-n\mid n\in \N _0\}$. By the property of piecewise syndeticity, a finite union of shifts $T=\bigcup _{i=1}^k(A-n_i)$ is thick. Then the family $\G :=\{T-n\mid n\in \N _0\}\subseteq \B $ has the FIP, and since $\G $ trivially satisfies the shift invariance property ``$A\in \G \Rightarrow A-1\in \G $", by Proposition \ref {maximal} we can pick a maximal TIF $\mathcal {M}$ on $\B $ with $\mathcal {M}\supseteq \G $, and an ultrafilter $\U $ on $\B $ with $\U \supseteq \mathcal {M}$. The desired result is a consequence of the following general property. \par \smallskip \textbf {Claim.} \emph {Let $\U $ be an ultrafilter that extends a maximal TIF. If a shift $B-\ell \in \U $ for some $\ell \in \N _0$, then $B_\U -\ell $ contains arbitrarily long arithmetic progressions.} \par \smallskip Indeed, since $T=\bigcup _{j=1}^k(A-n_j)\in \F \subseteq \U $, there exists $n_j$ such that $A-n_j\in \U $. Then for every $k\in \N $ there exists an arithmetic progression $\ell +i y\in A_\U -n_j$ for $i=0,1,\ldots ,k$. But then $\bigcap _{i=0}^k(A-n_j-\ell -iy)\subseteq \text {AP}_k(A)-n_j-\ell \in \U $. In consequence, $\text {AP}_k(A)$ is piecewise syndetic by Proposition \ref {syndetic}, as a shift of a member of $\U $. \par \smallskip We are left to prove the Claim. We proceed by induction on $k$, and prove that if $B-\ell \in \U $ for some $\ell \in \N _0$, then $B_\U -\ell $ contains a $k$-term arithmetic progression.\footnote {~This inductive construction uses a simplified version of an argument in \cite {h}.} \par If $B-\ell \in \U $, then the set $(B-\ell )_\U =B_\U -\ell $ is syndetic by Proposition \ref {syndetic}. In particular, $B_\U -\ell \ne \emptyset $, and this proves the induction base $k=1$. \par Let us turn to the inductive step $k+1$, and assume that $B-\ell _0\in \U $. By syndeticity of $B_\U -\ell _0$, there exists a finite $F\subset \N _0$ such that for every $n\in \N $ there exists $x\in F$ with $\ell _0+n+x\in B_\U $. For convenience, let us assume that $0\in F$. By the inductive hypothesis, there exist $\ell _1\in \N _0$ and $y_1\in \N $ such that $\ell _1+i y_1\in B_\U -\ell _0$ for $i=1,\ldots ,k$, that is, $\ell _0+\ell _1+x_0+i y_1\in B_\U $ where $x_0=0\in F$. Pick $x_1\in F$ with $\ell _0+\ell _1+x_1\in B_\U $. If $x_1=x_0$ then we already found a $(k+1)$-term arithmetic progression in $B_\U $, as desired. Otherwise, let us consider the intersection $$B_1=(B-x_1)\cap \bigcap _{i=1}^k(B-x_0-i y_1).$$ Since $\ell _0+\ell _1+x_1\in B_\U $ and $\ell _0+\ell _1+x_0+i y_1\in B_\U $, the shift $B_1-\ell _0-\ell _1\in \U $ and so, by the inductive hypothesis, there exist $\ell _2\in \N _0$ and $y_2\in \N $ such that $\ell _2+i y_2\in (B_1)_\U -\ell _0-\ell _1$ for $i=1,\ldots ,k$. In consequence, $\ell _0+\ell _1+\ell _2+x_0+i(y_1+y_2)\in B_\U $ and $\ell _0+\ell _1+\ell _2+x_1+i y_2\in B_\U $ for every $i=1,\ldots ,k$. Pick $x_2\in F$ with $\ell _0+\ell _1+\ell _2+x_2\in B_\U $. Notice that if $x_2=x_0$ or $x_2=x_1$ then we have a $(k+1)$-term arithmetic progression in $B_\U $. Otherwise, let us consider the intersection $$B_2=(B-x_2)\cap \bigcap _{i=1}^k(B-x_1-iy_2)\cap \bigcap _{i=1}^k(B-x_0-i(y_1+y_2)).$$ Since $B_2-\ell _0-\ell _1-\ell _2\in \U $, by the inductive hypothesis we can find an arithmetic progression in $B_\U -\ell _0-\ell _1-\ell _2$ of lenght $k$. We iterate the procedure. As the set $F$ is finite, after finitely many steps we will find elements $x_n=x_m$ where $n>m$, and finally obtain the following arithmetic progression of length $k+1$: $$\ell _0+\ell _1+\ldots +\ell _n+x_n+i(y_{m+1}+\ldots +y_n)\quad i=0,1,\ldots ,k.$$
END Proof
 
BEGIN Proposition 4.1  
 Let $\B =\mathcal {P}(\N )$ be the full algebra of all subsets of $\N $. If $\F $ is a TIF then $\mathfrak {C}(\F )$ is a closed left ideal of $(\beta \N ,\oplus )$; and conversely, if $L$ is a left ideal of $(\beta \N ,\oplus )$ then $\mathfrak {F}(L)$ is a TIF. Moreover, $\mathcal {M}$ is a maximal TIF if and only if $\mathfrak {C}(\mathcal {M})$ is a minimal left ideal of $(\beta \N ,\oplus )$; and $L$ is a minimal left ideal of $(\beta \N ,\oplus )$ if and only if $\mathfrak {F}(L)$ is a maximal TIF.
END Proposition
 
BEGIN Proof 
 Let $\V \in \mathfrak {C}(\F )$ and let $\U \in \beta \N $ be any ultrafilter. For every $A\in \F $, by translation invariance we know that $A-n\in \F $ for all $n$, and so $\{n\mid A-n\in \V \}=\N \in \U $. This shows that $A\in \U \oplus \V $. As this is true for every $A\in \F $, we conclude that $\U \oplus \V \in \mathfrak {C}(\F )$, and so $\mathfrak {C}(\F )$ is a closed left ideal. \par Now let $A\in \mathfrak {F}(L)$ where $L$ is a left ideal. For every $\V \in L$, we have that $\mathfrak {U}_1\oplus \V \in L$, where $\mathfrak {U}_1:=\{B\subseteq \N \mid 1\in B\}$ is the principal ultrafilter generated by $1$. Then $A\in \mathfrak {U}_1\oplus \V $, which is equivalent to $A-1\in \V $. As this holds for every $\V \in L$, we have proved that $A-1\in \mathfrak {F}(L)$, as desired. \par Let $\F $ be a TIF. If the left ideal $\mathfrak {C}(\F )$ is not minimal, pick a minimal $L\subsetneq \mathfrak {C}(\F )$. Then $\F \subsetneq \mathfrak {F}(L)$, and hence $\F $ is not maximal. Indeed, $L\subseteq \mathfrak {C}(\F )\Rightarrow \mathfrak {F}(L)\supseteq \mathfrak {F}(\mathfrak {C}(\F ))=\F $; moreover, $\F \ne \mathfrak {F}(L)$, as otherwise $\mathfrak {C}(\F )=\mathfrak {C}(\mathfrak {F}(L))=\overline {L}=L$, against our assumptions. (Recall that a minimal left ideal $L$ is necessarily closed because, by minimality, $L=\beta \N \oplus \V :=\{\U \oplus \V \mid \U \in \beta \N \}$ for every given $\V \in L$, and $\beta \N \oplus \V $ is closed as the image of the compact Hausdorff space $\beta \N $ under the continuous function $\U \mapsto \U \oplus \V $.) In a similar way, one shows the converse implication: If the TIF $\F $ is not maximal then the left ideal $\mathfrak {C}(\F )$ is not minimal. In consequence, $L=\mathfrak {C}(\mathfrak {F}(L))$ is minimal if and only if $\mathfrak {F}(L)$ is maximal, and also the last equivalence follows.
END Proof
 
BEGIN Corollary 4.2  
 Let $\B =\mathcal {P}(\N )$ be the full algebra of all subsets of $\N $. An ultrafilter $\U $ includes a maximal TIF if and only if $\U $ belongs to the smallest ideal $K(\beta \N ,\oplus )$.
END Corollary
 
BEGIN Proof 
 Recall that $\U \in K(\beta \N ,\oplus )$ if and only if $\U $ belongs to some minimal left ideal. Now let $\U \supseteq \mathcal {M}$ where $\mathcal {M}$ is a maximal TIF. Since $\mathcal {M}=\mathfrak {F}(\mathfrak {C}(\mathcal {M}))$, we have that $\U \in \mathfrak {C}(\mathcal {M})$, where $\mathfrak {C}(\mathcal {M})$ is a minimal left ideal. Conversely, let $\U \in L$ where $L$ is a minimal left ideal. Then $\mathfrak {F}(L)$ is a maximal TIF and $\U \supseteq \mathfrak {F}(L)$, since $\U \in L=\mathfrak {C}(\mathfrak {F}(L))$.
END Proof
 
BEGIN Remark 4.3  
 One can generalize the contents of this paper from the natural numbers to arbitrary countable semigroups $(S,\cdot )$. Indeed, the notion of translation invariant filter also makes sense in that more general framework.\footnote {~Actually, our techniques also apply for uncountable semigroups, but in that case one needs Zorn's Lemma to prove the existence of maximal TIFs and of ultrafilters.} Precisely, if $\B $ is an algebra of subsets of $S$, one defines a TIF on $\B $ as a filter $\F $ with the additional property that $A\in \F \Rightarrow s^{-1}A:=\{t\in S\mid s\cdot t\in A\}\in \F $ for every $s\in S$. Then, by the same arguments as used in this paper, one can prove that Theorem \ref {main} holds, provided one adopts a suitable generalization of the notion of piecewise syndetic set.\footnote {~In an arbitrary semigroup $(S,\cdot )$, one defines a subset $T\subseteq S$ to be \emph {thick} if for every finite $F$ there exists $x\in S$ with $F\cdot x:=\{y\cdot x\mid y\in F\}\subseteq T$; a set $A\subseteq S$ is \emph {syndetic} if a suitable finite union $\bigcup _{i=1}^k s_i^{-1}A=S$ covers the whole semigroup; and finally a set $A\subseteq S$ is \emph {piecewise syndetic} if a suitable finite union $\bigcup _{i=1}^k s_i^{-1}A$ is thick (see \cite [\S 4.4 and \S 4.5]{hs}). }
END Remark
 
