***

Theorem. [Chung–Graham–Wilson] For any  > 0, there exists δ > 0 such that
(a) if a graph satisﬁes P2,p(δ) and PC4,p(δ), then it also satisﬁes P∗
(b) if a graph satisﬁes P∗

2,p();
2,p(δ), then it also satisﬁes P2,p() and PC4,p().

***
Theorem. [Simonovits–S´os] For any  > 0, there exists δ > 0 such that if a graph satisﬁes P∗
then it also satisﬁes P∗

2,p().

H,p(δ),

***
Theorem 1.1. For every natural number r ≥ 3, there is a constant c(r) such that if p and  are
constants with 0 < , p < 1 and n is suﬃciently large depending on r, p and , then any n-vertex graph
G that satisﬁes P∗

r,p(δ) with δ = c(r)p2r2 also satisﬁes P∗

2,p().

***
Theorem 1.2. For every 0 < p < 1 and natural number r ≥ 3, there are constants c = c(p, r) and
c(cid:48)(p, r) such that if H is a graph with r vertices, 0 <  < 1/2 and a graph G satisﬁes P∗
H,p(δ) with
δ = c(cid:48)(p, r)c(p,r), then it also satisﬁes P∗

2,p().

***
Lemma 2.1. Let G be an n-vertex graph that satisﬁes P∗
r,p(δ). Then, for all disjoint subsets X, Y of
V (G), the number of labeled r-cliques with exactly i vertices in X and r− i vertices in Y deviates from

(cid:0)r

i

(cid:1)p(r

2)|X|i|Y |r−i by at most O(δnr).

***
Corollary 2.1. Let G be an n-vertex graph that satisﬁes P∗

r,p(δ). Then(cid:80)

u∈U discU (u) = O(δnr).

***
Lemma 2.2. Let G be an n-vertex graph that satisﬁes P∗

r,p(δ). Then

(cid:88)

u,v∈V (G)

|dr−1(v) − dr−1(u)| = O(p−(r

2)δnr+1).

***

Proposition 2.1. Let a1, . . . , an and b1, . . . , bn be two sets of n non-negative numbers. Then, for any
positive integer s,

(cid:88)

·(cid:88)

ai.

bs−1

j

(cid:88)

j −(cid:88)

bs

|bs
j − as

i| ≥ n

i,j

j

j

i

***

positive integer s,(cid:80)

· ((cid:80)
j bj −(cid:80)

i ai).

Corollary 2.2. Let a1, . . . , an and b1, . . . , bn be two sets of n non-negative numbers. Then, for any

i| ≥(cid:80)

i,j |bs

j − as

j bs−1

j

***
Lemma 2.3. If a graph G satisﬁes P∗

2,p(γ), then it also satisﬁes P∗

r,p(r2γ).

***

2

Lemma 2.4. Let G be an n-vertex graph of density q.

(cid:1)| ≥ D, then there exists a set S(cid:48) of order n/2 such that |e(S(cid:48)) − q(cid:0)|S(cid:48)|

|e(S) − q(cid:0)|S|

If there is a subset S ⊆ V (G) for which

(cid:1)| ≥(cid:0) 1

4 + o(1)(cid:1) D.

2

***

Lemma 2.5. Let r ≥ 3 be an integer and x ≥ r a real number. Then a graph with exactly (cid:0)x
contains at most(cid:0)x

(cid:1) cliques of order r.

r

(cid:1) edges

2

***
Lemma 2.6. Given positive real numbers λ, c1, . . . , ck, let f : {0, 1}k → R be a function satisfying the
following Lipschitz condition: whenever two vectors z, z(cid:48) ∈ {0, 1}k diﬀer only in the ith coordinate,
|f (z)−f (z(cid:48))| ≤ ci. Then, if X1, . . . , Xk are independent random variables, each taking values in {0, 1},
the random variable Y = f (X1, . . . , Xk) satisﬁes

(cid:26)

(cid:27)

.

P[|Y − E[Y ]| ≥ λ] ≤ 2 exp

2(cid:80)

− λ2

i c2
i

***
Lemma 3.1. If G satisﬁes P∗

H,p(), then it also satisﬁes QH,p((2r − 1)).

***
Lemma 3.2. Let H be a graph on vertex set {1, 2, . . . , r}. Let G be a graph with vertex subsets
V1, . . . , Vr such that (Vi, Vj) is lower-(pij, )-regular for each edge (i, j) of H. Then the number of
homomorphisms from H to G with the copy of vertex i in Vi is at least

 (cid:89)

(i,j)∈E(H)

 r(cid:89)

i=1

pij − e(H)

|Vi|.

***

Lemma 3.3. If a pair (A, B) of vertex subsets of a graph is not lower-(d(A, B), )-regular, then it is
also not upper-(d(A, B), /2)-regular. The same holds if lower and upper are switched.

***

Lemma 3.4. Suppose (A, B) is a pair of vertex subsets of a graph which is not upper-(q, γ)-regular.
Then there are subsets A(cid:48) ⊆ A and B(cid:48) ⊆ B with |A(cid:48)| = |B(cid:48)| and d(A(cid:48), B(cid:48)) ≥ q + γ min{ |A|
|A(cid:48)| ,
same holds with upper replaced by lower, + by − and the inequality reversed.

|B|
|B(cid:48)|}. The

***

Lemma 3.5. Let H be a graph with r vertices and m edges. Suppose G is a graph on n vertices that
satisﬁes QH,p(δ) and has disjoint subsets A and B with |A| = |B| such that δ ≤ 1
4r αmpmr−r(|A|/n)r
and d(A, B) ≥ (1 + α)p or d(A, B) ≤ (1 − α)p with α ≤ 1
16mr . Then there are also disjoint subsets
A(cid:48) and B(cid:48) with |A(cid:48)| = |B(cid:48)| and d(A(cid:48), B(cid:48)) ≥ (1 + (1 + β)α)p or d(A(cid:48), B(cid:48)) ≤ (1 − (1 + β)α)p where
β = pm−1

|A|
|A(cid:48)| .

4r3

***

Lemma 3.6. For each  > 0, there is δ > 0 such that every graph on n vertices has an -regular subset
on at least δn vertices.

***

Conjecture 4.1. Let H be a ﬁxed bipartite graph of girth g and 0 < p < 1 a ﬁxed constant. For each
 > 0, there is δ = Ω(g) such that any graph G with density p which satisﬁes PH,p(δ) also satisﬁes
P∗
2,p().

