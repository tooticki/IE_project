***
Theorem. [Chung–Graham–Wilson] For any  > 0, there exists δ > 0 such that
∗ ();
(a) if a graph satisfies P2,p (δ) and PC4 ,p (δ), then it also satisfies P2,p
∗ (δ), then it also satisfies P () and P
(b) if a graph satisfies P2,p
2,p
C4 ,p ().

***
∗ (δ),
Theorem. [Simonovits–Sós] For any  > 0, there exists δ > 0 such that if a graph satisfies PH,p
∗ ().
then it also satisfies P2,p

***
Theorem 1.1. For every natural number r ≥ 3, there is a constant c(r) such that if p and  are
constants with 0 < , p < 1 and n is sufficiently large depending on r, p and , then any n-vertex graph
∗ (δ) with δ = c(r)p2r2  also satisfies P ∗ ().
G that satisfies Pr,p
2,p

***
Theorem 1.2. For every 0 < p < 1 and natural number r ≥ 3, there are constants c = c(p, r) and
∗ (δ) with
c0 (p, r) such that if H is a graph with r vertices, 0 <  < 1/2 and a graph G satisfies PH,p
∗ ().
δ = c0 (p, r)c(p,r) , then it also satisfies P2,p

***
∗ (δ). Then, for all disjoint subsets X, Y of
Lemma 2.1. Let G be an n-vertex graph that satisfies Pr,p
V (G), the number of labeled r-cliques with exactly i vertices in X and r − i vertices in Y deviates from

r (r2)
|X|i |Y |r−i by at most O(δnr ).
i p

***
∗ (δ). Then
Corollary 2.1. Let G be an n-vertex graph that satisfies Pr,p

P

u∈U

discU (u) = O(δnr ).

***
∗ (δ). Then
Lemma 2.2. Let G be an n-vertex graph that satisfies Pr,p

X
u,v∈V (G)

r

|dr−1 (v) − dr−1 (u)| = O(p−(2) δnr+1 ).

***
Proposition 2.1. Let a1 , . . . , an and b1 , . . . , bn be two sets of n non-negative numbers. Then, for any
positive integer s,
X
X
X
X
ai .
|bsj − asi | ≥ n
bsj −
bs−1
·
j
i,j

j

j

i

***
Corollary 2.2. Let a1 , . . . , an and b1 , . . . , bn be two sets of n non-negative numbers. Then, for any
P
P
P
P
positive integer s, i,j |bsj − asi | ≥ j bs−1
· ( j bj − i ai ).
j

***
∗ (γ), then it also satisfies P ∗ (r 2 γ).
Lemma 2.3. If a graph G satisfies P2,p
r,p

***
Lemma 2.4.
density q. If there is a subset S ⊆ V (G) for which
 Let G be an n-vertex graph of

0
|S|
0
|e(S) − q 2 | ≥ D, then there exists a set S of order n/2 such that |e(S 0 ) − q |S2 | | ≥ 41 + o(1) D.

***
Lemma 2.5. Let r≥ 3 be an integer and x ≥ r a real number. Then a graph with exactly
contains at most xr cliques of order r.

x
2



edges

***
Lemma 2.6. Given positive real numbers λ, c1 , . . . , ck , let f : {0, 1}k → R be a function satisfying the
following Lipschitz condition: whenever two vectors z, z 0 ∈ {0, 1}k differ only in the ith coordinate,
|f (z)−f (z 0 )| ≤ ci . Then, if X1 , . . . , Xk are independent random variables, each taking values in {0, 1},
the random variable Y = f (X1 , . . . , Xk ) satisfies


λ2
P[|Y − E[Y ]| ≥ λ] ≤ 2 exp − P 2 .
2 i ci

***
∗ (), then it also satisfies Q
r
Lemma 3.1. If G satisfies PH,p
H,p ((2 − 1)).

***
Lemma 3.2. Let H be a graph on vertex set {1, 2, . . . , r}. Let G be a graph with vertex subsets
V1 , . . . , Vr such that (Vi , Vj ) is lower-(pij , )-regular for each edge (i, j) of H. Then the number of
homomorphisms from H to G with the copy of vertex i in Vi is at least


r
Y
Y

pij − e(H)
|Vi |.
(i,j)∈E(H)

i=1

***
Lemma 3.3. If a pair (A, B) of vertex subsets of a graph is not lower-(d(A, B), )-regular, then it is
also not upper-(d(A, B), /2)-regular. The same holds if lower and upper are switched.

***
Lemma 3.4. Suppose (A, B) is a pair of vertex subsets of a graph which is not upper-(q, γ)-regular.
|A| |B|
Then there are subsets A0 ⊆ A and B 0 ⊆ B with |A0 | = |B 0 | and d(A0 , B 0 ) ≥ q + γ min{ |A
0 | , |B 0 | }. The
same holds with upper replaced by lower, + by − and the inequality reversed.

***
Lemma 3.5. Let H be a graph with r vertices and m edges. Suppose G is a graph on n vertices that
1
satisfies QH,p (δ) and has disjoint subsets A and B with |A| = |B| such that δ ≤ 4r
αmpm r−r (|A|/n)r
1
and d(A, B) ≥ (1 + α)p or d(A, B) ≤ (1 − α)p with α ≤ 16mr . Then there are also disjoint subsets
A0 and B 0 with |A0 | = |B 0 | and d(A0 , B 0 ) ≥ (1 + (1 + β)α)p or d(A0 , B 0 ) ≤ (1 − (1 + β)α)p where
m−1 |A|
β = p4r3 |A
0| .

***
Lemma 3.6. For each  > 0, there is δ > 0 such that every graph on n vertices has an -regular subset
on at least δn vertices.

***
Conjecture 4.1. Let H be a fixed bipartite graph of girth g and 0 < p < 1 a fixed constant. For each
 > 0, there is δ = Ω(g ) such that any graph G with density p which satisfies PH,p (δ) also satisfies
∗ ().
P2,p

