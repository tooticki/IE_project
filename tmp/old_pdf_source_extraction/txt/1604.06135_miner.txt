***

Theorem 1.1. [Erd˝os-Ko-Rado, 1961] Let k < n/2, and let F ⊂(cid:0)[n]
Then |F| ≤(cid:0)n−1
(cid:1). Equality holds if and only if F is a dictatorship.

k−1

(cid:1) be an intersecting family.

k

***
Theorem 1.2. [Ahlswede-Khachatrian ‘Complete Intersection Theorem’, 1997] Let n, k, t ∈ N,
if F is isomorphic to Fn,k,t,r for some r ≥ 0. In particular, if n ≥ (t + 1)(k − t + 1), then

(cid:1) be a t-intersecting family. Then |F| ≤ maxr |Fn,k,t,r|, and equality holds only

k−t

and let F ⊂(cid:0)[n]
|F| ≤ |Fn,k,t,0| =(cid:0)n−t
(cid:1).

k

***
Problem 1.3. [Erd˝os-S´os, 1971] For n, k, t ∈ N, what is the maximal size g (n, k, t) of a family

(cid:1) such that |A ∩ B| (cid:54)= t − 1 for any A, B ∈ F?

F ⊂(cid:0)[n]

k

such that the following holds. Let n ≥ n0(k, t), and let F ⊂(cid:0)[n]
any A, B ∈ F. Then |F| ≤(cid:0)n−t

(cid:1). Equality holds if and only if F is a t-umvirate.

k

***
Theorem 1.4. [Frankl-F¨uredi, 1985] For any k, t ∈ N such that k ≥ 2t, there exists n0(k, t) ∈ N

(cid:1) such that |A ∩ B| (cid:54)= t − 1 for

k−t

***
Theorem 1.5. For any t ∈ N and any ζ > 0, there exists n0(t, ζ) ∈ N such that the following
holds. Let n ≥ n0 (t, ζ, ), let n, k ∈ N with ζn < k < ( 1
two sets in F have intersection of size t − 1. Then |F| ≤ f (n, k, t), and equality holds only if
F is isomorphic to Fn,k,t,r, for some r ≥ 0.

2 − ζ)n, and let F ⊂(cid:0)[n]

(cid:1) such that no

k

***
Theorem 1.6. For any t ∈ N and any ζ > 0, there exists C = C(t, ζ) > 0 such that the
following holds. Let n, k, d ∈ N such that ζn < k < ( 1
intersecting family such that |F| > f (n, k, t) − 1

2 − ζ)n, and let F ⊂ (cid:0)[n]
(cid:0)n−d
(cid:1). Then there exists G ⊂(cid:0)[n]
(cid:1), where r ≤ C.

to some Fn,k,t,r, such that |F\G| < C(cid:0)n−d

(cid:1) be a t-
(cid:1) isomorphic

k

k

C

k

k−d

***
Theorem 1.7. For any ζ, δ,  ∈ (0, 1) and h ∈ N, there exists j = j(ζ, δ, h, ) ∈ N and
n0 = n0(ζ, δ, h, ) ∈ N such that the following holds. Let n ≥ n0, let ζn < k < (1 − ζ) n, and let

(cid:1). Then there exist a set J ⊂ [n] with |J| ≤ j, and a subset G ⊂ P(J), such that:

F ⊂(cid:0)[n]

k

(1) µ (F\(cid:104)G(cid:105)) < .
(2) For each B ∈ G, the family F B

J is a (δ, h)-slice-quasirandom family satisfying µ(F B

J ) > 
2 .

***
Conjecture 1.8. [23, Conjecture 4.1] Let t ∈ N, let ζ > 0, let β ∈ [ζ, 1/2 − ζ] be non-
singular for t, let  > 0, and let k = (cid:98)βn(cid:99).
that |F| ≥ (1 − )|F(n, k, t, r∗)|, then there exists a set B ⊂ [n] of size t + 2r∗ such that
|{A ∈ F : |A ∩ B| ≥ t + r∗}| ≥ (1 − Ot,ζ())|F|. If β is singular for t, then either the above
holds or the corresponding statement for r∗ + 1 holds.

(cid:1) is a t-intersecting family such

If F ⊂ (cid:0)[n]

k

***
Theorem 1.9. [Biased AK Theorem] Let t ∈ N, let 0 < p < 1/2, and let F ⊂ P([n]) be a
t-intersecting family. Then µp(F) ≤ f (n, p, t) := maxr µp(Fn,t,r), where Fn,t,r := {S ⊂ [n] :
|S ∩ [t + 2r]| ≥ t + r}, and equality holds iﬀ F is isomorphic to one of the Fn,t,r families. In
particular, if p < 1/(t + 1), then µp(F) ≤ µp( ˜Fn,t,0) = pt, with equality iﬀ F ∼= Fn,t,0.

following holds. Let p ∈(cid:2)ζ, 1

2 − ζ(cid:3), and let  > 0. If F ⊂ P([n]) is a t-intersecting family such

***
Theorem 1.10. For any t ∈ N and any ζ > 0, there exists C = C(t, ζ) > 0 such that the
that µp (F) ≥ f (n, p, t) (1 − ), then there exists a family G isomorphic to some Fn,t,r, such that
µp (F\G) ≤ Clog1−p p.
r∗
In particular, if
G ∼= Fn,t,r∗.

t+2r∗−1 + ζ < p < r∗+1

t+2r∗+1 − ζ for some r∗ ∈ N, then the above holds with

***
Deﬁnition. Let F ⊂ P([n]) and i ∈ [n]. The set of i-inﬂuential elements with respect to F is

inﬂuence of F with respect to µp is I p(F) :=(cid:80)n

Ii(F) := {S : |{S, S(cid:52){i}} ∩ F| = 1}.
The inﬂuence of the ith coordinate on F with respect to µp is I p
we will often suppress p from this notation, writing Ii(F) = I p

i (F) := µp(Ii(F)). The total
i=1 Ii(F). When there is no risk of confusion,

i (F) and I(F) = I p(F).

***
Theorem 2.1. Let F ⊂ P([n]) be an increasing family, and let 0 < p < 1. Then

pI p(F) ≥ µp(F) logp(µp(F)).

(1)

***
Lemma 2.2. [Margulis-Russo Lemma] Let F ⊂ P ([n]) be an increasing family and let 0 <
p0 < 1. Then

dµp (F)

dp

(cid:12)(cid:12)(cid:12)p=p0

= I p0 (F) .

***
Lemma 2.3. Let F ⊂ P([n]) be increasing. Then the function p (cid:55)→ logp(µp(F)) is monotone
non-increasing on (0, 1).

for all S ⊂ [n]. A family F ⊂ P([n]) is said to be a j-junta if it is a J-junta for some J ∈(cid:0)[n]

***
Deﬁnition. If J ⊂ [n] and F ⊂ P([n]), F is said to be a J-junta if it depends only upon the
coordinates in J — formally, if there exists G ⊂ P(J) such that S ∈ F if and only if S ∩ J ∈ G,
Note that F ⊂ P([n]) is a j-junta if and only if Ii(F) = 0 for at least n − j coordinates i ∈ [n]
(provided 0 < p < 1).

(cid:1).

j

***

Theorem 2.4. [Friedgut’s Junta Theorem] For any ζ > 0, there exists C = C(ζ) > 0 such
that the following holds. Let ζ ≤ p ≤ 1 − ζ, let  > 0, and let F ⊂ P ([n]). Then there exists a
j-junta J ⊂ P ([n]) such that µp (F∆J ) < , where j ≤ exp(CI p(F)/).

***
Proposition 2.5. Let F ⊂ P([n]) be increasing, let 0 < p < 1 and let c > 0. If mini(I p
then n ≤

1

c2p(1−p) .

i (F)) ≥ c,

***
Proposition 2.6. Let t ∈ N, let ζ > 0, and let m ∈ N. There exists  =  (t, ζ, m) > 0
such that if 0 < p ≤ 1/2 − ζ, and F ⊂ P ([m]) is a t-intersecting family satisfying µp (F) ≥
f (m, p, t) (1 − ), then F ∈ AKm
p,t.

***
Deﬁnition. For F ⊂ P([n]), a set A ∈ F, and 1 ≤ j < i ≤ n, the shifting operator Sij is
deﬁned as follows: Sij (A) = A\{i}∪{j} if i ∈ A, j /∈ A, and A\{i}∪{j} (cid:54)∈ F; and Sij (A) = A
otherwise. We deﬁne Sij (F) = {Sij (A) : A ∈ F}.
F is called n-compressed if A\{n} ∪ {j} ∈ F for all A ∈ F such that A ∩ {j, n} = n, i.e., if
Snj (F) = F for all j < n. F is called shifted if Sij (F) = F for all j < i.

***
Claim 2.7. Let F ⊂ P ([n]) be increasing and t-intersecting, and let 0 < p < 1. Then Sij (F)
satisﬁes the following properties:
(a) µp (Sij (F)) = µp (F),
(b) µp (F\Sij (F)) ≤ Ii (F),
(c) Ii (Sij (F)) ≤ Ii(F), with equality if and only if Sij (F) = F,
(d) Sij (F) is increasing and t-intersecting.

***
Proposition 2.8. Let 0 < p < 1, and let F ⊂ P([n]) be an increasing t-intersecting family that
is not n-compressed. Denote δ = In (F). Then there exist families F = F0,F1,F2, . . . ,Fm ⊂
P([n]), such that Fm is n-compressed and for each i ∈ [m] we have:
(a) µp (Fi) = µp (F),
(b) Fi is increasing and t-intersecting,
(c) µp (Fi−1\Fi) ≤ δ,
(d) In (Fi) < δ.

***
Lemma 2.9. Let F ⊂ P([n]) be a t-intersecting n-compressed family and let a, b ∈ [n]. Let
A ∈ F (a) and B ∈ F (b) be such that |A ∩ B| = t and n ∈ A ∩ B. Then a + b = n + t, and
A ∪ B = [n].

***
Proposition 2.10. Let 0 < p < 1/2. Let F ⊂ P([n]) be an increasing t-intersecting n-
compressed family. Denote In = In (F). Let a (cid:54)= b ∈ [n] be such that a + b = n + t. Then the
families

G1 := (F\(In ∩ F)(a)) ∪ (In \ F)(b−1)

and

G2 := (F\(In ∩ F)(b)) ∪ (In \ F)(a−1)

are t-intersecting, and

µp (F) ≤ max{µp (G1) , µp (G2)} ,

(3)

with equality only if G1 = G2 = F.

***
Proposition 2.11. Let n, t ∈ N such that n + t is even, and let 0 < p < 1. Let F ⊂ P([n])
be an increasing n-compressed t-intersecting family such that In(F) > 0. Denote a = n+t
2 . For
1 ≤ i ≤ n − 1, let

Gi = (F\ (F ∩ In ∩ Di)(a)) ∪ (In\ (F ∪ Di))(a−1) .

Then the families Gi are t-intersecting. Moreover, if 0 < p ≤ 1/2 − ζ, n > t/(2ζ) and (In ∩
F)(a) (cid:54)= ∅, then

{µp (Gi)} > µp (F) .

max
i∈[n−1]

(5)

***
Corollary 2.12. Let ζ > 0, let 0 < p ≤ 1/2− ζ and let n ∈ N with n > t/(2ζ). Let F ⊂ P([n])
be an increasing n-compressed t-intersecting family that depends on the nth coordinate (i.e.,
In(F) > 0). Then there exists a t-intersecting family G ⊂ P([n]), such that µp (G) > µp (F)
and µp (F\G) ≤ In (F).

***
Proposition 2.13. [Friedgut] Let δ > 0, let n, k ∈ N with k ≤ n, let
let F ⊂ P ([n]) be increasing. Then

(cid:113)

k+

2n log( 1
δ )

n

≤ p ≤ 1 and

(cid:12)(cid:12)F (k)(cid:12)(cid:12)
(cid:1) (1 − δ) .
(cid:0)n

k

µp (F) ≥

***
Proposition 2.14. Let F ⊂ P([n]) be an increasing family. For any 1 ≤ k ≤ m ≤ n, we have

|F (m)|/(cid:0) n

(cid:1) ≥ |F (k)|/(cid:0)n
(cid:1).

m

k

***
Proposition 2.15. [Dinur and Safra] Let j ∈ N, ζ,  ∈ (0, 1), and p ∈ [ζ, 1 − ζ]. There exist
δ(cid:48) = δ(cid:48)(, j) and n0 = n0(j, ζ, ) ∈ N such that the following holds for all n > n0. For any

k ∈ [ζn, (1 − ζ)n] ∩ N such that(cid:12)(cid:12)p − k
(cid:12)(cid:12) < δ(cid:48) and for any j-junta J ⊂ P([n]), we have
(cid:12)(cid:12)(cid:12)(cid:12)(cid:12)(cid:12)µp (J ) −

(cid:12)(cid:12)(cid:12)(cid:12)(cid:12)(cid:12) < .

(6)

n

(cid:12)(cid:12)(cid:12)J ∩(cid:0)[n]
(cid:1)
(cid:0)n

k

(cid:1)(cid:12)(cid:12)(cid:12)

k

***
Proposition 2.16. [Dinur and Friedgut] Let j ∈ N, ζ, δ(cid:48)(cid:48) ∈ (0, 1) , and p ∈ [ζ, 1 − ζ]. There
exist C = C (ζ, j) > 0 and n0 (t, ζ, δ(cid:48)(cid:48)) ∈ N such that the following holds for all n > n0 and all
. Let F ⊂ P([n]) be an increasing family, and let
k ∈ [ζn, (1 − ζ)n] ∩ N such that p > k+
J be a j-junta such that µp (F\J ) < δ(cid:48)(cid:48). Then

2n log 2
n

√

k

(cid:12)(cid:12)(cid:12)(F\J )(k)(cid:12)(cid:12)(cid:12) < Cδ(cid:48)(cid:48)(cid:18)n

(cid:19)

.

***
Deﬁnition. Families F,G ⊂ P([n]) are said to be cross-intersecting if A∩ B (cid:54)= ∅ for any A ∈ F
and B ∈ G.

***

Lemma 2.17. Let n, k, l ∈ N with n ≥ k + l, let r ∈ N ∪ {0}, and let A ⊂(cid:0)[n]
cross-intersecting families. Suppose that |A| ≥(cid:0)n
(cid:1). Then |B| ≤(cid:0)n−r
(cid:1).

(cid:1) −(cid:0)n−r

k

k

(cid:1), B ⊂(cid:0)[n]

l

(cid:1) be

k

l−r

***

Lemma 2.18. For each ζ > 0, there exists c = c(ζ) > 1 such that the following holds. Let
ζn ≤ k1, k2 ≤ ( 1
1 − , then µ (B) = Oζ (c).

(cid:1) be cross-intersecting families. If µ (A) >

(cid:1), B ⊂(cid:0)[n]

2 − ζ)n, and let A ⊂(cid:0)[n]

k1

k2

***
Proposition 2.19. [[12], Lemma 2.7] Let 0 < p ≤ 1/2, and let F,G ⊂ P([n]) be cross-
intersecting families. Then µp (F) ≤ (1 − µp (G))log1−p p.

***
Lemma 2.20. If F,G ⊂ P ([n]) are cross-intersecting, then
µ1/2 (F) + µ1/2 (G) ≤ 1.

***

Notation 2.21. For X ⊂ N, i ∈ N and F ⊂(cid:0)X
lexicographic order on(cid:0)X
if it is an initial segment of the lexicographic order on(cid:0)X

(cid:1) with size |F|. We say a family C ⊂(cid:0)X

i

i

(cid:1), we write L(F) for the initial segment of the
(cid:1) is lexicographically ordered

(cid:1), i.e., L(C) = C.

i

i

***

Proposition 2.22. [Hilton] If F ⊂(cid:0)[n]

also cross-intersecting.

(cid:1), G ⊂(cid:0)[n]

l

(cid:1) are cross-intersecting, then L(F), L(G) are

k

***
Lemma 2.23. [[12], Lemma 4.7] For any η > 0 and any C ≥ 0, there exists c0 = c0(η, C) ∈ N
such that the following holds. Let n, l, k, d ∈ N∪{0} with n ≥ (1 + η)l + k + c0 and l ≥ k + c0− 1.

Suppose that A ⊂(cid:0)[n]

(cid:1), B ⊂(cid:0)[n]

l

k

(cid:1) are cross-intersecting, and that
(cid:12)(cid:12)(cid:12)(cid:12)OR[d] ∩
(cid:19)(cid:12)(cid:12)(cid:12)(cid:12) =
(cid:18)n − d
(cid:19)
(cid:18)[n]
(cid:18)n
(cid:19)
(cid:18)n − d
(cid:18)n − d
(cid:19)
(cid:18)n
(cid:19)
(cid:19)

−

l

l

l

.

|A| ≤

Then

|A| + C |B| ≤

−

l

l

+ C

k − d

.

***
Proposition 2.24. Let n, j, M ∈ N, ζ ∈ (0, 1/2), and let ζn ≤ k1, k2 ≤ ( 1

|k2 − k1| ≤ j. There exists c = c (M, ζ, j) ∈ N such that the following holds. Let F ⊂(cid:0)[n]
G ⊂(cid:0)[n]
(cid:1) be cross-intersecting families such that for some d ∈ {c, c + 1, . . . , k2}, we have
Then |F| + M |G| ≤(cid:0) n

(cid:1) −(cid:0)n−d

(cid:18) n − c

(cid:18) n − d
(cid:19)
(cid:1) + M(cid:0) n−d

k2 − d

k2−d

k2 − c

.

≤ |G| ≤

k1

k1

(cid:1).

k2

2 − ζ)n be such that

(cid:1) and

k1

(9)

(cid:19)

***
Lemma 2.25. For any ζ,  ∈ (0, 1), there exist s = s(ζ, ), n0 = n0(ζ, ) ∈ N such that the
following holds. Let n ≥ n0, let 0 ≤ k1, k2 ≤ ( 1
intersecting, and suppose that µ (G) ≥ . Then there exists S ⊂ [n] such that |S| ≤ s and

2 − ζ)n, let F ⊂ (cid:0)[n]

k2

(cid:1), G ⊂ (cid:0)[n]

(cid:1) be cross-

k1

µ(cid:0)F ∅

(cid:1) < 

S

2 .

***

Claim 2.26. µq

(cid:0)(F↑)

(cid:1) < 

4 .

∅
J

***
Lemma 3.1. [Bootstrapping Lemma] Let t ∈ N and let ζ > 0. Then there exists C = C(t, ζ) > 0
such that the following holds. Let ζ ≤ p ≤ 1/2 − ζ, let  > 0, let F ⊂ P([n]) be a t-intersecting
family, and let G ∈ E. If

µp (F ∩ G) ≥ µp (G) (1 − ) ,

then

µp (F\G) ≤ Clog1−p p.

***
Corollary 3.2. Let t ∈ N and ζ > 0. There exist positive constants ˜C, c, 0 depending only on
ζ and t, such that for any t-intersecting family F ⊂ P([n]) and any p ∈ [ζ, 1/2 − ζ], if

µp (F\E) ≤ c

and

µp (F) ≥ f (n, p, t) (1 − )

for some  ≤ 0, then

µp (F\E) ≤ ˜Clog1−p p.

***
Corollary 3.3. Let t ∈ N and let ζ > 0. Let F ⊂ P([n]) be t-intersecting, and let p ∈ [ζ, 1/2−ζ].
Let c, 0 be as in Corollary 3.2 , and let 1 := min(0, c/f (n, p, t)). Suppose that

µp (F) ≥ f (n, p, t) (1 − 1)

and

µp (F\E) > c.

Let G ⊂ P([n]) be a t-intersecting family with µp (G) > µp (F) which is a (c/2)-small
modiﬁcation of F (i.e., µp (F\G) < c

2 ). Then

µp (G\E) > c.

holds. Let p ∈ (cid:2)ζ, 1

***
Theorem. For any t ∈ N and any ζ > 0, there exists C = C(t, ζ) > 0 such that the following
µp (F) ≥ f (n, p, t) (1 − ), then there exists a family G isomorphic to some Fn,t,r, such that
µp (F\G) ≤ Clog1−p p.

2 − ζ(cid:3), and let  > 0. If F ⊂ P([n]) is a t-intersecting family such that

***
Proposition 3.4. [Weak stability theorem] Let t ∈ N and ζ,  > 0. There exist C = C (t, ζ) > 0
and n0 (t, ζ, ) ∈ N such that the following holds for all n > n0, all k ∈ [ζn, (1/2 − ζ)n] ∩ N and
p = k+

(cid:1) be a t-intersecting family that satisﬁes |F| ≥ f (n, k, t) − (cid:0)n
(cid:1).
(cid:1), where r ≤ C.

. Let F ⊂ (cid:0)[n]

k

k

√

Then there exists G isomorphic to some Fn,k,t,r such that |F\G| ≤ Clog1−p p(cid:0)n

4n log n
n

k

***

Theorem. Let n, t, d ∈ N, ζ ∈ (0, 1/2), and k ∈(cid:0)ζn,(cid:0) 1
such the following holds. Let F ⊂(cid:0)[n]
Then there exists G isomorphic to some Fn,k,t,r such that |F\G| < C(cid:0)n−d

2 − ζ(cid:1) n(cid:1). There exists C = C (t, ζ) > 0
(cid:0)n−d
(cid:1).
(cid:1) be a t-intersecting family with |F| > f (n, k, t)− 1
(cid:1), where r ≤ C.

k−d

k

C

k

***
Lemma 4.1. Let Ω be a ﬁnite probability space, let X : Ω → R≥0 be a nonnegative random
variable, and let f : R≥0 → R be the convex function deﬁned by

(cid:40)

x log x x > 0
0
x = 0,

f (x) :=

and let β ∈ (0, 1). Then

E (f (X)) ≥ f (E (X)) + (1 − β + f (β)) Pr [X ≤ βE (X)] E (X) .

***
Corollary 4.2. Let f be the function in Lemma 4.1 . For each λ, δ ∈ (0, 1) and C > 0, there
exists η = η (λ, δ, C) > 0 such that the following holds. Let Ω be ﬁnite probability space, and
suppose that Pr(ω) ≥ λ for all ω ∈ Ω. Let X : Ω → R≥0 be a nonnegative random variable such
that E[X] ≤ C and

E [f (X)] < f (E[X]) + η.

Then

(cid:107)X − E[X](cid:107)∞ < δ.

***
Deﬁnition. [The (n, k, J)-biased distribution] For each J ⊂ [n], we deﬁne the (n, k, J)-biased
distribution on P (J) by

where A ∼(cid:0)[n]
For F ⊂(cid:0)[n]
function φ : P(cid:16)(cid:0)[n]

k

k

k

according this distribution.

[A ∩ J = B]

∀B ⊂ J,

µ(n,k,J) (B) = Pr
A∼([n]
k )

(cid:1) denotes a uniform random element of(cid:0)[n]
(cid:1) and J ⊂ [n], we deﬁne αB

J := µ(cid:0)F B

(cid:1). We write B ∼ µ(n,k,J) if B is chosen
(cid:1) for each B ⊂ J. We deﬁne our potential

k

J

(cid:1)(cid:17) × P([n]) by

φ (F, J) =

E

B∼µ(n,k,J)

αB
J log αB
J

∀F ⊂

(cid:18)[n]
(cid:19)

k

, J ⊂ [n].

***

Deﬁnition. We say that a family F ⊂(cid:0)[n]

for all sets J ⊂ [n] with |J| ≤ h.

k

(cid:1) is (η, h)-potentially stable if φ (F, J) < φ (F, ∅) + η

***

Deﬁnition. If η > 0 and h ∈ N, we say that a family F ⊂(cid:0)[n]

for any J ⊂ [n] with |J| ≤ h, and any B ⊂ J, we have |µ(F B

(cid:1) is (δ, h)-slice-quasirandom if

k

J ) − µ(F)| < δ.

such that the following holds. Let n ≥ n0, let ζn ≤ k ≤ (1 − ζ) n, and let F ⊂ (cid:0)[n]

***
Lemma 4.3. For any ζ, δ > 0, h ∈ N there exist η = η (δ, h, ζ) > 0 and n0 = n0 (ζ, h) ∈ N
(η, h)-potentially stable. Then F is (δ, h)-slice-quasirandom.

(cid:1) be

k

***
Claim 4.4. For each S ⊂ [n], we either have µ (F\(cid:104)GS(cid:105)) < , or else there exists a set S(cid:48) ⊃ S
with |S(cid:48)| ≤ h2|S| + |S|, such that

φ(cid:0)F, S(cid:48)(cid:1) ≥ φ (F, S) + η/2.

***

Remark 4.1. We note that there is no general ‘counting lemma’ for (η, h)-slice-quasirandom
families, for hypergraphs with a bounded number of edges — unsurprisingly perhaps, given
the relative weakness of the constraint. To see this, let n be even, let k = n/2, and consider
a random family F produced by including exactly one of S and [n] \ S (with probability 1/2
2 , and F
contains no copy of the hypergraph consisting of two disjoint edges. Moreover, for any J ⊂ [n]
and any B ⊂ J, |F B

each), independently at random for each pair {S, [n] \ S} ⊂(cid:0) [n]
(cid:18)n − |J|

(cid:1). Clearly, µ(F) = 1
(cid:19)(cid:19)

(cid:1), 1/2), and therefore by a Chernoﬀ bound,

(cid:18)

J | ∼ Bin((cid:0)n−|J|

k−|B|

n/2

Pr[|µ(F B

J ) − 1/2| ≥ η] < 2 exp

− 2
3

η2

k − |B|

.

Hence, using a union bound, the probability that there exists J ⊂ [n] with |J| ≤ h and B ⊂ J
such that |µ(F B

J ) − 1/2| ≥ η is at most
(cid:19)(cid:19)

(cid:18)n − |J|

(cid:18)

− 2
3

η2

k − |B|

2 exp

≤ 2 · 2h ·

(cid:32) h(cid:88)

(cid:19)(cid:33)

(cid:18)n

i

i=1

(cid:18)

exp

− 2
3

(cid:19)(cid:19)

(cid:18) n − h

n/2 − h

(cid:88)

(cid:88)

J⊂[n]:
|J|≤h

B⊂J

as n → ∞ for any ﬁxed η and h. Therefore, F is (η, h)-slice-quasirandom with high probability.

= o(1),

***
Lemma 4.5. For any , ζ ∈ (0, 1) and any t ∈ N, there exist η = η() > 0, h0 = h0(, ζ, t) ∈ N

and n0 = n0(, ζ, t) ∈ N such that the following holds. Let t − 1 ≤ k1, k2 ≤(cid:0) 1
A ⊂(cid:0)[n]

2 − ζ(cid:1) n, and let
(cid:1) be (/5, h0)-slice-quasirandom families, with µ(A) ≥  and µ(B) ≥ . Then

(cid:1), B ⊂(cid:0)[n]

there exist A ∈ A and B ∈ B such that |A ∩ B| = t − 1. (We may take η = /5.)

k1

k2

***
Theorem 5.1. For any , ζ > 0 and t ∈ N there exists j = j(t, ζ, ) ∈ N and n1 = n1(t, ζ, ) ∈ N
no two sets in F have intersection of size t − 1. Then there exists a t-intersecting j-junta J

such that the following holds. Let n ≥ n1, let ζn ≤ k ≤(cid:0) 1
such that |F\J | < (cid:0)n
(cid:1).

(cid:1) such that

2 − ζ(cid:1) n, and let F ⊂(cid:0)[n]

k

k

***
Theorem 5.2. For any , ζ > 0 and any t ∈ N, there exists δ > 0 and n0 ∈ N such that the
following holds. Let n ≥ n0, let ζn ≤ k ≤ ( 1

2 − ζ)n, and let A ⊂(cid:0)[n]

contain two sets whose intersection is of size t − 1. If |A| ≥ f (n, k, t) − δ(cid:0)n
a Frankl family F ⊂(cid:0)[n]

(cid:1) be a family that does not
(cid:1), then there exists
(cid:1) such that µ (A\F) < . Moreover, F can be taken to be a j-junta,

k

where j = j(t, ζ) ∈ N.

k

k

***
Lemma 5.3. For any ζ > 0 and any j, t ∈ N, there exist 0 = 0(t, ζ, j) > 0 and n0 =

2 − ζ(cid:1) n. Let
n0(t, ζ, j) ∈ N such that the following holds. Let n ≥ n0, and let ζn ≤ k ≤ (cid:0) 1
(cid:1) be a family not containing a pair of sets whose intersection is of size t − 1. Let
F ⊂ (cid:0)[n]
(cid:1) > 1 − 0
(cid:1), and let G ⊂ P (J) be a maximal t-intersecting family. Suppose that µ(cid:0)F B
J ∈(cid:0)[n]

k

j

for any B ∈ G. Then µ (F) ≤ µ ((cid:104)G(cid:105)), with equality only if F = (cid:104)G(cid:105).

J

***

Claim 5.4. There exists c = c (t, ζ, j) > 1 such that δ = Ot,ζ,j (c).

