***
Problem 1.1. Given a hypergraph H âŠ†

family in [n]
k .

V
k



, determine the value ex (n, H) of the largest H-free

***
Definition 1.2. A hypergraph is said to be (h, d)-expanded if it has at most h edges and the
intersection of each two of its edges is of size at most d.

***
Definition 1.3. Let H be a hypergraph. The k-expansion of H is the k-uniform hypergraph H+
obtained from H by enlarging each of its edges with distinct new vertices. We denote by exk (n, H+ )

the problem of determining the largest size of a family F âŠ† [n]
free of the k-expansion of H.
k

***

Definition 1.4. A family F âŠ† [n]
is said to depend on the set of coordinates J if for each sets
k

[n]
A, B âˆˆ k that satisfy A âˆ© J = B âˆ© J we have A âˆˆ F â‡â‡’ B âˆˆ F. A family F is said to be a
j-junta if it depends on a set J of size at most j. We say that a family F1 is -essentially contained
in F2 if
 
n
|F1 \F2 | â‰¤ 
.
k

***
Theorem 1.5. [Dinurâ€“Friedgut [15]] For each r âˆˆ N, there exist C > 0, j âˆˆ N, such that any
r

intersecting family F âŠ† [n]
is C nk -essentially contained in an intersecting j-junta.
k

***
Theorem 1.6. [[43]] For each  > 0, h, d âˆˆ N, there exist C > 0, j âˆˆ N, such that the following
n
holds. Let C < k < C
, and let H be a k-uniform (h, d)-expanded hypergraph. Then any H-free family

[n]
F âŠ† k is -essentially contained in an H-free j-junta.

***
Theorem 1.7. For
 each  > 0, d, h âˆˆ N, there exists j > 0, such that the following holds. Let
n â‰¤ k â‰¤ h1 âˆ’  n, and let H be an (h, d)-expanded hypergraph. Then any H-free F âŠ† [n]
is
k
-essentially contained in an H-free j-junta.

***
Definition 1.8. Let H be a hypergraph and let v be a vertex of H. The resolution of H at v, denoted
by res (H, v), is the hypergraph obtained from H by taking v out of each edge of H that contains v,
and by replacing it with a new vertex that belongs only to this edge. The resolution of H at a set of
vertices S, denoted by res (H, S), is the hypergraph obtained by resolving H at the vertices of S one
after the other. Any hypergraph of the form res (H, S) will be called a resolution of H.

***
Example 1.9. Any hypergraph H is a resolution of itself since res (H, âˆ…) = H. Defining the center
of a hypergraph H to be the set of its vertices that belong to at least two of its edges, the k-uniform
h-matching Mh := Mh+ is the resolution of any k-uniform hypergraph with h edges at its center.
Another simple example is the hypergraph I2,d : its resolutions are the hypergraphs of the form I2,d0
for d0 â‰¤ d.

***
Definition 1.10. Let Î´ > 0 and let H be a k-uniform hypergraph. We say that a family F âŠ†

is Î´-almost H-free if a random copy of H in [n]
lies within F with probability at most Î´.
k

[n]
k



***
Theorem 1.11.
 For each h, d âˆˆ N,  > 0 there exists C, Î´ > 0 such that the following holds. Let
C â‰¤ k â‰¤ h1 âˆ’  n, and let H be a k-uniform (h, d)-expanded hypergraph, then we have the following.
(1) If the family F is Î´-almost H-free, then F is -essentially contained in an Mh -free family.
(2) Conversely, if the family F is Î´-essentially contained in an Mh -free family, then F is -almost
H-free.

***
Example 1.12. The star

n
Aâˆˆ

[n]
n/3



: 1âˆˆA

o

is o (1)-almost free of the hypergraph I2,1 , which

consists of two edges that intersect in a singleton {i}. Indeed, the probability that a random copy of
this hypergraph lies in the star is n1 , as it is the probability that a random injection from the vertices
of I2,1 to [n] sends the vertex i to 1. As Theorem 1.11 guarantees, the star is o (1)-essentially
contained in an M2 -free family as it is in itself M2 -free. However, the star is not o (1)-essentially
contained in any family free of the hypergraph I2,1 .
More generally, suppose that G is a j-junta depending on a set J and that H is an (h, d)-expanded
hypergraph. Then the center of a random copy of H most likely does not intersect J. So from the
â€˜point of viewâ€™ of the junta G, a random copy of H and a random copy of Mh look the same. It is
therefore easy to see that
Pr [a random copy of H lies in G] = Pr [a random copy of Mh lies in G] + o (1) .

***
Theorem 1.13. For each h, d, s âˆˆ N,  > 0 there exist Î´ > 0,j âˆˆ N, such that the following holds.
Let H be an (h, d)-expanded hypergraph. Let 1Î´ â‰¤ k â‰¤ h1 âˆ’  n, and let F be a nÎ´s -almost H-free
family. Then F is -essentially contained in an (H, s)-free j-junta.

***
Proposition 1.14. For each h, c, j, s âˆˆ N, there exists a constant C > 0, such that the
 following
holds. Let H be a hypergraph with h edges whose center is of size c. Let C â‰¤ k â‰¤ h1 âˆ’  n, and let
C
J be an (H, s)-free j-junta. Then J is ns+1
-almost H-free.

***
n

Problem 2.1. Which monotone Boolean functions f : {0, 1} â†’ {0, 1} exhibit a coarse threshold?

***
Theorem 2.2. [Friedgutâ€“Kalai] For each  > 0 there exists n0 = n0 () such that the following
n
holds. Let n > n0 and let f : {0, 1} â†’ {0, 1} be a monotone transitive symmetric function satisfying
 < pc (f ) < 1 âˆ’ . Then f exhibits an -sharp threshold.

***
Theorem 2.3. [Corollary of Friedgutâ€™s Junta Theorem] For each  > 0, there exists j âˆˆ N, such
n
that the following holds. Let f : {0, 1} â†’ {0, 1} be a Boolean function, and let q, p be numbers in
the interval (0, 1) that satisfy p > q + . Then there exists some r in the interval [q, p] , such that f
is (Âµr , )-close to a j-junta.

***
Definition 2.4. Let q < p. The (q, p)-biased distribution, denoted by D (q, p), is the unique
n
n
probability distribution on elements (x, y) âˆˆ {0, 1} Ã— {0, 1} that satisfies the following.
(1) The pairs (xi , yi ) are independent random variables.
(2) We have xi â‰¤ yi with probability 1.
(3) We have Pr [xi = 1] = q and Pr [yi = 1] = p.
We write x, y âˆ¼ D (q, p) to denote that they are chosen according to this distribution. We say that
n
f : {0, 1} â†’ {0, 1} is (q, p, Î´)-almost monotone if
Pr
x,yâˆ¼D(q,p)

[f (x) > f (y)] < Î´.

***
Theorem 2.5. For each  > 0, there exists j âˆˆ N, Î´ > 0, such that the following holds. Let p, q be
n
numbers in the interval (, 1 âˆ’ ) that satisfy pâˆ’q >  and let f : {0, 1} â†’ {0, 1} be a (q, p, Î´)-almost
monotone function. Then there exists a monotone j-junta g, such that
Pr [f (x) > g (x)] <  and Pr [f (x) < g (x)] < .

xâˆ¼Âµq

xâˆ¼Âµp

***
Example 2.6. Fix some numbers q, p in
{0, 1} be the function defined by
ï£±
ï£´
ï£²1
f (x) = 1
ï£´
ï£³
0

n

the interval (0, 1) that satisfy q < p. Let fn : {0, 1} â†’
Pn
xi > qn
x1 = 1, and
Pni=2
x1 = 0, and
i=2 xi > pn .
Otherwise

The Central Limit Theorem implies that
q
(1 + p)
Âµq (f ) = + o (1) and Âµp (f ) =
+ o (1) .
2
2
Since both Âµq (f ) and Âµp (f ) are bounded away from 0 and 1, we obtain that f has an -coarse
threshold
for some constant  independent of n. On the other hand, it is easy to see that f is not


Âµp , (1âˆ’p)
-close to an O (1)-junta and is not (Âµq , q (1 âˆ’ q))-close to an O (1)-junta, provided that n
4
is sufficiently large. However, if we take g to be the dictator function defined by g (x) = x1 , then we
have
Pr [f (x) > g (x)] = o (1) and Pr [f (x) < g (x)] = o (1) ,
xâˆ¼Âµq

as Theorem 2.5 guarantees.

xâˆ¼Âµp

***
n

Definition 2.7. A function f : {0, 1} â†’ [0, 1] is said to be (r, , Âµp )-regular if
|Âµp (fJâ†’y ) âˆ’ Âµp (f )| < 
J

for each set J âŠ† [n] of size at most r and each y âˆˆ {0, 1} .

***
Theorem 2.8. For each  > 0, there exists Î´ > 0, such that the following holds. Let q, p âˆˆ (, 1 âˆ’ )
n
and suppose that p > q + . Let f, g : {0, 1} â†’ [0, 1]. Suppose that
and that the function f is

1
Î´

E(x,y)âˆ¼D(q,p) [(1 âˆ’ g (y)) f (x)] < Î´,

, Î´, Âµq -regular. Then either Âµq (f ) < , or Âµp (g) > 1 âˆ’ .

***
Remark 2.9. While Theorem 2.8 is more general than the Friedgutâ€“Kalai Theorem, we remark that
the Friedgutâ€“Kalai Theorem is better in the quantitative aspects that we have not addressed. We
would also like to remark that the proof of Theorem 2.5 is very different than the standard proofs
of Theorems 2.2 and 2.3 . While the traditional proofs are based on the hypercontractivity theorem
of Bonami, Gross, and Beckner [8, 38, 5] and on Russoâ€™s Lemma [55], our proof of Theorem 2.8 is
based instead on the invariance principle of Oâ€™Donnell, Mossel, and Oleszkiewicz [50].

***
Definition 3.1. Let i âˆˆ [n]. The Fourier character corresponding to the singleton {i} is the function
n
Ï‡pi âˆˆ L2 ({0, 1} , Âµp ) defined by the formula
ï£± q
ï£²âˆ’ 1âˆ’p xi = 1
p
Ï‡pi (x) := q p
.
ï£³
xi = 0
1âˆ’p
More generally, let Q
S be a subset of [n]. The Fourier character corresponding to the set S âŠ† [n] is
the function Ï‡pS := iâˆˆS Ï‡pi .

***
n

Fact 3.2. Let f âˆˆ L2 ({0, 1} , Âµp ) be a function that has the Fourier expansion
X
f=
fË† (S) Ï‡pS .
SâŠ†[n]

Then
AT [f ] =

X
SâŠ†[n]\T

fË† (S) Ï‡pS

***
n

Definition 3.3. The p-biased ith influence of a function f : {0, 1} â†’ R whose Fourier expansion
P
is SâŠ†[n] fË† (S) Ï‡pS is defined by setting
h
2 i X
2
(3.1)
Inf pi [f ] = E f âˆ’ A{i} [f ]
=
fË† (S) .
S3i

***
n

Definition 3.4. Given x âˆˆ {0, 1} the (Ï, p)-noisy distribution of x denoted by NÏ,p (x) is a
n
probability distribution on elements y âˆˆ {0, 1} , where we set each coordinate yi independently
to be xi with probability Ï, and to a new p-biased element of {0, 1} with probability 1 âˆ’ Ï.
n
The noise operator TÏ,p on the space L2 ({0, 1} , Âµp ) is the operator that associates to each f âˆˆ
n
2
L ({0, 1} , Âµp ) the function
TÏ,p [f ] :=
E
[f (y)] .
yâˆ¼NÏ,p (x)

***
Fact 3.5. Let Ï, p âˆˆ (0, 1), and let
X

f=

fË† (S) Ï‡pS

SâŠ†[n]
n

be a function in L2 ({0, 1} , Âµp ). Then
TÏ,p [f ] =

X
SâŠ†[n]

Ï|S| fË† (S) Ï‡pS .

***
Lemma 3.6. Let p > q, and set Ï =

q

q(1âˆ’p)
p(1âˆ’q) .

Let f =

P

SâŠ†[n]

fË† (S) Ï‡qS be a function in

n

L2 ({0, 1} , Âµq ). Then Tqâ†’p (f ) has the p-biased Fourier expansion:
X
Tqâ†’p (f ) =
Ï|S| fË† (S) Ï‡pS .
SâŠ†[n]
p
SâŠ†[n] gÌ‚ (S) Ï‡S

P

Similarly, if g =
q-biased Fourier expansion

n

is a function in L2 ({0, 1} , Âµp ), then the function Tpâ†’q (g) has the
Tpâ†’q (g) =

X
SâŠ†[n]

Ï|S| gÌ‚ (S) Ï‡qS .

***
n

Claim 3.7. Let x, y be elements of {0, 1} , let p > q âˆˆ (0, 1) , and let Ï =
(3.4)

Ex,yâˆ¼D(q,p)| y=y [Ï‡qi (xi )] = ÏÏ‡pi (yi ) ,

and
(3.5)

Ex,yâˆ¼D(q,p)| x=x [Ï‡pi (yi )] = ÏÏ‡qi (xi ) .

q

q(1âˆ’p)
p(1âˆ’q) .

Then

***

p
n
Example 3.8. Let f : {0, 1} â†’ [0, 1] be a transitive symmetric function. Then f is r, nr , Âµp 
Fourier regular for any r and p. Indeed, let S âˆˆ [n]
r , then the fact that f is transitive symmetric
implies that there exist distinct r-subsets of [n], S1 , . . . , Sd n e , such that fË† (Si ) = fË† (S) for each i.
r
By Parsevalâ€™s identity, we have
n
dX
re

lnm
2
2
fË† (Si ) =
fË† (S) .
r
i=1

pr
r
After rearranging, we obtain that f is r, 2
n , Âµp -Fourier regular, so it is in fact (r, Î´, Âµp )-Fourier
r
regular, provided that n > 4Î´2 .
1â‰¥

kf k2Âµp

â‰¥

***
n

Definition 3.9. Let Î´ > 0, Ï, p âˆˆ [0, 1] . A function f : {0, 1} â†’ R is said to have (Ï, Î´, Âµp )-small
(Ï,p)
noisy influences if Inf i
[f ] < Î´ for every i âˆˆ [n] .

***
Theorem 3.10. For each  > 0 there exists j âˆˆ N such that the following holds. Let p âˆˆ (, 1 âˆ’ )
and let f âˆˆ L2 
({0, 1} , Âµp ) 
be a function. Then there exists a set J of size at most j, such that if
J

we choose x âˆ¼ {0, 1} , Âµp , then the functions fJâ†’x has (1 âˆ’ , , Âµp )-small noisy influences with
probability at least 1 âˆ’ .

***
Remark 3.11. Jones [40] proved Theorem 3.10 only for the case where p = 12 . However, as in most
of the results in the area, their proof can be extended verbatim to the p-biased distribution, for any
p bounded away from 0 and 1.

***
Theorem 3.12. [ [17, Theorem 1.7]] For each Î´,  > 0, there exists j âˆˆ N, such that the following

holds. Let Î´ < nk < 1 âˆ’ Î´, and let F âŠ† [n]
be a family. Then there exists a set J of size at most j
k
and a family G âŠ† P (J), such that:
(1) We have Âµ (F \ hGi) < .
  

(2) For each B âˆˆ G the family FJB is 1Î´ , Î´ -regular and Âµ FJB > 2 .

***
Definition 3.13. Let Ï âˆˆ (0, 1), and let x âˆˆ Rn , the Ï-noisy distribution of x ispthe distribution
NÏ,Î³ (x), where we choose y by setting each coordinate yi independently to be Ïxi + 1 âˆ’ Ï2 zi , where
z is a new independent Î³-distributed element of R. The noise operator TÏ on the space L2 (Rn , Î³) is
the operator that associates to each f âˆˆ L2 (Rn , Î³) the function
TÏ [f ] (x) :=

E

yâˆ¼NÏ,Î³ (x)

[f (y)] .

***
Remark 3.14. The analogy between the distribution NÏ,p , and NÏ,Î³ stems from the fact if we choose
x âˆ¼ Î³, and y âˆ¼ NÏ,Î³ (x) , then we have the following properties.
â€¢ x, y âˆ¼ Î³.
â€¢ âˆ€i : E [xi yi ] = Ï.
â€¢ The R2 -valued random variables(xi , yi ) are independent of each other.
These properties are similarly satisfied when we choose x âˆ¼Âµp and then choose y âˆ¼ NÏ,p (x) .

***
Theorem 3.15. [Borell 1985] Let f, g âˆˆ L2 (Rn , Î³) be two [0, 1]-valued functions. Then

 


hTÏ [f ] , gi â‰¤ TÏ FE[f ] , FE[g] .

***
Lemma 3.16. For each  > 0, there exists Î´ > 0, such that the following holds. Let Âµ âˆˆ (, 1) and
let Ï, Î½ âˆˆ (0, 1 âˆ’ ). Then
Î›Ï (Âµ, Î½) â‰¤ Âµ âˆ’ Î´.

***
Lemma 3.17. [[49, Lemma 2.5]] Let Ï1 < Ï2 . Then
|Î›Ï1 (Âµ, Î½) âˆ’ Î›Ï2 (Âµ, Î½)| â‰¤

10 (Ï2 âˆ’ Ï1 )
.
1 âˆ’ Ï2

***
Fact 3.18. Let f =

P

SâŠ†[n]

ai

Q

iâˆˆS

zi be a multilinear polynomial. Then
X
Y
TÏ [f ] =
ai Ï|S|
zi .
SâŠ†[n]

iâˆˆS

***
n

Definition 3.19. Let f âˆˆ L2 ({0, 1} , Âµp ) be some function with Fourier expansion
X
f=
fË† (S) Ï‡pS .
SâŠ†[n]

We let the Gaussian analogue of it be the multilinear polynomial fËœ âˆˆ L2 (Rn , Î³) defined by
X
Y
fËœ (z) =
fË† (S)
zi .
SâŠ†[n]

iâˆˆS

***
Corollary 3.20. [Corollary of the invariance principle] For each , Î· > 0, there exists Î´ > 0, such
n
that the following holds. Let p âˆˆ (, 1 âˆ’ ), let f : {0, 1} â†’ [0, 1] be a function, and suppose that f
is (Î´, 1 âˆ’ Î·, Âµp )-smooth. Then
 
kfËœ âˆ’ Chop fËœ k < .

***
Proposition 4.1. For each  > 0, there exists Î´ > 0, such that the following holds. Let Ï âˆˆ (0, 1 âˆ’ ) ,
n
and suppose that p âˆ’ q > . Let f, g : {0, 1} â†’ [0, 1] be some functions, and suppose that
n
o
(1âˆ’Î´,q)
(1âˆ’Î´,q)
max min Inf i
[f ] , Inf i
[g] < Î´.
iâˆˆ[n]

Then
(4.1)

X
SâŠ†[n]

Ï|S| fË† (S) gÌ‚ (S) < Î›Ï (Âµq (f ) , Âµp (g)) + .

***
Lemma 4.2. For each  > 0, there exists Î´ > 0 such that the following holds. Let q, p âˆˆ (, 1 âˆ’ ),
P
PË†
f (S) Ï‡qS be a (Î´, 1 âˆ’ , Âµq )-smooth function, and let g =
gÌ‚ (S) Ï‡pS be a
let Ï âˆˆ (0, 1) , let f =
(Î´, 1 âˆ’ , Âµp )-smooth function. Then
X
Ï|S| fË† (S) gÌ‚ (S) < Î›Ï (Âµq (f ) , Âµp (g)) + .
SâŠ†[n]

***
Claim 4.3. Provided that Î´ is sufficiently small we have 1 < /2.

***
Claim 4.4. Provided that Î´ is sufficiently small,
 h iwe have 2 < /2.
Choose X âˆ¼ (R, Î³) , Y âˆ¼ NÏ (X) . Then Î›Ï E fËœ , E [gÌƒ] is the probability of the event X < t1 , Y <
 h
 i

t2 for the proper values of t1 , t2 . Similarly, Î›Ï E Chop fËœ , E [Chop (gÌƒ)] is the probability of the
event X < t3 , Y < t4 for the proper values of t3 , t4 . These events differ either if X is in the interval
whose endpoints
3 or
 are
h t1 , t
iif Y ish inithe interval whose endpoints are t2 , t4 . The Probability of the


Ëœ
former event is E Chop f âˆ’ E fËœ , and the probability of the latter event is |E [Chop (gÌƒ)]âˆ’E [gÌƒ] |.
Therefore, a union bound implies that:
  h i

 h
 i



2 = Î›Ï E fËœ , E [gÌƒ] âˆ’ Î›Ï E Chop fËœ , E [Chop (gÌƒ)] 
 h
 i
h i


â‰¤ E Chop fËœ âˆ’ E fËœ  + |E [Chop (gÌƒ)] âˆ’ E [gÌƒ] |
 

(By Cauchy-Schwarz and (??)) â‰¤ kChop fËœ âˆ’ fËœk + kChop (gÌƒ) âˆ’ gÌƒk < .
2

***
Lemma 4.5. For each  > 0, there exists Î´ > 0 such that the following holds. Let q, p âˆˆ (, 1 âˆ’ ),
PË†
let Ï âˆˆ (0, 1), let f =
f (S) Ï‡qS be a function and suppose that
n
o
(1âˆ’Î´,q)
(1âˆ’Î´,p)
max max Inf i
[f ] , Inf i
[g] < Î´.
iâˆˆ[n]

Then
X
SâŠ†[n]

Ï|S| fË† (S) gÌ‚ (S) < Î›Ï (Âµq (f ) , Âµp (g)) + .

***
Theorem. For each  > 0, there exists j âˆˆ N, Î´ > 0, such that the following holds. Let p, q be
n
numbers in the interval (, 1 âˆ’ ) that satisfy p âˆ’ q >  and let f : {0, 1} â†’ {0, 1} be a (q, p, Î´)almost monotone function. Then there exists a monotone j-junta g, such that
Pr [f (x) > g (x)] <  and Pr [f (x) < g (x)] < .

xâˆ¼Âµq

xâˆ¼Âµp

***
Lemma 5.1. For each  > 0, j âˆˆ N there exists Î´ > 0, such that the following holds. Let
n
f, g : {0, 1} â†’ [0, 1] be functions, let J be a set of size at most j, and let p, q âˆˆ (, 1 âˆ’ ), be
J
with p âˆ’ q > . Suppose that hTqâ†’p f, 1 âˆ’ gi < Î´, and let x, y âˆˆ {0, 1} be with âˆ€i : xi â‰¤ yi . Suppose
additionally that fJâ†’x has (1 âˆ’ , , Âµq )-small noisy influences. Then we either have Âµq (fJâ†’x ) < 
or we have Âµp (gJâ†’y ) > 1 âˆ’ .

***
Theorem. For each  > 0, there exists Î´ > 0, such that the following holds. Let q, p âˆˆ (, 1 âˆ’ ) and
n
suppose that p > q + . Let f, g : {0, 1} â†’ [0, 1], and suppose that
and that the function f is

1
Î´

Ex,yâˆ¼D(q,p) [(1 âˆ’ g (y)) f (x)] < Î´,

, Î´, Âµq -regular. Then either Âµq (f ) < , or Âµp (g) > 1 âˆ’ .

***
Theorem 6.1. For each h âˆˆ N,  > 0, there exists Î´ > 0, such that the following holds. Let
[n]
measure is at least
k1 , . . . , kh â‰¤ 1s âˆ’  n, and let F1 âŠ† [n]
k1 , . . . , Fh âŠ† kh be families whose
 
1
. Suppose that for each i âˆˆ [n], such that ki â‰¥ Î´n the family Fi is Î´ , Î´ -regular, and choose
uniformly at random a matching {A1 , . . . , Ah } , such that
 
 
[n]
[n]
A1 âˆˆ
, . . . , Ah âˆˆ
.
k1
kh
Then
Pr [A1 âˆˆ F1 , . . . , Ah âˆˆ Fh ] > Î´.

***
Definition 6.2. Let F âŠ†

[n]
k



, we associate to F the function fF defined by
(
0
|x| < k
fF (x) =
.
PrAâˆ¼(x) [A âˆˆ F] |x| â‰¥ k
k

***
n

Definition 6.3. Given a function f : {0, 1} â†’ R, and a Î´ âˆˆ R, we define the function CutÎ´ (f ) by
setting:
(
1 if f (x) â‰¥ Î´
CutÎ´ (f ) (x) =
.
0 if f (x) < Î´

***
Definition 6.4. Let p âˆˆ (0, 1) , and let k âˆˆ [n] .
n
â€¢ We write Âµâ‰¥k
for the conditional probability distribution on x âˆ¼ ({0, 1} , Âµp ) given that
p
<k
â‰¤k
|x| â‰¥ k. (The distributions Âµ>k
p , Âµp , Âµp are defined accordingly.)

â‰¥k
â€¢ We write Âµp , J â†’ B for the conditional distribution on sets A âˆ¼ Âµâ‰¥k
p given that A âˆ© J =
 

[n]
B. The distributions (Âµp , J â†’ B) , k , J â†’ B are defined accordingly.

***
Definition 6.5. Choose uniformly and independently [0, 1]-valued random variables X1 , . . ., Xn . For
j
each i âˆˆ {1, . . . , h} we let Bi be the set of all j âˆˆ [n] , such that Xj is in the interval jâˆ’1
h , h . We call
1
n
the sets (B1 , . . . , Bh ) a random h -biased matching. Let k â‰¤ h we call the conditional
 distribution on
1
1
a random h -biased
matching (B1 , . . . , Bh ) given that |Bi | â‰¥ k for each i a h , k -biased matching.

Given a h1 , k -biased matching (B1 , . . . , Bh ), we obtain that B1 is distributed according to some
matching
.
distribution that we denote by Âµ 1 ,k
h

***
Lemma 6.6. For each  > 0, there exists n0 > 0,
 such that the following holds. Let n > n0 , let
q âˆˆ (0, 1) , k â‰¤ n satisfy q â‰¥ nk + , and let F âŠ† [n]
be some family. Then
k
(6.1)

Âµq (fF ) â‰¤ Âµ (F) â‰¤ Âµq (fF ) (1 + ) .

***
Lemma 6.7. For each  > 0 there exists n0 , such that the following holds. Let n > n0 , let k â‰¤ n
k
and let q be a number in the interval nk + , 1 , and set Î» = qn
. Then
Âµq ((fF )Jâ†’x ) (1 âˆ’ ) â‰¤

E

Câˆ¼(P(x),ÂµÎ» )

[Âµ (FJâ†’C )] â‰¤ Âµq ((fF )Jâ†’x ) (1 + ) .

***
Lemma 6.8. For each  < 0, there exists n0 , such that the following holds. Let n > n0 , let F âŠ†
1


 
be a 2
, 2 -regular family, and let q â‰¥ nk + . Then the function fF is 1 , , Âµq -regular.

[n]
k



***
Lemma 6.9. For each  > 0, there exists Î´ > 0 such that the following holds. Let


 
and let F âŠ† [n]
be some family. Then the function fF is 1 , , Âµq -regular.
k

k
n

< Î´, let q â‰¥ ,

***
Lemma 6.10. Let Î´ > 0, let p > q >

k
n.

For any F âŠ†

[n]
k



we have

Ex,yâˆ¼D(q,p) [fF (x) (1 âˆ’ CutÎ´ (fF ) (y))] â‰¤ Î´.

***
Lemma 6.11. For each  > 0, there exists Î´ > 0, such that the following holds. Let p â‰¥ nk + , and

let F âŠ† [n]
be some
k 
 family whose measure is at least . Suppose that we either have k â‰¤ Î´n or the
1
family F is Î´ , Î´ -regular. Then
Âµp (CutÎ´ (fF )) > 1 âˆ’ .

***
Corollary 6.12. For each  > 0, h there exists Î´ > 0, such that the following holds. Let nk â‰¤ h1 âˆ’ ,

and let F âŠ† [n]
k besome
 family whose measure is at least . Suppose that we either have k â‰¤ Î´n or
1
the family F is Î´ , Î´ -regular. Then
Âµmathching
(CutÎ´ (fF )) â‰¥ 1 âˆ’ .
1
,k
h

***
Theorem 7.1. For each c, h âˆˆ N,  > 0 there exists Î´ > 0, such
that the following holds. Let

[n]
1
1
n
be
some
numbers,
and
let
A
âˆˆ
be
sets,
such that the hypergraph
â‰¤
k
,
.
.
.
,
k
â‰¤
âˆ’

i
1
h
ki
Î´
h


[n]
H = {A1 , . . . , Ah } has center of size at most c. Let F1 âŠ† k1 , . . . , Fh âŠ† [n]
families of
kh be some
  
measure at least . Suppose that for each i, we either have kni â‰¤ Î´ or the family Fi is 1Î´ , Î´ -regular.


[n]
Choose uniformly at random a copy (A1 , . . . , Ah ) âˆˆ [n]
k1 Ã— Â· Â· Â· Ã— kh of H. Then
Pr [A1 âˆˆ F1 , . . . , Ah âˆˆ Fh ] > Î´.

***
Definition 7.2. A set J is -fair for F if

Âµ FJB â‰¥ (1 âˆ’ ) Âµ (F)
for any B âŠ† J.

***
Proposition 7.3. For each , s > 0, there exists m > 0 such that the following
holds. Let m < k <

[n]
n âˆ’ m, let F âŠ† [n]
be
some
family
of
measure
at
least
,
and
let
J
âˆ¼
.
Then
k
s
Pr [J is -fair for F] â‰¥ 1 âˆ’ .

***
Lemma 8.1. For each h, c, s, j âˆˆ N,  > 0 there exists Î´ > 0, such that the following holds. Let H be
a hypergraph with h edges whose center is of size c, and let G âŠ† P (J). Let 1Î´ â‰¤ k â‰¤ h1 âˆ’  n. Then
the following are equivalent.
(1) The junta hGi is (H, s)-free.
(2) There exists no copy of a trace of H in G, whose center is of size at most s.

***

Lemma 8.2. Let  > 0, s â‰¤ c, h âˆˆ N be some constants. Let n â‰¤ k â‰¤ h1 âˆ’  n, let H be a k-uniform
hypergraph whose center is of size c. Let {A1 , . . . , Ah } be a uniformly random copy of H, let J âŠ† [n]
be some set of size at most 1 , and let {B1 , . . . , Bh } âŠ† P (J) be a trace of H of center of size s. Then
s 
the probability that Ai âˆ© J = Bi for each i is Î˜ n1
.

***
Theorem. For each h, c, , s âˆˆ N, there exists Î´, j > 0, such that the following holds. Let H be a
hypergraph with h edges whose center is of size c. Let


1
1
â‰¤kâ‰¤
âˆ’  n,
Î´
h
and let F be a

Î´
ns -almost

H-free family. Then F is -essentially contained in an (H, s)-free j-junta.

***
Proposition. For each constants h, c, j, s âˆˆ N, there exists a constant C > 0, such that thefollowing
holds. Let H be a hypergraph with h edges whose center is of size c. Let n â‰¤ k â‰¤ n h1 âˆ’  , and let
C
J be some (H, s)-free j-junta. Then J is ns+1
-almost H-free.

***
Theorem.
For each h, d âˆˆ N,  > 0 there exists C, Î´ > 0 such that the following holds. Let C â‰¤ k â‰¤

1
âˆ’

n,
and
let H be a k-uniform (h, d)-expanded hypergraph, then we have the following.
h
(1) If the family F is Î´-almost H-free, then F is -essentially contained in an Mh -free family.
(2) Conversely, if the family F is Î´-essentially contained in an Mh -free family, then F is -almost
H-free.

