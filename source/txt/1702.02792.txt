FREE SUBSHIFTS WITH INVARIANT MEASURES FROM THE LOVÁSZ
LOCAL LEMMA

arXiv:1702.02792v5 [math.DS] 15 Mar 2017

ANTON BERNSHTEYN

Abstract. Gao, Jackson, and Seward [7] proved that every countably inﬁnite group Γ admits
a nonempty free subshift X ⊆ {0, 1}Γ. Furthermore, a theorem of Seward and Tucker-Drob [13]
implies that every countably inﬁnite group Γ admits a free subshift X ⊆ {0, 1}Γ that supports an
invariant probability measure. Aubrun, Barbieri, and Thomassé [3] used the Lovász Local Lemma
to give a short alternative proof of the Gao–Jackson–Seward theorem. Recently, Elek [6] followed
another approach involving the Lovász Local Lemma to obtain a diﬀerent proof of the existence
of free subshifts with invariant probability measures for ﬁnitely generated soﬁc groups. Using the
measurable version of the Lovász Local Lemma for shift actions established by the author in [4],
we give a short alternative proof of the existence of such subshifts for arbitrary groups. Moreover,
we can ﬁnd such subshifts in any nonempty invariant open set.

1. Introduction
All group actions considered in this note are left actions. Let Γ be a countable group. For an
arbitrary set A, the shift action of Γ on AΓ is defined as follows: For all f ∈ AΓ and γ, δ ∈ Γ, let1
(γ · f )(δ) := f (δγ).
Whenever A is a topological space, the shift action of Γ on AΓ is continuous (with respect to the
product topology). A particular case of this is when A is a countable set (assumed to be endowed
with the discrete topology). If A is finite, then a closed subset of AΓ invariant under the shift
action is called a subshift.
It has been a matter of interest to establish which countable groups admit a nonempty subshift
such that the induced action of Γ on it is free (recall that an action Γ y X is free if for all
x ∈ X and for all γ ∈ Γ, γ · x = x implies that γ is the identity element of Γ). Dranishnikov
and Shroeder [5] showed that any torsion-free hyperbolic group admits a free subshift. Shortly
after, Glasner and Uspenskij [9] proved that the same is true for groups that are either Abelian
or residually finite. Finally, Gao, Jackson, and Seward [7, 8] extended this result to all countable
groups, thus completely solving the problem of existence of free subshifts.
Seward and Tucker-Drob [13] further developed the techniques of Gao–Jackson–Seward to establish the following very strong result: Whenever a countably infinite group Γ is acting freely on
a standard Borel space X, there exists an equivariant Borel map f : X → {0, 1}Γ such that the
action of Γ on the closure of f (X) is free. Thus, the closure of f (X) is a nonempty free subshift;
moreover, if the action of Γ on X admits an invariant probability measure, then so does the action of Γ on f (X). This implies that every countable group admits a free subshift supporting an
invariant probability measure.
Department of Mathematics, University of Illinois at Urbana–Champaign, IL, USA, bernsht2@illinois.edu.
This research is supported by the Illinois Distinguished Fellowship.
1There are two ways to deﬁne the shift action: either by multiplying on the right, or by multiplying on the left
with the inverse. The latter one is more common; however, the former one is more convenient for our purposes.
1

2

ANTON BERNSHTEYN

In [3], Aubrun, Barbieri, and Thomassé gave a short alternative proof of the Gao–Jackson–
Seward theorem on the existence of nonempty free subshifts. The key ingredient of their proof
is the Lovász Local Lemma (the LLL for short), an immensely important tool in probabilistic
combinatorics, that is often applied in order to establish the existence of combinatorial objects
(such as colorings) satisfying certain constraints. In a very recent paper [6], Elek used an approach
based on nonrepetitive graph colorings and inspired by the ideas of [1] to obtain a different proof of
the existence of free subshifts with invariant probability measures in the case of finitely generated
sofic groups. Elek’s argument also relies heavily on the LLL. The aim of this note is to use the
measurable version of the LLL for shift actions, established by the author in [4], to “amplify” the
Auburn–Barbieri–Thomassé construction and get a very short alternative proof of the existence
of free subshifts with invariant measures for arbitrary countable groups. Moreover, we show that
such subshifts can be made disjoint from any given proper subshift:
Theorem 1.1. Let Γ be a countably infinite group. If Y ( {0, 1}Γ is a closed invariant proper
subset, then there exists a closed invariant subset X ⊆ {0, 1}Γ \ Y such that the action of Γ on X
is free and admits an invariant probability measure.
2. Proof of Theorem 1.1
2.1. The LLL and the measurable LLL. The general statement of the measurable LLL in [4]
is quite technical; however, we will only need a much simpler version of it. The definitions given
below are special cases of the ones in [4, Sections 1.2 and 5.1].
Let A be a countable set. Let [A]<∞ denote the set of all nonempty finite subsets of A and let
<∞
[A]<∞
. An instance (of the LLL)
{0,1} be the set of all functions ϕ : S → {0, 1}, where S ∈ [A]
<∞
<∞
over A is any subset B ⊆ [A]{0,1} . For S ∈ [A] , let BS := {ϕ ∈ B : dom(ϕ) = S}. The domain
of B is the set dom(B) := {S ∈ [A]<∞ : BS 6= ∅}. A solution for B is a map f : A → {0, 1} such
that for all S ∈ [A]<∞ , we have f |S 6∈ B. The set of all solutions for an instance B is denoted
Sol(B). Note that Sol(B) is a closed subset of {0, 1}A .
An instance B is correct if there is a function p : dom(B) → [0; 1) such that for all S ∈ dom(B),
Y
|BS |
p(S)
(2.1)
(1 − p(S ′ )).
≤
|S|
2
1 − p(S) ′
S ∈dom(B):
S ′ ∩S6=∅

Theorem 2.1 (A corollary of the Lovász Local Lemma; Erdős–Lovász). Let A be a countable
set and let B be a correct instance over A. Then Sol(B) 6= ∅.
See [2, Lemma 5.1.1] for the full statement of the LLL. Theorem 2.1 is a particular case of the
so-called variable version of the LLL (the name is due to Kolipaka and Szegedy [10]), which is
the form in which the LLL is usually applied. It is straightforward to deduce Theorem 2.1 from
the full LLL when the set A is finite (see [4, Corollary 1.7]); the case of infinite A then follows by
compactness. A more general version of Theorem 2.1 for infinite A was proved by Kun [11] using
the Moser–Tardos algorithmic approach to the LLL [12], see [4, Theorem 1.8]. (The Moser–Tardos
method also plays a crucial role in the proof of our measurable LLL.)
From now on, let Γ be a countably infinite group. We define the shift action of Γ on the set
<∞
[Γ]<∞
{0,1} by declaring that for all ϕ ∈ [Γ]{0,1} and γ, δ ∈ Γ, δ ∈ dom(γ · ϕ) if and only if δγ ∈ dom(ϕ),
in which case
(γ · ϕ)(δ) := ϕ(δγ).

FREE SUBSHIFTS WITH INVARIANT MEASURES FROM THE LOVÁSZ LOCAL LEMMA

3

An instance B over Γ is invariant if it is closed under the shift action of Γ on [Γ]<∞
{0,1} . Note that
if B is an invariant instance over Γ, then the set Sol(B) is invariant under the shift action of Γ on
{0, 1}Γ , and hence is a subshift.
Let α : Γ y (X, µ) be a measure-preserving action of Γ on a standard probability space (X, µ).
A measurable solution over α for an invariant instance B is a Borel function f : X ′ → {0, 1},
defined on an invariant µ-conull Borel subset X ′ of X, such that for all x ∈ X ′ , the map
fx : Γ → {0, 1} : γ 7→ f (γ · x)
belongs to Sol(B).
Proposition 2.2. Let B be an invariant instance over Γ and let α : Γ y (X, µ) be a measurepreserving action of Γ on a standard probability space (X, µ). Suppose that B admits a measurable
solution over α. Then the action of Γ on Sol(B) admits an invariant probability measure.
Proof. Let f be a measurable solution for B over α and define a map π : dom(f ) → Sol(B) by
setting π(x) := fx for all x ∈ dom(f ). By definition, π is equivariant, so the pushforward measure
π∗ (µ) is invariant, as desired.

The following is a simplified special case of [4, Lemma 5.17], which, in turn, is a special case of
[4, Theorem 5.4]:
Theorem 2.3 ([4, Lemma 5.17]). Let λ denote the Lebesgue probability measure on [0; 1]. If B
is a correct invariant instance over Γ, then B admits a measurable solution over the shift action
Γ y ([0; 1]Γ , λΓ ).
Corollary 2.4. If B is a correct invariant instance over Γ, then the action of Γ on Sol(B) admits
an invariant probability measure.
Aubrun, Barbieri, and Thomassé [3] constructed a correct invariant instance B over Γ such that
the action of Γ on Sol(B) is free. In conjunction with Corollary 2.4, this implies that Sol(B) is a
free subshift supporting an invariant probability measure. Below we present a modified version of
the Auburn–Barbieri–Thomassé construction that also guarantees that Sol(B) is disjoint from a
given subshift Y .
2.2. Constructing the instance. For ϕ ∈ [Γ]<∞
{0,1} , let
Uϕ := {f ∈ {0, 1}Γ : f | dom(ϕ) = ϕ}.
Suppose that Y ( {0, 1}Γ is a given closed invariant proper subset. Let ψ ∈ [Γ]<∞
{0,1} be such that
Y ∩ Uψ = ∅. Since Y is invariant, Y ∩ γ · Uψ = ∅ for all γ ∈ Γ. Set k := | dom(ψ)|.
Let N be a sufficiently large positive integer (to be determined later). Let D0 be any subset of
Γ of size N such that for all δ, δ ′ ∈ D0 , if δ 6= δ ′ , then dom(ψ)δ ∩ dom(ψ)δ ′ = ∅ (such D0 exists
since Γ is infinite). Let F0 := dom(ψ)D0 and let B0′ denote the set of all functions ϕ : F0 → {0, 1}
such that for all δ ∈ D0 , (δ · ϕ)| dom(ψ) 6= ψ. A direct calculation shows that

N
|B0′ |
1
(2.2)
= 1− k
.
2|F0 |
2
Let B0 := Γ · B0′ . By construction, B0 is an invariant instance over Γ. Moreover, Sol(B0 ) ∩ Y = ∅.
Indeed, suppose that f ∈ Sol(B0 ). In particular, f ∈ Sol(B0′ ), i.e., there is some δ ∈ D0 such that
(δ · f )| dom(ψ) = ψ. This means that f ∈ δ −1 · Uψ , and thus f 6∈ Y .
Let M be another large integer (that will also be determined later) and let (γn )∞
n=1 be an
enumeration of the non-identity elements of Γ (with the numbering starting at 1). For each n ≥ 1,

4

ANTON BERNSHTEYN

fix a subset Dn of Γ of size n + M such that Dn ∩ (Dn γn ) = ∅ (this is again possible since Γ is
infinite). Set Fn := Dn ∪ (Dn γn ) and let Bn′ denote the set of all functions ϕ : Fn → {0, 1} such
that for all δ ∈ Dn , ϕ(δ) = ϕ(δγn ). Another straightforward calculation shows that for all n ≥ 1,
1
|Bn′ |
= n+M .
(2.3)
|F
|
n
2
2
S∞
′
Let Bn := Γ · Bn and B≥1 := n=1 Bn . Again, B≥1 is an invariant instance over Γ, and, moreover,
the action of Γ on Sol(B≥1 ) is free. Indeed, suppose that f : Γ → {0, 1} satisfies γn · f = f for some
n ≥ 1. In other words, for all δ ∈ Γ, f (δ) = (γn · f )(δ) = f (δγn ). This implies that f |Fn ∈ Bn′ ,
i.e., f 6∈ Sol(B≥1 ).
Finally, let B := B0 ∪ B≥1 . Since Sol(B) = Sol(B0 ) ∩ Sol(B≥1 ), we have Sol(B) ∩ Y = ∅ and the
action of Γ on Sol(B) is free. It only remains to show that B is a correct instance. By definition,
we have
∞
∞
[
[
dom(B) =
dom(Bn ) =
{Fn γ : γ ∈ Γ}.
n=0

n=0

Notice that if n ∈ N and S ∈ dom(Bn ), then for each m ∈ N,

|{S ′ ∈ dom(Bm ) : S ′ ∩ S 6= ∅}| ≤ |Fn | · |Fm |.

(2.4)

Indeed, let S =: Fn γ, where γ ∈ Γ. If S ′ = Fm γ ′ and S ′ ∩ S 6= ∅, then there exist some δ ∈ Fn and
δ ′ ∈ Fm such that δγ = δ ′ γ ′ . The choice of δ and δ ′ uniquely determines γ ′ , and thus S ′ , and the
number of such choices is exactly |Fn | · |Fm |.
To verify the correctness of B, we need to find a function p : dom(B) → [0; 1) satisfying (2.1)
for all S ∈ dom(B). To that end, choose any positive real number a < 1 such that

2kN
1
1
b := a · 1 − 2 2
> ,
k N
2

and set

p(S) :=

(

1/k 2 N 2
an+M

if S ∈ dom(B0 );
if S ∈ dom(Bn ) for n ≥ 1.

Due to (2.2), (2.3), and (2.4), inequality (2.1) is satisfied as long as we have

N

k2 N 2 −1 Y
∞
1
1
1
(2.5)
1− k
≤ 2 2 · 1− 2 2
·
(1 − am+M )2(m+M )kN ,
2
k N
k N
m=1

and for all n ≥ 1,
(2.6)

1
2n+M


2(n+M )kN Y
∞
an+M
1
≤
· 1− 2 2
·
(1 − am+M )4(m+M )(n+M ) .
1 − an+M
k N
m=1

Let us first deal with (2.5). Since (1 − 1/d)d−1 ≥ e−1 for all d ≥ 2, we obtain

k2 N 2 −1
1
1
1
· 1− 2 2
≥ 2 2.
2
2
k N
k N
ek N

Choosing N large enough, we can make sure that
N

1
1
< 2 2.
1− k
2
ek N

FREE SUBSHIFTS WITH INVARIANT MEASURES FROM THE LOVÁSZ LOCAL LEMMA

5

Q∞

From now on, we will consider N fixed. Since the infinite product m=1 (1 − am )2mkN converges,
∞
∞
Y
Y
m+M 2(m+M )kN
lim
(1 − a
)
= lim
(1 − am )2mkN = 1,
M →∞

m=1

M →∞

m=M +1

so (2.5) holds for all sufficiently large M.
Now we proceed to (2.6). We have
!n+M
2(n+M )kN Y

∞
∞
Y
an+M
1
· 1− 2 2
·
(1 − am+M )4(m+M )(n+M ) ≥ b ·
(1 − am )4m
.
1 − an+M
k N
m=1
m=M +1
Q∞
m 4m
Taking M so large that m=M +1 (1 − a ) ≥ 1/(2b), we obtain
!n+M
∞
Y
1
b·
(1 − am )4m
≥ n+M ,
2
m=M +1

thus establishing (2.6).

Acknowledgment. I am grateful to Robin Tucker-Drob for his helpful comments.
References
[1] N. Alon, J. Grytczuk, M. Haluszczak, and O. Riordan. Nonrepetitive colorings of graphs. Random Structures
& Algorithms, Volume 21, Issue 3–4, 2002. Pages 336–346.
[2] N. Alon, J.H. Spencer. The Probabilistic Method. Wiley, New York, 1992.
[3] N. Aubrun, S. Barbieri, and S. Thomassé. Realization of aperiodic subshifts and uniform densities in groups.
arXiv:1507.03369, preprint, 2016.
[4] A. Bernshteyn. Measurable versions of the Lovász Local Lemma and measurable graph colorings.
arXiv:1604.07349, preprint, 2016.
[5] A. Dranishnikov, V. Schroeder. Aperiodic colorings and tilings of Coxeter groups. Groups, Geometry, and
Dynamics, Volume 1, 2007. Pages 301–318.
[6] G. Elek. On uniformly recurrent subgroups of finitely generated groups. arXiv:1702.01631, preprint, 2017.
[7] S. Gao, S. Jackson, and B. Seward. A coloring property for countable groups. Math. Proc. Cambridge Philos.
Soc., Volume 147, 2009. Pages 579–592.
[8] S. Gao, S. Jackson, and B. Seward. Group colorings and Bernoulli subflows. Mem. Amer. Math. Soc., Volume
241, number 1141, 2016.
[9] E. Glasner, V.V. Uspenskij. Effective minimal subflows of Bernoulli flows. Proc. Amer. Math. Soc., Volume
137, 2009. Pages 3147–3154.
[10] K. Kolipaka, M. Szegedy. Moser and Tardos meet Lovász. STOC ’11 Proceedings of the forty-third annual
ACM symposium on Theory of computing, 2011. Pages 235–244.
[11] G. Kun. Expanders have a spanning Lipschitz subgraph with large girth. arXiv:1303.4982, preprint, 2013.
[12] R. Moser, G. Tardos. A constructive proof of the general Lovász Local Lemma. J. ACM, Volume 57, Issue 2,
2010.
[13] B. Seward, R.D. Tucker-Drob. Borel structurability on the 2-shift of a countable group. Annals of Pure and
Applied Logic, Volume 167, Issue 1, 2016. Pages 1–21.

