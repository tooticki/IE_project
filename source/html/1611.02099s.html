<!DOCTYPE html><html>
<head>
<title></title>
<style type="text/css">
<!--
.xflip {
    -moz-transform: scaleX(-1);
    -webkit-transform: scaleX(-1);
    -o-transform: scaleX(-1);
    transform: scaleX(-1);
    filter: fliph;
}
.yflip {
    -moz-transform: scaleY(-1);
    -webkit-transform: scaleY(-1);
    -o-transform: scaleY(-1);
    transform: scaleY(-1);
    filter: flipv;
}
.xyflip {
    -moz-transform: scaleX(-1) scaleY(-1);
    -webkit-transform: scaleX(-1) scaleY(-1);
    -o-transform: scaleX(-1) scaleY(-1);
    transform: scaleX(-1) scaleY(-1);
    filter: fliph + flipv;
}
-->
</style>
</head>
<body>
<a name=1></a><img class="yflip" src="html/1611.02099-1_1.png"/><br/>
<img class="yflip" src="html/1611.02099-1_2.png"/><br/>
Hereditary&#160;quasirandomness&#160;without&#160;regularity<br/>
David&#160;Conlonâˆ—<br/>
Jacob&#160;Foxâ€ <br/>
Benny&#160;Sudakovâ€¡<br/>
Abstract<br/>
A&#160;result&#160;of&#160;Simonovits&#160;and&#160;SÂ´<br/>
os&#160;states&#160;that&#160;for&#160;any&#160;ï¬xed&#160;graph&#160;H&#160;and&#160;any&#160;Ç«&#160;&gt;&#160;0&#160;there&#160;exists<br/>
Î´&#160;&gt;&#160;0&#160;such&#160;that&#160;if&#160;G&#160;is&#160;an&#160;n-vertex&#160;graph&#160;with&#160;the&#160;property&#160;that&#160;every&#160;S&#160;âŠ†&#160;V&#160;(G)&#160;contains<br/>pe(H)|S|v(H)&#160;Â±&#160;Î´nv(H)&#160;labeled&#160;copies&#160;of&#160;H,&#160;then&#160;G&#160;is&#160;quasirandom&#160;in&#160;the&#160;sense&#160;that&#160;every&#160;S&#160;âŠ†&#160;V&#160;(G)<br/>contains&#160;1&#160;p|S|2&#160;Â±&#160;Ç«n2&#160;edges.&#160;The&#160;original&#160;proof&#160;of&#160;this&#160;result&#160;makes&#160;heavy&#160;use&#160;of&#160;the&#160;regularity<br/>
2<br/>
lemma,&#160;resulting&#160;in&#160;a&#160;bound&#160;on&#160;Î´âˆ’1&#160;which&#160;is&#160;a&#160;tower&#160;of&#160;twos&#160;of&#160;height&#160;polynomial&#160;in&#160;Ç«âˆ’1.&#160;We<br/>give&#160;an&#160;alternative&#160;proof&#160;of&#160;this&#160;theorem&#160;which&#160;avoids&#160;the&#160;regularity&#160;lemma&#160;and&#160;shows&#160;that&#160;Î´&#160;may<br/>be&#160;taken&#160;to&#160;be&#160;linear&#160;in&#160;Ç«&#160;when&#160;H&#160;is&#160;a&#160;clique&#160;and&#160;polynomial&#160;in&#160;Ç«&#160;for&#160;general&#160;H.&#160;This&#160;answers&#160;a<br/>problem&#160;raised&#160;by&#160;Simonovits&#160;and&#160;SÂ´<br/>
os.<br/>
1<br/>
Introduction<br/>
What&#160;does&#160;it&#160;mean&#160;to&#160;say&#160;that&#160;a&#160;graph&#160;is&#160;random-like&#160;and&#160;how&#160;does&#160;one&#160;construct&#160;such&#160;graphs?<br/>Attempts&#160;to&#160;answer&#160;these&#160;questions&#160;have&#160;played&#160;a&#160;central&#160;role&#160;in&#160;mathematics&#160;over&#160;the&#160;last&#160;forty<br/>years,&#160;with&#160;connections&#160;to&#160;combinatorics,&#160;probability,&#160;number&#160;theory,&#160;theoretical&#160;computer&#160;science<br/>and&#160;more&#160;(see,&#160;for&#160;example,&#160;<a href="1611.02099s.html#14">[8,&#160;12]</a>).<br/>
For&#160;dense&#160;graphs,&#160;there&#160;is&#160;a&#160;somewhat&#160;surprising&#160;answer&#160;to&#160;the&#160;ï¬rst&#160;question,&#160;in&#160;that&#160;many&#160;of&#160;the<br/>possible&#160;deï¬nitions&#160;for&#160;what&#160;it&#160;means&#160;to&#160;be&#160;random-like&#160;turn&#160;out&#160;to&#160;be&#160;equivalent,&#160;a&#160;fact&#160;ï¬rst&#160;observed<br/>by&#160;Chung,&#160;Graham&#160;and&#160;Wilson&#160;<a href="1611.02099s.html#14">[1]</a>,&#160;building&#160;on&#160;earlier&#160;work&#160;of&#160;Thomason&#160;<a href="1611.02099s.html#15">[24,&#160;25]</a>.&#160;To&#160;be&#160;more&#160;precise,<br/>let&#160;H&#160;be&#160;a&#160;ï¬xed&#160;graph&#160;with&#160;r&#160;vertices&#160;and&#160;m&#160;edges,&#160;0&#160;&lt;&#160;p&#160;&lt;&#160;1&#160;a&#160;ï¬xed&#160;constant&#160;and&#160;G&#160;an&#160;n-vertex<br/>graph.&#160;Consider&#160;the&#160;following&#160;properties&#160;that&#160;G&#160;might&#160;have:<br/>
PH,p(Ç«):&#160;The&#160;number&#160;of&#160;labeled&#160;copies&#160;of&#160;H&#160;in&#160;G&#160;is&#160;within&#160;Ç«nr&#160;of&#160;pmnr.<br/>
<a href="http://arxiv.org/abs/1611.02099v2">arXiv:1611.02099v2 &#160;[math.CO] &#160;22 Dec 2016</a><br/>
Pâˆ—H,p(Ç«):&#160;For&#160;every&#160;subset&#160;S&#160;âŠ†&#160;V&#160;(G),&#160;the&#160;number&#160;of&#160;labeled&#160;copies&#160;of&#160;H&#160;in&#160;the&#160;induced&#160;subgraph<br/>
G[S]&#160;is&#160;within&#160;Ç«nr&#160;of&#160;pm|S|r.<br/>
The&#160;property&#160;PH,p&#160;asks&#160;that&#160;the&#160;number&#160;of&#160;copies&#160;of&#160;H&#160;in&#160;G&#160;is&#160;close&#160;to&#160;what&#160;one&#160;would&#160;expect&#160;in&#160;the<br/>binomial&#160;random&#160;graph&#160;G(n,&#160;p),&#160;while&#160;the&#160;hereditary&#160;property&#160;Pâˆ—H,p&#160;asks&#160;for&#160;a&#160;more&#160;robust&#160;version&#160;of<br/>this&#160;condition,&#160;saying&#160;that&#160;the&#160;copies&#160;of&#160;H&#160;are&#160;also&#160;uniformly&#160;distributed&#160;in&#160;G,&#160;again&#160;just&#160;as&#160;one&#160;would<br/>expect&#160;in&#160;G(n,&#160;p).<br/>
âˆ—Mathematical&#160;Institute,&#160;Oxford&#160;OX2&#160;6GG,&#160;United&#160;Kingdom.&#160;Email:&#160;david.conlon@maths.ox.ac.uk.&#160;Research<br/>
supported&#160;by&#160;a&#160;Royal&#160;Society&#160;University&#160;Research&#160;Fellowship&#160;and&#160;by&#160;ERC&#160;Starting&#160;Grant&#160;676632.<br/>
â€ Department&#160;of&#160;Mathematics,&#160;Stanford&#160;University,&#160;Stanford,&#160;CA&#160;94305.&#160;Email:&#160;jacobfox@stanford.edu.&#160;Research<br/>
supported&#160;by&#160;a&#160;Packard&#160;Fellowship,&#160;by&#160;NSF&#160;Career&#160;Award&#160;DMS-1352121&#160;and&#160;by&#160;an&#160;Alfred&#160;P.&#160;Sloan&#160;Fellowship.<br/>
â€¡Department&#160;of&#160;Mathematics,&#160;ETH,&#160;8092&#160;Zurich,&#160;Switzerland.&#160;Email:&#160;benjamin.sudakov@math.ethz.ch.&#160;Research<br/>
supported&#160;by&#160;SNSF&#160;grant&#160;200021-149111.<br/>
1<br/>
<hr/>
<a name=2></a>A&#160;sequence&#160;of&#160;graphs&#160;(Gn)âˆ<br/>
n=1&#160;with&#160;|Gn|&#160;=&#160;n&#160;is&#160;said&#160;to&#160;be&#160;p-quasirandom&#160;if&#160;it&#160;satisï¬es&#160;the&#160;property<br/>
Pâˆ—2,p(Ç«)&#160;with&#160;Ç«&#160;=&#160;o(1),&#160;where,&#160;here&#160;and&#160;throughout&#160;the&#160;paper,&#160;we&#160;write&#160;Pr,p&#160;and&#160;Pâˆ—r,p&#160;for&#160;PH,p&#160;and<br/>Pâˆ—H,p&#160;when&#160;H&#160;is&#160;the&#160;complete&#160;graph&#160;Kr.&#160;That&#160;is,&#160;a&#160;sequence&#160;of&#160;graphs&#160;is&#160;p-quasirandom&#160;if&#160;the&#160;density<br/>of&#160;Gn&#160;is&#160;asymptotic&#160;to&#160;p&#160;and&#160;the&#160;edges&#160;are&#160;uniformly&#160;distributed&#160;across&#160;subsets.&#160;Of&#160;the&#160;equivalent<br/>formulations&#160;discovered&#160;by&#160;Chung,&#160;Graham&#160;and&#160;Wilson&#160;<a href="1611.02099s.html#14">[1]</a>,&#160;the&#160;most&#160;striking&#160;is&#160;perhaps&#160;the&#160;following.<br/>
Theorem&#160;(Chungâ€“Grahamâ€“Wilson).&#160;For&#160;any&#160;Ç«&#160;&gt;&#160;0,&#160;there&#160;exists&#160;Î´&#160;&gt;&#160;0&#160;such&#160;that<br/>
(a)&#160;if&#160;a&#160;graph&#160;satisfies&#160;P2,p(Î´)&#160;and&#160;PC4,p(Î´),&#160;then&#160;it&#160;also&#160;satisfies&#160;Pâˆ—2,p(Ç«);<br/>
(b)&#160;if&#160;a&#160;graph&#160;satisfies&#160;Pâˆ—2,p(Î´),&#160;then&#160;it&#160;also&#160;satisfies&#160;P2,p(Ç«)&#160;and&#160;PC4,p(Ç«).<br/>
It&#160;follows&#160;from&#160;part&#160;(a)&#160;that&#160;if&#160;the&#160;number&#160;of&#160;edges&#160;and&#160;the&#160;number&#160;of&#160;cycles&#160;of&#160;length&#160;four&#160;in&#160;a&#160;sequence<br/>of&#160;graphs&#160;(Gn)âˆ<br/>
n=1&#160;are&#160;both&#160;asymptotic&#160;to&#160;their&#160;expected&#160;values&#160;in&#160;the&#160;random&#160;graph&#160;G(n,&#160;p),&#160;then&#160;the<br/>
sequence&#160;is&#160;p-quasirandom.&#160;What&#160;is&#160;striking&#160;about&#160;this&#160;conclusion&#160;is&#160;that&#160;a&#160;purely&#160;global&#160;property,<br/>that&#160;of&#160;having&#160;certain&#160;counts&#160;of&#160;edges&#160;and&#160;cycles&#160;of&#160;length&#160;four,&#160;is&#160;suï¬ƒcient&#160;to&#160;imply&#160;a&#160;local&#160;property<br/>about&#160;the&#160;distribution&#160;of&#160;edges&#160;on&#160;small&#160;subsets.&#160;Moreover,&#160;by&#160;part&#160;(b),&#160;the&#160;converse&#160;also&#160;holds.<br/>
A&#160;similar&#160;result&#160;is&#160;conjectured&#160;<a href="1611.02099s.html#14">[4,&#160;</a><a href="1611.02099s.html#15">21]&#160;</a>to&#160;hold&#160;when&#160;C4&#160;is&#160;replaced&#160;by&#160;any&#160;bipartite&#160;graph&#160;H&#160;with&#160;at<br/>least&#160;one&#160;cycle.&#160;Known&#160;as&#160;the&#160;forcing&#160;conjecture,&#160;this&#160;conclusion&#160;is&#160;now&#160;known&#160;to&#160;hold&#160;for&#160;a&#160;wide&#160;range<br/>of&#160;bipartite&#160;graphs,&#160;with&#160;progress&#160;on&#160;the&#160;conjecture&#160;closely&#160;paralleling&#160;recent&#160;progress&#160;<a href="1611.02099s.html#14">[4,&#160;5,&#160;11,&#160;14,&#160;</a><a href="1611.02099s.html#15">22]<br/></a>on&#160;Sidorenkoâ€™s&#160;conjecture.&#160;On&#160;the&#160;other&#160;hand,&#160;part&#160;(a)&#160;does&#160;not&#160;hold&#160;when&#160;C4&#160;is&#160;replaced&#160;by&#160;a&#160;non-<br/>bipartite&#160;H.&#160;To&#160;see&#160;this&#160;for&#160;triangles,&#160;consider&#160;the&#160;graph&#160;G&#160;on&#160;n&#160;vertices&#160;consisting&#160;of&#160;four&#160;disjoint&#160;sets<br/>V1,&#160;V2,&#160;V3&#160;and&#160;V4,&#160;each&#160;of&#160;order&#160;n/4,&#160;with&#160;V1&#160;and&#160;V2&#160;complete,&#160;V3&#160;and&#160;V4&#160;empty,&#160;a&#160;complete&#160;bipartite<br/>graph&#160;between&#160;V3&#160;and&#160;V4&#160;and&#160;a&#160;random&#160;bipartite&#160;graph&#160;with&#160;edge&#160;probability&#160;1/2&#160;between&#160;V1&#160;âˆª&#160;V2&#160;and<br/>V3&#160;âˆª&#160;V4.&#160;This&#160;graph&#160;has&#160;density&#160;1/2&#160;and&#160;asymptotically&#160;n3/8&#160;labeled&#160;triangles.&#160;However,&#160;it&#160;is&#160;clearly<br/>not&#160;1/2-quasirandom.<br/>
A&#160;key&#160;result&#160;about&#160;quasirandom&#160;graphs,&#160;proved&#160;by&#160;Simonovits&#160;and&#160;SÂ´<br/>
os&#160;<a href="1611.02099s.html#15">[20]</a>,&#160;says&#160;that&#160;such&#160;counterex-<br/>
amples&#160;can&#160;be&#160;avoided&#160;if&#160;we&#160;strengthen&#160;our&#160;assumption,&#160;asking&#160;that&#160;G&#160;satisï¬es&#160;the&#160;hereditary&#160;property<br/>Pâˆ—H,p&#160;rather&#160;than&#160;just&#160;PH,p.&#160;That&#160;is,&#160;a&#160;sequence&#160;of&#160;graphs&#160;(Gn)âˆ<br/>
n=1&#160;with&#160;|Gn|&#160;=&#160;n&#160;is&#160;p-quasirandom<br/>
if&#160;every&#160;subset&#160;S&#160;âŠ†&#160;V&#160;(Gn)&#160;contains&#160;roughly&#160;the&#160;same&#160;number&#160;of&#160;copies&#160;of&#160;H&#160;as&#160;one&#160;would&#160;expect&#160;to<br/>ï¬nd&#160;in&#160;G(n,&#160;p).<br/>
Theorem&#160;(Simonovitsâ€“SÂ´<br/>
os).&#160;For&#160;any&#160;Ç«&#160;&gt;&#160;0,&#160;there&#160;exists&#160;Î´&#160;&gt;&#160;0&#160;such&#160;that&#160;if&#160;a&#160;graph&#160;satisfies&#160;Pâˆ—H,p(Î´),<br/>
then&#160;it&#160;also&#160;satisfies&#160;Pâˆ—2,p(Ç«).<br/>
The&#160;original&#160;proof&#160;of&#160;this&#160;result&#160;makes&#160;heavy&#160;use&#160;of&#160;the&#160;regularity&#160;lemma&#160;<a href="1611.02099s.html#15">[23]</a>,&#160;resulting&#160;in&#160;a&#160;bound<br/>on&#160;Î´âˆ’1&#160;which&#160;is&#160;a&#160;tower&#160;of&#160;twos&#160;of&#160;height&#160;polynomial&#160;in&#160;Ç«âˆ’1.&#160;The&#160;main&#160;aim&#160;of&#160;this&#160;paper&#160;is&#160;to&#160;give&#160;an<br/>alternative&#160;proof&#160;of&#160;this&#160;theorem&#160;which&#160;avoids&#160;the&#160;use&#160;of&#160;the&#160;regularity&#160;lemma,&#160;giving&#160;a&#160;much&#160;better<br/>bound&#160;for&#160;Î´&#160;in&#160;terms&#160;of&#160;Ç«.&#160;This&#160;answers&#160;a&#160;problem&#160;raised&#160;by&#160;Simonovits&#160;and&#160;SÂ´<br/>
os&#160;in&#160;their&#160;paper.&#160;In<br/>
reality,&#160;we&#160;prove&#160;two&#160;theorems,&#160;the&#160;ï¬rst&#160;showing&#160;that&#160;Î´&#160;may&#160;be&#160;taken&#160;to&#160;be&#160;linear&#160;in&#160;Ç«&#160;when&#160;H&#160;is<br/>a&#160;clique,&#160;a&#160;result&#160;which&#160;is&#160;clearly&#160;optimal&#160;(consider&#160;the&#160;random&#160;graph&#160;with&#160;density&#160;p&#160;+&#160;Ç«),&#160;and&#160;the<br/>second&#160;showing&#160;that&#160;Î´&#160;may&#160;be&#160;taken&#160;to&#160;be&#160;polynomial&#160;in&#160;Ç«&#160;for&#160;general&#160;H.<br/>
Theorem&#160;1.1.&#160;For&#160;every&#160;natural&#160;number&#160;r&#160;â‰¥&#160;3,&#160;there&#160;is&#160;a&#160;constant&#160;c(r)&#160;such&#160;that&#160;if&#160;p&#160;and&#160;Ç«&#160;are<br/>constants&#160;with&#160;0&#160;&lt;&#160;Ç«,&#160;p&#160;&lt;&#160;1&#160;and&#160;n&#160;is&#160;sufficiently&#160;large&#160;depending&#160;on&#160;r,&#160;p&#160;and&#160;Ç«,&#160;then&#160;any&#160;n-vertex&#160;graph<br/>G&#160;that&#160;satisfies&#160;Pâˆ—r,p(Î´)&#160;with&#160;Î´&#160;=&#160;c(r)p2r2Ç«&#160;also&#160;satisfies&#160;Pâˆ—2,p(Ç«).<br/>
2<br/>
<hr/>
<a name=3></a>Theorem&#160;1.2.&#160;For&#160;every&#160;0&#160;&lt;&#160;p&#160;&lt;&#160;1&#160;and&#160;natural&#160;number&#160;r&#160;â‰¥&#160;3,&#160;there&#160;are&#160;constants&#160;c&#160;=&#160;c(p,&#160;r)&#160;and<br/>câ€²(p,&#160;r)&#160;such&#160;that&#160;if&#160;H&#160;is&#160;a&#160;graph&#160;with&#160;r&#160;vertices,&#160;0&#160;&lt;&#160;Ç«&#160;&lt;&#160;1/2&#160;and&#160;a&#160;graph&#160;G&#160;satisfies&#160;Pâˆ—H,p(Î´)&#160;with<br/>Î´&#160;=&#160;câ€²(p,&#160;r)Ç«c(p,r),&#160;then&#160;it&#160;also&#160;satisfies&#160;Pâˆ—2,p(Ç«).<br/>
We&#160;note&#160;that&#160;another&#160;alternative&#160;proof&#160;for&#160;a&#160;variant&#160;of&#160;the&#160;Simonovitsâ€“SÂ´<br/>
os&#160;theorem,&#160;also&#160;avoiding<br/>
regularity,&#160;was&#160;found&#160;independently&#160;by&#160;Reiher&#160;and&#160;Schacht&#160;<a href="1611.02099s.html#15">[18]</a>.&#160;However,&#160;their&#160;result&#160;uses&#160;slightly<br/>stronger&#160;assumptions&#160;and&#160;gives&#160;weaker&#160;quantitative&#160;control&#160;than&#160;ours.&#160;As&#160;well&#160;as&#160;being&#160;interesting&#160;in<br/>its&#160;own&#160;right,&#160;our&#160;close&#160;attention&#160;to&#160;quantitative&#160;aspects&#160;was&#160;motivated&#160;by&#160;the&#160;possibility&#160;of&#160;application<br/>in&#160;extremal&#160;combinatorics.&#160;Indeed,&#160;the&#160;best&#160;bounds&#160;for&#160;a&#160;number&#160;of&#160;well-known&#160;theorems&#160;in&#160;this&#160;area,<br/>including&#160;Ramseyâ€™s&#160;theorem&#160;<a href="1611.02099s.html#14">[2]&#160;</a>and&#160;SzemerÂ´ediâ€™s&#160;theorem&#160;<a href="1611.02099s.html#14">[7]</a>,&#160;rely&#160;crucially&#160;on&#160;the&#160;interplay&#160;between<br/>diï¬€erent&#160;notions&#160;of&#160;quasirandomness.&#160;Our&#160;results&#160;bring&#160;the&#160;Simonovitsâ€“SÂ´<br/>
os&#160;theorem&#160;into&#160;a&#160;range<br/>
where&#160;it&#160;could&#160;also&#160;be&#160;proï¬tably&#160;applied&#160;in&#160;this&#160;manner.<br/>
The&#160;rest&#160;of&#160;the&#160;paper&#160;will&#160;be&#160;laid&#160;out&#160;as&#160;follows:&#160;we&#160;study&#160;complete&#160;graphs&#160;in&#160;the&#160;next&#160;section,<br/>proving&#160;Theorem&#160;<a href="1611.02099s.html#2">1.1;&#160;</a>we&#160;treat&#160;the&#160;general&#160;case&#160;in&#160;Section&#160;<a href="1611.02099s.html#7">3,&#160;</a>proving&#160;Theorem&#160;<a href="1611.02099s.html#3">1.2;&#160;</a>and&#160;we&#160;conclude<br/>with&#160;some&#160;further&#160;remarks&#160;and&#160;open&#160;problems&#160;in&#160;Section&#160;<a href="1611.02099s.html#13">4.&#160;</a>For&#160;the&#160;sake&#160;of&#160;clarity&#160;of&#160;presentation,&#160;we<br/>systematically&#160;omit&#160;ï¬‚oor&#160;and&#160;ceiling&#160;signs&#160;whenever&#160;they&#160;are&#160;not&#160;crucial.<br/>
2<br/>
Complete&#160;graphs<br/>
In&#160;this&#160;section,&#160;we&#160;prove&#160;Theorem&#160;<a href="1611.02099s.html#2">1.1.&#160;</a>We&#160;will&#160;need&#160;several&#160;lemmas&#160;about&#160;graphs&#160;G&#160;that&#160;satisfy<br/>Pâˆ—r,p(Î´),&#160;the&#160;ï¬rst&#160;of&#160;which&#160;estimates&#160;the&#160;number&#160;of&#160;r-cliques&#160;with&#160;exactly&#160;i&#160;vertices&#160;in&#160;one&#160;set&#160;X&#160;and<br/>r&#160;âˆ’&#160;i&#160;vertices&#160;in&#160;another&#160;set&#160;Y&#160;.&#160;The&#160;proof&#160;draws&#160;on&#160;ideas&#160;used&#160;by&#160;Shapira&#160;<a href="1611.02099s.html#15">[19]&#160;</a>when&#160;studying&#160;a<br/>related&#160;problem.&#160;Here&#160;and&#160;throughout&#160;this&#160;section,&#160;we&#160;will&#160;use&#160;big&#160;O&#160;notation,&#160;allowing&#160;the&#160;hidden<br/>constants&#160;to&#160;depend&#160;on&#160;the&#160;clique&#160;size&#160;r&#160;but&#160;not&#160;on&#160;the&#160;edge&#160;density&#160;p.&#160;In&#160;keeping&#160;with&#160;the&#160;statement<br/>of&#160;Theorem&#160;<a href="1611.02099s.html#2">1.1,&#160;</a>we&#160;will&#160;always&#160;assume&#160;that&#160;n&#160;is&#160;taken&#160;suï¬ƒciently&#160;large.<br/>
Lemma&#160;2.1.&#160;Let&#160;G&#160;be&#160;an&#160;n-vertex&#160;graph&#160;that&#160;satisfies&#160;Pâˆ—r,p(Î´).&#160;Then,&#160;for&#160;all&#160;disjoint&#160;subsets&#160;X,&#160;Y&#160;of<br/>V&#160;(G),&#160;the&#160;number&#160;of&#160;labeled&#160;r-cliques&#160;with&#160;exactly&#160;i&#160;vertices&#160;in&#160;X&#160;and&#160;r&#160;âˆ’&#160;i&#160;vertices&#160;in&#160;Y&#160;deviates&#160;from<br/>
rp(r)<br/>
2&#160;|X|i|Y&#160;|râˆ’i&#160;by&#160;at&#160;most&#160;O(Î´nr&#160;).<br/>
i<br/>
Proof.&#160;Let&#160;x<br/>
<br/>
)<br/>
i&#160;=&#160;r&#160;p(r2&#160;|X&#160;|i|Y&#160;|râˆ’i&#160;and&#160;let&#160;xâ€²<br/>
i<br/>
i&#160;be&#160;the&#160;number&#160;of&#160;labeled&#160;r-cliques&#160;with&#160;exactly&#160;i&#160;vertices<br/>
in&#160;X&#160;and&#160;r&#160;âˆ’&#160;i&#160;vertices&#160;in&#160;Y&#160;.&#160;Pick&#160;a&#160;random&#160;subset&#160;Xâ€²&#160;âŠ†&#160;X&#160;of&#160;order&#160;q|X|.&#160;The&#160;expected&#160;number&#160;of<br/>labeled&#160;cliques&#160;of&#160;order&#160;r&#160;in&#160;Xâ€²&#160;âˆª&#160;Y&#160;is&#160;(up&#160;to&#160;lower&#160;order&#160;terms)&#160;Pi&#160;qixâ€²i&#160;and&#160;this&#160;deviates&#160;from<br/>
<br/>
<br/>
X<br/>
r<br/>
X<br/>
p(r)<br/>
)<br/>
2&#160;(q|X|&#160;+&#160;|Y&#160;|)r&#160;=<br/>
qip(r2<br/>
|X|i|Y&#160;|râˆ’i&#160;=<br/>
qix<br/>
i<br/>
i<br/>
i<br/>
i<br/>
by&#160;at&#160;most&#160;O(Î´nr).<br/>
For&#160;j&#160;=&#160;1,&#160;2,&#160;.&#160;.&#160;.&#160;,&#160;r&#160;+&#160;1,&#160;let&#160;qj&#160;=&#160;j/(r&#160;+&#160;1)&#160;and&#160;let&#160;A&#160;be&#160;the&#160;(r&#160;+&#160;1)&#160;Ã—&#160;(r&#160;+&#160;1)&#160;matrix&#160;with&#160;aji&#160;=&#160;qij.<br/>The&#160;matrix&#160;A&#160;is&#160;not&#160;singular,&#160;since&#160;it&#160;is&#160;a&#160;Vandermonde&#160;matrix&#160;and&#160;the&#160;qj&#160;are&#160;distinct.&#160;Let&#160;a&#160;be&#160;a<br/>maximum&#160;in&#160;absolute&#160;value&#160;entry&#160;of&#160;Aâˆ’1,&#160;noting&#160;that&#160;this&#160;depends&#160;only&#160;on&#160;r.&#160;Let&#160;x&#160;=&#160;(x0,&#160;x1,&#160;.&#160;.&#160;.&#160;,&#160;xr)<br/>and&#160;xâ€²&#160;=&#160;(xâ€²0,&#160;xâ€²1,&#160;.&#160;.&#160;.&#160;,&#160;xâ€²r).&#160;By&#160;the&#160;above&#160;discussion,&#160;we&#160;know&#160;that&#160;the&#160;coordinates&#160;of&#160;the&#160;vectors&#160;z&#160;=&#160;Ax<br/>and&#160;zâ€²&#160;=&#160;Axâ€²&#160;diï¬€er&#160;by&#160;at&#160;most&#160;O(Î´nr).&#160;Since&#160;x&#160;âˆ’&#160;xâ€²&#160;=&#160;Aâˆ’1(z&#160;âˆ’&#160;zâ€²),&#160;it&#160;follows&#160;that&#160;the&#160;coordinates&#160;of<br/>the&#160;vectors&#160;x&#160;and&#160;xâ€²&#160;diï¬€er&#160;by&#160;at&#160;most&#160;O(r&#160;Â·&#160;|a|&#160;Â·&#160;Î´nr)&#160;=&#160;O(Î´nr),&#160;completing&#160;the&#160;proof.<br/>
âœ·<br/>
3<br/>
<hr/>
<a name=4></a>We&#160;will&#160;need&#160;a&#160;corollary&#160;of&#160;this&#160;lemma&#160;saying&#160;that&#160;for&#160;any&#160;subset&#160;U&#160;âŠ†&#160;V&#160;(G),&#160;most&#160;u&#160;âˆˆ&#160;U&#160;are<br/>contained&#160;in&#160;approximately&#160;the&#160;same&#160;number&#160;of&#160;r-cliques&#160;in&#160;U&#160;.&#160;The&#160;following&#160;deï¬nition&#160;helps&#160;capture<br/>this&#160;condition.<br/>
Definition.&#160;Given&#160;a&#160;subset&#160;U&#160;âŠ†&#160;V&#160;(G)&#160;and&#160;a&#160;vertex&#160;u&#160;âˆˆ&#160;U&#160;,&#160;let&#160;cU&#160;(u)&#160;denote&#160;the&#160;number&#160;of&#160;r-cliques<br/>in&#160;U&#160;containing&#160;u&#160;and&#160;disc<br/>
)<br/>
U&#160;(u)&#160;=&#160;cU&#160;(u)&#160;âˆ’&#160;p(r2&#160;|U&#160;|râˆ’1/(r&#160;âˆ’&#160;1)!.<br/>
Corollary&#160;2.1.&#160;Let&#160;G&#160;be&#160;an&#160;n-vertex&#160;graph&#160;that&#160;satisfies&#160;Pâˆ—r,p(Î´).&#160;Then&#160;PuâˆˆU&#160;discU&#160;(u)&#160;=&#160;O(Î´nr).<br/>
Proof.&#160;Partition&#160;U&#160;into&#160;two&#160;sets&#160;U&#160;â€²,&#160;U&#160;â€²â€²&#160;such&#160;that&#160;U&#160;â€²&#160;is&#160;the&#160;set&#160;of&#160;all&#160;vertices&#160;u&#160;âˆˆ&#160;U&#160;satisfying&#160;cU&#160;(u)&#160;â‰¥<br/>p(r)<br/>
2&#160;|U&#160;|râˆ’1/(r&#160;âˆ’&#160;1)!.&#160;Then&#160;we&#160;can&#160;write&#160;PuâˆˆU&#160;discU&#160;(u)&#160;=&#160;P1&#160;+&#160;P2,&#160;where&#160;P1&#160;=&#160;PuâˆˆUâ€²&#160;cU&#160;(u)&#160;âˆ’<br/>
p(r)<br/>
)<br/>
2&#160;|U&#160;|râˆ’1/(r&#160;âˆ’&#160;1)!&#160;and&#160;P2&#160;=&#160;âˆ’&#160;PuâˆˆUâ€²â€²&#160;cU&#160;(u)&#160;âˆ’&#160;p(r2&#160;|U&#160;|râˆ’1/(r&#160;âˆ’&#160;1)!.&#160;Note&#160;that&#160;P1&#160;can&#160;be&#160;written<br/>
as&#160;a&#160;sum&#160;of&#160;r&#160;terms,&#160;each&#160;estimating&#160;the&#160;deviation&#160;of&#160;i&#160;times&#160;the&#160;number&#160;of&#160;r-cliques&#160;in&#160;G[U&#160;]&#160;with<br/>exactly&#160;i&#160;vertices&#160;in&#160;U&#160;â€²&#160;and&#160;r&#160;âˆ’&#160;i&#160;vertices&#160;in&#160;U&#160;â€²â€².&#160;By&#160;Lemma&#160;<a href="1611.02099s.html#3">2.1,&#160;</a>all&#160;these&#160;terms&#160;are&#160;bounded&#160;by&#160;O(Î´nr)<br/>and,&#160;therefore,&#160;P1&#160;=&#160;O(Î´nr).&#160;A&#160;similar&#160;argument&#160;shows&#160;that&#160;P2&#160;=&#160;O(Î´nr).<br/>
âœ·<br/>
Definition.&#160;Given&#160;two&#160;vertices&#160;u,&#160;v&#160;âˆˆ&#160;V&#160;(G),&#160;let&#160;c(u,&#160;v)&#160;denote&#160;the&#160;number&#160;of&#160;subsets&#160;S&#160;âŠ‚&#160;V&#160;(G)&#160;of<br/>order&#160;r&#160;âˆ’&#160;1&#160;such&#160;that&#160;both&#160;{u}&#160;âˆª&#160;S&#160;and&#160;{v}&#160;âˆª&#160;S&#160;form&#160;an&#160;r-clique&#160;in&#160;G&#160;and&#160;write<br/>
<br/>
<br/>
disc(u,&#160;v)&#160;=<br/>
)<br/>
c(u,&#160;v)&#160;âˆ’&#160;p(r2&#160;drâˆ’1(v)/(r&#160;âˆ’&#160;1)!&#160;,<br/>
<br/>
<br/>
where&#160;d(v)&#160;is&#160;the&#160;order&#160;of&#160;the&#160;neighborhood&#160;of&#160;v.<br/>
Note&#160;that&#160;by&#160;deï¬nition&#160;c(u,&#160;v)&#160;=&#160;c(v,&#160;u).&#160;Therefore,&#160;by&#160;the&#160;triangle&#160;inequality,&#160;we&#160;have<br/>
disc(u,&#160;v)&#160;+&#160;disc(v,&#160;u)&#160;â‰¥&#160;p(r)<br/>
2&#160;drâˆ’1(v)&#160;âˆ’&#160;drâˆ’1(u)/(r&#160;âˆ’&#160;1)!&#160;.<br/>
Using&#160;this&#160;inequality,&#160;we&#160;can&#160;prove&#160;the&#160;following&#160;lemma&#160;which&#160;shows&#160;that&#160;most&#160;pairs&#160;of&#160;vertices&#160;in&#160;G<br/>have&#160;comparable&#160;degree.<br/>
Lemma&#160;2.2.&#160;Let&#160;G&#160;be&#160;an&#160;n-vertex&#160;graph&#160;that&#160;satisfies&#160;Pâˆ—r,p(Î´).&#160;Then<br/>
X<br/>
|drâˆ’1(v)&#160;âˆ’&#160;drâˆ’1(u)|&#160;=&#160;O(pâˆ’(r)<br/>
2&#160;Î´nr+1).<br/>
u,vâˆˆV&#160;(G)<br/>
Proof.&#160;By&#160;the&#160;above&#160;discussion,&#160;we&#160;have&#160;that<br/>
X&#160;X<br/>
X<br/>
disc(v,&#160;u)&#160;=<br/>
(disc(u,&#160;v)&#160;+&#160;disc(v,&#160;u))&#160;â‰¥&#160;p(r)&#160;X&#160;<br/>
2<br/>
drâˆ’1(v)&#160;âˆ’&#160;drâˆ’1(u)<br/>
/(r&#160;âˆ’&#160;1)!&#160;.<br/>
u&#160;v6=u<br/>
{u,v}<br/>
{u,v}<br/>
Therefore,&#160;to&#160;prove&#160;the&#160;statement,&#160;it&#160;is&#160;enough&#160;to&#160;show&#160;that&#160;Pv6=u&#160;disc(v,&#160;u)&#160;=&#160;O(Î´nr)&#160;for&#160;each&#160;u.<br/>Let&#160;U&#160;be&#160;the&#160;set&#160;of&#160;neighbors&#160;of&#160;u&#160;in&#160;G&#160;and&#160;let&#160;W&#160;be&#160;the&#160;complement&#160;of&#160;U&#160;.&#160;Partition&#160;W&#160;further<br/>into&#160;W&#160;â€²,&#160;W&#160;â€²â€²,&#160;where&#160;W&#160;â€²&#160;is&#160;the&#160;set&#160;of&#160;all&#160;vertices&#160;v&#160;such&#160;that&#160;c(v,&#160;u)&#160;â‰¥&#160;p(r)<br/>
2&#160;drâˆ’1(u)/(r&#160;âˆ’&#160;1)!.<br/>
Then<br/>
we&#160;can&#160;write&#160;P<br/>
)<br/>
v6=u&#160;disc(v,&#160;u)&#160;=&#160;P1&#160;+&#160;P2&#160;+&#160;P3,&#160;where&#160;P1&#160;=&#160;PvâˆˆW&#160;â€²&#160;c(v,&#160;u)&#160;âˆ’&#160;p(r2&#160;drâˆ’1(u)/(r&#160;âˆ’&#160;1)!,<br/>
P<br/>
)<br/>
2&#160;=&#160;âˆ’&#160;PvâˆˆW&#160;â€²â€²&#160;c(v,&#160;u)&#160;âˆ’&#160;p(r2&#160;drâˆ’1(u)/(r&#160;âˆ’&#160;1)!&#160;and&#160;P3&#160;=&#160;PvâˆˆU&#160;discU&#160;(v).&#160;The&#160;ï¬rst&#160;(resp.,&#160;second)<br/>
sum&#160;estimates&#160;the&#160;deviation&#160;of&#160;the&#160;number&#160;of&#160;r-cliques&#160;with&#160;one&#160;vertex&#160;in&#160;W&#160;â€²&#160;(resp.,&#160;W&#160;â€²â€²)&#160;and&#160;the<br/>remaining&#160;r&#160;âˆ’&#160;1&#160;vertices&#160;in&#160;U&#160;.&#160;Thus,&#160;by&#160;Lemma&#160;<a href="1611.02099s.html#3">2.1,&#160;</a>it&#160;is&#160;bounded&#160;by&#160;O(Î´nr).&#160;The&#160;third&#160;sum&#160;is<br/>bounded&#160;by&#160;O(Î´nr)&#160;by&#160;Corollary&#160;<a href="1611.02099s.html#4">2.1.</a><br/>
âœ·<br/>
4<br/>
<hr/>
<a name=5></a><img class="yflip" src="html/1611.02099-5_1.png"/><br/>
<img class="yflip" src="html/1611.02099-5_2.png"/><br/>
<img class="yflip" src="html/1611.02099-5_3.png"/><br/>
<img class="yflip" src="html/1611.02099-5_4.png"/><br/>
<img class="yflip" src="html/1611.02099-5_5.png"/><br/>
<img class="yflip" src="html/1611.02099-5_6.png"/><br/>
<img class="yflip" src="html/1611.02099-5_7.png"/><br/>
We&#160;also&#160;need&#160;an&#160;elementary&#160;inequality,&#160;which&#160;follows&#160;as&#160;an&#160;easy&#160;corollary&#160;of&#160;the&#160;next&#160;result.<br/>
Proposition&#160;2.1.&#160;Let&#160;a1,&#160;.&#160;.&#160;.&#160;,&#160;an&#160;and&#160;b1,&#160;.&#160;.&#160;.&#160;,&#160;bn&#160;be&#160;two&#160;sets&#160;of&#160;n&#160;non-negative&#160;numbers.&#160;Then,&#160;for&#160;any<br/>positive&#160;integer&#160;s,<br/>
X<br/>
X<br/>
X<br/>
X<br/>
|bsj&#160;âˆ’&#160;asi|&#160;â‰¥&#160;n<br/>
bsj&#160;âˆ’<br/>
bsâˆ’1<br/>
j<br/>
Â·<br/>
ai.<br/>
i,j<br/>
j<br/>
j<br/>
i<br/>
Proof.&#160;This&#160;follows&#160;since<br/>
X<br/>
X<br/>
X<br/>
|bsj&#160;âˆ’&#160;asi|&#160;=<br/>
|bj&#160;âˆ’&#160;ai||bsâˆ’1<br/>
j<br/>
+&#160;Â·&#160;Â·&#160;Â·&#160;+&#160;asâˆ’1<br/>
i<br/>
|&#160;â‰¥<br/>
|bj&#160;âˆ’&#160;ai|bsâˆ’1<br/>
j<br/>
i,j<br/>
i,j<br/>
i,j<br/>
X<br/>
X<br/>
X<br/>
X<br/>
â‰¥<br/>
(bj&#160;âˆ’&#160;ai)bsâˆ’1<br/>
j<br/>
=&#160;n<br/>
bsj&#160;âˆ’<br/>
bsâˆ’1<br/>
j<br/>
Â·<br/>
ai,<br/>
i,j<br/>
j<br/>
j<br/>
i<br/>
where&#160;in&#160;both&#160;inequalities&#160;we&#160;used&#160;the&#160;fact&#160;that&#160;the&#160;ai&#160;and&#160;bj&#160;are&#160;non-negative&#160;and&#160;in&#160;the&#160;second<br/>inequality&#160;we&#160;also&#160;used&#160;the&#160;reverse&#160;triangle&#160;inequality&#160;|x&#160;âˆ’&#160;y|&#160;â‰¥&#160;|x|&#160;âˆ’&#160;|y|.<br/>
âœ·<br/>
Corollary&#160;2.2.&#160;Let&#160;a1,&#160;.&#160;.&#160;.&#160;,&#160;an&#160;and&#160;b1,&#160;.&#160;.&#160;.&#160;,&#160;bn&#160;be&#160;two&#160;sets&#160;of&#160;n&#160;non-negative&#160;numbers.&#160;Then,&#160;for&#160;any<br/>positive&#160;integer&#160;s,&#160;Pi,j&#160;|bsj&#160;âˆ’&#160;asi|&#160;â‰¥&#160;Pj&#160;bsâˆ’1<br/>
j<br/>
Â·&#160;(Pj&#160;bj&#160;âˆ’&#160;Pi&#160;ai).<br/>
Proof.&#160;Applying&#160;Jensenâ€™s&#160;inequality&#160;twice,&#160;ï¬rst&#160;with&#160;the&#160;function&#160;xs/(sâˆ’1)&#160;and&#160;then&#160;with&#160;the&#160;function<br/>
<br/>
s/(sâˆ’1)<br/>
<br/>
1/(sâˆ’1)<br/>
xsâˆ’1,&#160;we&#160;obtain&#160;that&#160;1&#160;P<br/>
1&#160;P<br/>
and<br/>
1&#160;P<br/>
â‰¥&#160;1&#160;P<br/>
n<br/>
j&#160;bsj&#160;â‰¥<br/>
n<br/>
j&#160;bsâˆ’1<br/>
j<br/>
n<br/>
j&#160;bsâˆ’1<br/>
j<br/>
n<br/>
j&#160;bj&#160;.<br/>
Therefore,<br/>
1&#160;P<br/>
P<br/>
P<br/>
n<br/>
j&#160;bsj&#160;â‰¥&#160;1<br/>
n<br/>
j&#160;bsâˆ’1<br/>
j<br/>
Â·&#160;1n<br/>
j&#160;bj&#160;.&#160;Together&#160;with&#160;Proposition&#160;<a href="1611.02099s.html#5">2.1,&#160;</a>this&#160;proves&#160;the&#160;corollary.<br/>
âœ·<br/>
We&#160;now&#160;consider&#160;a&#160;converse&#160;to&#160;our&#160;intended&#160;theorem,&#160;saying&#160;that&#160;if&#160;a&#160;graph&#160;satisï¬es&#160;Pâˆ—2,p(Î³),&#160;then&#160;it<br/>also&#160;satisï¬es&#160;Pâˆ—r,p(r2Î³).&#160;Versions&#160;of&#160;this&#160;counting&#160;lemma&#160;already&#160;appear&#160;in&#160;the&#160;literature,&#160;for&#160;example,<br/>in&#160;Section&#160;10.5&#160;of&#160;LovÂ´aszâ€™&#160;book&#160;on&#160;graph&#160;limits&#160;<a href="1611.02099s.html#15">[16]</a>.&#160;However,&#160;because&#160;this&#160;result&#160;is&#160;central&#160;to&#160;our<br/>estimates&#160;and&#160;not&#160;as&#160;well&#160;known&#160;as&#160;it&#160;should&#160;be,&#160;we&#160;include&#160;the&#160;proof.<br/>
Lemma&#160;2.3.&#160;If&#160;a&#160;graph&#160;G&#160;satisfies&#160;Pâˆ—2,p(Î³),&#160;then&#160;it&#160;also&#160;satisfies&#160;Pâˆ—r,p(r2Î³).<br/>
Proof.&#160;Given&#160;S,&#160;T&#160;âŠ†&#160;V&#160;(G),&#160;write&#160;e(S,&#160;T&#160;)&#160;=&#160;PsâˆˆS,tâˆˆT&#160;1G(s,&#160;t),&#160;where&#160;1G&#160;is&#160;the&#160;indicator&#160;function&#160;for<br/>edges&#160;of&#160;G.&#160;In&#160;particular,&#160;when&#160;S&#160;=&#160;T&#160;,&#160;this&#160;counts&#160;the&#160;number&#160;of&#160;labeled&#160;edges&#160;in&#160;S.&#160;By&#160;assumption,<br/>e(S,&#160;S)&#160;=&#160;p|S|2&#160;Â±&#160;Î³n2&#160;for&#160;all&#160;S&#160;âŠ†&#160;V&#160;(G).&#160;Therefore,&#160;using&#160;the&#160;identity<br/>
2e(S,&#160;T&#160;)&#160;=&#160;e(S&#160;âˆª&#160;T,&#160;S&#160;âˆª&#160;T&#160;)&#160;+&#160;e(S&#160;âˆ©&#160;T,&#160;S&#160;âˆ©&#160;T&#160;)&#160;âˆ’&#160;e(S&#160;\&#160;T,&#160;S&#160;\&#160;T&#160;)&#160;âˆ’&#160;e(T&#160;\&#160;S,&#160;T&#160;\&#160;S),<br/>
we&#160;see&#160;that&#160;e(S,&#160;T&#160;)&#160;=&#160;p|S||T&#160;|&#160;Â±&#160;2Î³n2&#160;for&#160;all&#160;S,&#160;T&#160;âŠ†&#160;V&#160;(G).&#160;Rewriting&#160;this&#160;conclusion,&#160;we&#160;see&#160;that<br/>
X<br/>
|<br/>
(1G(s,&#160;t)&#160;âˆ’&#160;p)|&#160;â‰¤&#160;2Î³n2<br/>
sâˆˆS,tâˆˆT<br/>
for&#160;all&#160;S,&#160;T&#160;âŠ†&#160;V&#160;(G).&#160;In&#160;turn,&#160;this&#160;implies&#160;that&#160;for&#160;any&#160;functions&#160;u,&#160;v&#160;:&#160;V&#160;(G)&#160;â†’&#160;[0,&#160;1],<br/>
X<br/>
|<br/>
(1G(x,&#160;y)&#160;âˆ’&#160;p)u(x)v(y)|&#160;â‰¤&#160;2Î³n2.<br/>
x,yâˆˆV&#160;(G)<br/>
Indeed,&#160;since&#160;the&#160;function&#160;we&#160;wish&#160;to&#160;estimate&#160;is&#160;linear&#160;in&#160;u(x)&#160;and&#160;v(y)&#160;for&#160;each&#160;x&#160;and&#160;y,&#160;the&#160;value<br/>of&#160;the&#160;function&#160;is&#160;maximised&#160;when&#160;u&#160;and&#160;v&#160;take&#160;values&#160;in&#160;{0,&#160;1}.&#160;In&#160;this&#160;case,&#160;u&#160;and&#160;v&#160;correspond&#160;to<br/>indicator&#160;functions,&#160;so&#160;the&#160;inequality&#160;reduces&#160;to&#160;the&#160;previous&#160;special&#160;case.<br/>
5<br/>
<hr/>
<a name=6></a><img class="yflip" src="html/1611.02099-6_1.png"/><br/>
<img class="yflip" src="html/1611.02099-6_2.png"/><br/>
<img class="yflip" src="html/1611.02099-6_3.png"/><br/>
For&#160;ease&#160;of&#160;notation,&#160;we&#160;spell&#160;out&#160;the&#160;rest&#160;of&#160;the&#160;proof&#160;for&#160;the&#160;case&#160;of&#160;triangles.&#160;By&#160;telescoping,&#160;the<br/>deviation&#160;between&#160;the&#160;number&#160;of&#160;labeled&#160;triangles&#160;in&#160;a&#160;set&#160;S&#160;âŠ†&#160;V&#160;(G)&#160;and&#160;its&#160;expected&#160;value&#160;is<br/>
X<br/>
X<br/>
(1G(x,y)1G(y,&#160;z)1G(z,&#160;x)&#160;âˆ’&#160;p3)&#160;=<br/>
(1G(x,&#160;y)&#160;âˆ’&#160;p)1G(y,&#160;z)1G(z,&#160;x)+<br/>
x,y,zâˆˆS<br/>
x,y,zâˆˆS<br/>
X<br/>
X<br/>
p(1G(y,&#160;z)&#160;âˆ’&#160;p)1G(z,&#160;x)&#160;+<br/>
p2(1G(z,&#160;x)&#160;âˆ’&#160;p).<br/>
x,y,zâˆˆS<br/>
x,y,zâˆˆS<br/>
Each&#160;term&#160;on&#160;the&#160;right-hand&#160;side&#160;of&#160;this&#160;equation&#160;may&#160;be&#160;written&#160;as&#160;a&#160;sum&#160;over&#160;terms&#160;of&#160;the&#160;form<br/>P<br/>
x,yâˆˆV&#160;(G)(1G(x,&#160;y)&#160;âˆ’&#160;p)u(x)v(y)&#160;for&#160;some&#160;appropriate&#160;u&#160;and&#160;v,&#160;thus&#160;implying&#160;that&#160;the&#160;deviation&#160;we<br/>
are&#160;interested&#160;in&#160;is&#160;at&#160;most&#160;6Î³n3.&#160;In&#160;general,&#160;we&#160;will&#160;be&#160;telescoping&#160;over&#160;r&#160;terms,&#160;one&#160;for&#160;each&#160;edge<br/>
2<br/>
in&#160;K<br/>
<br/>
r&#160;,&#160;so&#160;the&#160;resulting&#160;deviation&#160;is<br/>
r&#160;2Î³nr&#160;â‰¤&#160;r2Î³nr,&#160;as&#160;required.<br/>
2<br/>
âœ·<br/>
We&#160;will&#160;also&#160;use&#160;some&#160;simple&#160;ingredients&#160;from&#160;other&#160;papers.&#160;The&#160;ï¬rst,&#160;taken&#160;from&#160;a&#160;paper&#160;of&#160;ErdËos,<br/>Goldberg,&#160;Pach&#160;and&#160;Spencer&#160;<a href="1611.02099s.html#14">[6]</a>,&#160;says&#160;that&#160;if&#160;an&#160;n-vertex&#160;graph&#160;contains&#160;a&#160;set&#160;which&#160;deviates&#160;from&#160;the<br/>expected&#160;density,&#160;then&#160;there&#160;is&#160;also&#160;a&#160;set&#160;of&#160;order&#160;n/2&#160;which&#160;deviates&#160;from&#160;this&#160;density.<br/>
Lemma&#160;2.4.&#160;Let&#160;G&#160;be&#160;an&#160;n-vertex&#160;graph&#160;of&#160;density&#160;q.&#160;If&#160;there&#160;is&#160;a&#160;subset&#160;S&#160;âŠ†&#160;V&#160;(G)&#160;for&#160;which<br/>|e(S)&#160;âˆ’&#160;q&#160;|S||&#160;â‰¥&#160;D,&#160;then&#160;there&#160;exists&#160;a&#160;set&#160;Sâ€²&#160;of&#160;order&#160;n/2&#160;such&#160;that&#160;|e(Sâ€²)&#160;âˆ’&#160;q&#160;|Sâ€²||&#160;â‰¥&#160;1&#160;+&#160;o(1)&#160;D.<br/>
2<br/>
2<br/>
4<br/>
We&#160;also&#160;need&#160;a&#160;special&#160;case&#160;of&#160;the&#160;Kruskalâ€“Katona&#160;theorem&#160;<a href="1611.02099s.html#14">[10,&#160;13]&#160;</a>giving&#160;an&#160;upper&#160;bound&#160;for&#160;the<br/>number&#160;of&#160;r-cliques&#160;in&#160;a&#160;graph&#160;with&#160;given&#160;density.&#160;The&#160;result&#160;we&#160;use&#160;is&#160;given&#160;as&#160;Exercise&#160;31b&#160;in<br/>Chapter&#160;13&#160;of&#160;LovÂ´aszâ€™&#160;problem&#160;book&#160;<a href="1611.02099s.html#14">[15]</a>.&#160;Here&#160;the&#160;binomial&#160;coeï¬ƒcient&#160;x&#160;is&#160;extended&#160;to&#160;all&#160;real&#160;x&#160;in<br/>
r<br/>
the&#160;obvious&#160;way.<br/>
Lemma&#160;2.5.&#160;Let&#160;r&#160;â‰¥&#160;3&#160;be&#160;an&#160;integer&#160;and&#160;x&#160;â‰¥&#160;r&#160;a&#160;real&#160;number.&#160;Then&#160;a&#160;graph&#160;with&#160;exactly&#160;x&#160;edges<br/>
2<br/>
contains&#160;at&#160;most&#160;x&#160;cliques&#160;of&#160;order&#160;r.<br/>
r<br/>
Finally,&#160;we&#160;need&#160;the&#160;standard&#160;Azumaâ€“Hoeï¬€ding&#160;inequality,&#160;which&#160;we&#160;apply&#160;in&#160;the&#160;following&#160;form&#160;(see<br/>Corollary&#160;2.27&#160;in&#160;<a href="1611.02099s.html#14">[9]</a>).<br/>
Lemma&#160;2.6.&#160;Given&#160;positive&#160;real&#160;numbers&#160;Î»,&#160;c1,&#160;.&#160;.&#160;.&#160;,&#160;ck,&#160;let&#160;f&#160;:&#160;{0,&#160;1}k&#160;â†’&#160;R&#160;be&#160;a&#160;function&#160;satisfying&#160;the<br/>following&#160;Lipschitz&#160;condition:&#160;whenever&#160;two&#160;vectors&#160;z,&#160;zâ€²&#160;âˆˆ&#160;{0,&#160;1}k&#160;differ&#160;only&#160;in&#160;the&#160;ith&#160;coordinate,<br/>|f&#160;(z)âˆ’f&#160;(zâ€²)|&#160;â‰¤&#160;ci.&#160;Then,&#160;if&#160;X1,&#160;.&#160;.&#160;.&#160;,&#160;Xk&#160;are&#160;independent&#160;random&#160;variables,&#160;each&#160;taking&#160;values&#160;in&#160;{0,&#160;1},<br/>the&#160;random&#160;variable&#160;Y&#160;=&#160;f&#160;(X1,&#160;.&#160;.&#160;.&#160;,&#160;Xk)&#160;satisfies<br/>
<br/>
Î»2<br/>
<br/>
P[|Y&#160;âˆ’&#160;E[Y&#160;]|&#160;â‰¥&#160;Î»]&#160;â‰¤&#160;2&#160;exp&#160;âˆ’<br/>
.<br/>
2&#160;Pi&#160;c2i<br/>
We&#160;are&#160;now&#160;ready&#160;to&#160;prove&#160;Theorem&#160;<a href="1611.02099s.html#2">1.1.&#160;</a>We&#160;will&#160;do&#160;this&#160;by&#160;showing&#160;that&#160;if&#160;a&#160;suï¬ƒciently&#160;large&#160;graph<br/>G&#160;satisï¬es&#160;Pâˆ—r,p(Î´),&#160;then&#160;it&#160;also&#160;satisï¬es&#160;Pâˆ—2,p(Ç«)&#160;with&#160;Ç«&#160;=&#160;O(pâˆ’2r2Î´).<br/>
Proof&#160;of&#160;Theorem&#160;<a href="1611.02099s.html#2">1.1:&#160;</a>Let&#160;G&#160;be&#160;an&#160;n-vertex&#160;graph&#160;satisfying&#160;the&#160;assertion&#160;of&#160;the&#160;theorem&#160;and<br/>let&#160;q&#160;=&#160;e(G)/&#160;n&#160;be&#160;the&#160;edge&#160;density&#160;of&#160;G.&#160;By&#160;the&#160;Kruskalâ€“Katona&#160;theorem,&#160;Lemma&#160;<a href="1611.02099s.html#6">2.5,&#160;</a>G&#160;contains<br/>
2<br/>
O(qr/2nr)&#160;labeled&#160;r-cliques.&#160;Since&#160;the&#160;number&#160;of&#160;labeled&#160;r-cliques&#160;in&#160;G&#160;is&#160;also&#160;at&#160;least&#160;1&#160;p(r)<br/>
2&#160;nr,&#160;this<br/>
2<br/>
implies&#160;that&#160;q&#160;=&#160;â„¦(prâˆ’1).<br/>
Let&#160;Î³&#160;=&#160;cqâˆ’(râˆ’2)pâˆ’(r)<br/>
2&#160;Î´&#160;for&#160;some&#160;constant&#160;c&#160;which&#160;we&#160;choose&#160;later.&#160;If&#160;G&#160;does&#160;not&#160;satisfy&#160;Pâˆ—<br/>
2,q(Î³),&#160;then<br/>
it&#160;contains&#160;a&#160;subset&#160;of&#160;vertices&#160;S&#160;such&#160;that&#160;e(S)&#160;deviates&#160;from&#160;q&#160;|S|&#160;by&#160;at&#160;least&#160;Î³n2.&#160;Using&#160;Lemma&#160;<a href="1611.02099s.html#6">2.4,</a><br/>
2<br/>
6<br/>
<hr/>
<a name=7></a>we&#160;can&#160;assume&#160;that&#160;S&#160;has&#160;order&#160;n/2,&#160;allowing&#160;for&#160;the&#160;possibility&#160;that&#160;Î³&#160;may&#160;change&#160;by&#160;a&#160;small&#160;constant<br/>factor.<br/>
Let&#160;A&#160;be&#160;a&#160;random&#160;subset&#160;of&#160;G,&#160;obtained&#160;by&#160;choosing&#160;every&#160;vertex&#160;independently&#160;with&#160;probability<br/>1/2.&#160;Let&#160;X&#160;=&#160;S&#160;âˆ©&#160;A&#160;and&#160;let&#160;Y&#160;be&#160;a&#160;random&#160;subset&#160;of&#160;G&#160;\&#160;A,&#160;obtained&#160;by&#160;further&#160;choosing&#160;every&#160;vertex<br/>with&#160;probability&#160;1/2.&#160;By&#160;linearity,&#160;the&#160;expected&#160;number&#160;of&#160;vertices&#160;in&#160;X&#160;is&#160;n/4&#160;and&#160;the&#160;expected<br/>number&#160;of&#160;edges&#160;in&#160;X&#160;is&#160;e(S)/4.&#160;Moreover,&#160;both&#160;of&#160;these&#160;quantities&#160;are&#160;highly&#160;concentrated&#160;by&#160;the<br/>Azumaâ€“Hoeï¬€ding&#160;inequality.&#160;Indeed,&#160;changing&#160;the&#160;choice&#160;for&#160;one&#160;vertex&#160;can&#160;change&#160;the&#160;number&#160;of<br/>vertices&#160;in&#160;X&#160;by&#160;at&#160;most&#160;one&#160;and&#160;the&#160;number&#160;of&#160;edges&#160;by&#160;at&#160;most&#160;n,&#160;so&#160;the&#160;sum&#160;of&#160;squares&#160;of&#160;these<br/>changes&#160;is&#160;at&#160;most&#160;O(n)&#160;for&#160;the&#160;number&#160;of&#160;vertices&#160;and&#160;O(n3)&#160;for&#160;the&#160;number&#160;of&#160;edges.&#160;These&#160;are&#160;much<br/>smaller&#160;than&#160;the&#160;square&#160;of&#160;the&#160;corresponding&#160;expectations.&#160;Similarly,&#160;the&#160;expected&#160;number&#160;of&#160;vertices<br/>and&#160;edges&#160;in&#160;Y&#160;are&#160;n/4&#160;and&#160;e(G)/16,&#160;respectively,&#160;and&#160;they&#160;are&#160;also&#160;both&#160;concentrated.&#160;Therefore,<br/>we&#160;can&#160;ï¬nd&#160;two&#160;disjoint&#160;subsets&#160;X&#160;and&#160;Y&#160;,&#160;each&#160;of&#160;order&#160;n/4&#160;+&#160;o(n),&#160;such&#160;that&#160;e(X)&#160;=&#160;e(S)/4&#160;+&#160;o(n2)<br/>and&#160;e(Y&#160;)&#160;=&#160;e(G)/16&#160;+&#160;o(n2).&#160;Thus,&#160;by&#160;the&#160;discussion&#160;above,&#160;we&#160;have&#160;e(X)&#160;âˆ’&#160;e(Y&#160;)&#160;=&#160;â„¦(Î³n2)&#160;and&#160;we<br/>can&#160;delete&#160;o(n)&#160;vertices&#160;to&#160;make&#160;the&#160;orders&#160;of&#160;X&#160;and&#160;Y&#160;equal&#160;without&#160;changing&#160;this&#160;inequality.<br/>
Let&#160;U&#160;=&#160;X&#160;âˆª&#160;Y&#160;and&#160;let&#160;H&#160;=&#160;G[U&#160;]&#160;be&#160;the&#160;subgraph&#160;of&#160;G&#160;induced&#160;by&#160;U&#160;.&#160;Without&#160;loss&#160;of&#160;generality,&#160;we<br/>will&#160;assume&#160;that&#160;e(X)&#160;â‰¥&#160;e(Y&#160;).&#160;In&#160;particular,&#160;the&#160;edge&#160;density&#160;in&#160;X&#160;is&#160;at&#160;least&#160;q.&#160;Since&#160;PxâˆˆX&#160;dH(x)&#160;=<br/>2e(X)&#160;+&#160;e(X,&#160;Y&#160;)&#160;and&#160;PyâˆˆY&#160;dH(y)&#160;=&#160;2e(Y&#160;)&#160;+&#160;e(X,&#160;Y&#160;),&#160;we&#160;have&#160;PxâˆˆX&#160;dH(x)&#160;âˆ’&#160;PyâˆˆY&#160;dH(y)&#160;=&#160;â„¦(Î³n2).<br/>Therefore,&#160;using&#160;Corollary&#160;<a href="1611.02099s.html#5">2.2&#160;</a>(with&#160;s&#160;=&#160;r&#160;âˆ’&#160;1)&#160;and&#160;|X|&#160;=&#160;n/4&#160;+&#160;o(n),&#160;we&#160;deduce&#160;that<br/>
ï£«<br/>
ï£¶<br/>
X<br/>
<br/>
X<br/>
<br/>
X<br/>
X<br/>
X<br/>
drâˆ’1(u)&#160;âˆ’&#160;drâˆ’1(v)<br/>
(x)&#160;âˆ’&#160;drâˆ’1(y)<br/>
drâˆ’2(x)<br/>
d<br/>
d<br/>
H<br/>
H<br/>
<br/>
â‰¥<br/>
drâˆ’1<br/>
H<br/>
H<br/>
&#160;â‰¥<br/>
H<br/>
ï£­<br/>
H&#160;(x)&#160;âˆ’<br/>
H&#160;(y)ï£¸<br/>
u,vâˆˆH<br/>
xâˆˆX,yâˆˆY<br/>
xâˆˆX<br/>
xâˆˆX<br/>
yâˆˆY<br/>
&#160;<br/>
!râˆ’2<br/>
X<br/>
â‰¥&#160;|X|<br/>
dH(x)/|X|<br/>
â„¦(Î³n2)&#160;=&#160;â„¦&#160;qrâˆ’2Î³nr+1.<br/>
xâˆˆX<br/>
For&#160;a&#160;suï¬ƒciently&#160;large&#160;constant&#160;c&#160;(in&#160;the&#160;deï¬nition&#160;of&#160;Î³),&#160;this&#160;contradicts&#160;Lemma&#160;<a href="1611.02099s.html#4">2.2&#160;</a>and&#160;implies&#160;that<br/>G&#160;satisï¬es&#160;Pâˆ—2,q(Î³).&#160;Finally,&#160;by&#160;Lemma&#160;<a href="1611.02099s.html#5">2.3,&#160;</a>we&#160;have&#160;that&#160;any&#160;graph&#160;satisfying&#160;Pâˆ—2,q(Î³)&#160;also&#160;satisï¬es<br/>Pâˆ—<br/>
)<br/>
r,q(r2Î³).&#160;Therefore,&#160;the&#160;number&#160;of&#160;labeled&#160;r-cliques&#160;in&#160;G&#160;deviates&#160;from&#160;q(r2&#160;nr&#160;by&#160;at&#160;most&#160;r2Î³nr.&#160;On<br/>
the&#160;other&#160;hand,&#160;the&#160;diï¬€erence&#160;between&#160;(p&#160;Â±&#160;Ç«)(r)<br/>
)<br/>
)âˆ’1<br/>
2<br/>
and&#160;p(r2&#160;has&#160;order&#160;of&#160;magnitude&#160;â„¦&#160;p(r2<br/>
Ç«.&#160;Thus,&#160;if<br/>
q&#160;diï¬€ers&#160;from&#160;p&#160;by&#160;Ç«&#160;=&#160;câ€²pâˆ’(r)+1<br/>
2<br/>
Î³&#160;for&#160;suï¬ƒciently&#160;large&#160;câ€²,&#160;we&#160;obtain&#160;the&#160;wrong&#160;count&#160;of&#160;r-cliques&#160;in&#160;G,<br/>
contradicting&#160;Pâˆ—<br/>
)+1<br/>
r,p(Î´).&#160;Therefore,&#160;G&#160;must&#160;satisfy&#160;P&#160;âˆ—<br/>
2,p(Ç«).&#160;Since&#160;q&#160;=&#160;â„¦(prâˆ’1),&#160;Ç«&#160;=&#160;ccâ€²qâˆ’(râˆ’2)pâˆ’2(r2<br/>
Î´&#160;=<br/>
O&#160;pâˆ’2r2Î´,&#160;completing&#160;the&#160;proof.<br/>
âœ·<br/>
3<br/>
General&#160;graphs<br/>
In&#160;this&#160;section,&#160;we&#160;prove&#160;Theorem&#160;<a href="1611.02099s.html#3">1.2.&#160;</a>We&#160;will&#160;assume&#160;throughout&#160;that&#160;H&#160;does&#160;not&#160;have&#160;isolated<br/>vertices,&#160;as&#160;deleting&#160;such&#160;a&#160;vertex&#160;from&#160;H&#160;simply&#160;scales&#160;the&#160;number&#160;of&#160;labeled&#160;copies&#160;in&#160;S&#160;by&#160;a&#160;factor<br/>of&#160;|S|&#160;âˆ’&#160;r&#160;+&#160;1.<br/>
We&#160;say&#160;that&#160;an&#160;n-vertex&#160;graph&#160;G&#160;has&#160;property&#160;QH,p(Ç«)&#160;if,&#160;for&#160;every&#160;r&#160;disjoint&#160;subsets&#160;V1,&#160;.&#160;.&#160;.&#160;,&#160;Vr&#160;âŠ†&#160;V&#160;(G),<br/>the&#160;number&#160;of&#160;labeled&#160;copies&#160;of&#160;H&#160;with&#160;one&#160;vertex&#160;in&#160;each&#160;Vi&#160;is&#160;pmr!&#160;Qri=1&#160;|Vi|&#160;Â±&#160;Ç«nr.&#160;In&#160;other&#160;words,<br/>property&#160;QH,p(Ç«)&#160;says&#160;that&#160;if&#160;we&#160;average&#160;over&#160;all&#160;possible&#160;permutations&#160;Ï€&#160;of&#160;[r]&#160;the&#160;number&#160;of&#160;copies<br/>of&#160;H&#160;with&#160;the&#160;copy&#160;of&#160;vertex&#160;i&#160;in&#160;VÏ€(i),&#160;the&#160;result&#160;is&#160;at&#160;most&#160;Ç«nr/r!&#160;from&#160;pm&#160;Qri=1&#160;|Vi|.<br/>For&#160;a&#160;subset&#160;U&#160;âŠ†&#160;V&#160;(G),&#160;let&#160;NH(U&#160;)&#160;denote&#160;the&#160;number&#160;of&#160;labeled&#160;copies&#160;of&#160;H&#160;in&#160;G&#160;whose&#160;vertices&#160;lie<br/>in&#160;U&#160;.&#160;Let&#160;NH(V1,&#160;.&#160;.&#160;.&#160;,&#160;Vr)&#160;denote&#160;the&#160;number&#160;of&#160;labeled&#160;copies&#160;of&#160;H&#160;in&#160;G&#160;with&#160;one&#160;vertex&#160;in&#160;each&#160;Vi.<br/>
7<br/>
<hr/>
<a name=8></a>For&#160;S&#160;âŠ†&#160;[r],&#160;let&#160;US&#160;=&#160;SiâˆˆS&#160;Vi.&#160;By&#160;the&#160;inclusion-exclusion&#160;principle,&#160;we&#160;have<br/>
X<br/>
NH(V1,&#160;.&#160;.&#160;.&#160;,&#160;Vr)&#160;=<br/>
(âˆ’1)râˆ’|S|NH(US).<br/>
SâŠ†[r]<br/>
If&#160;G&#160;has&#160;property&#160;Pâˆ—H,p(Ç«),&#160;it&#160;follows&#160;that&#160;NH(US)&#160;is&#160;within&#160;Ç«nr&#160;of&#160;pm|US|r.&#160;Applying&#160;this&#160;to&#160;each&#160;of<br/>the&#160;2r&#160;âˆ’&#160;1&#160;choices&#160;of&#160;S,&#160;we&#160;get&#160;that&#160;NH&#160;(V1,&#160;.&#160;.&#160;.&#160;,&#160;Vr)&#160;is&#160;within&#160;(2r&#160;âˆ’&#160;1)Ç«nr&#160;of&#160;pmr!&#160;Qri=1&#160;|Vi|.&#160;Hence,&#160;we<br/>have&#160;the&#160;following&#160;lemma.<br/>
Lemma&#160;3.1.&#160;If&#160;G&#160;satisfies&#160;Pâˆ—H,p(Ç«),&#160;then&#160;it&#160;also&#160;satisfies&#160;QH,p((2r&#160;âˆ’&#160;1)Ç«).<br/>
We&#160;remark&#160;that&#160;the&#160;property&#160;studied&#160;by&#160;Reiher&#160;and&#160;Schacht&#160;<a href="1611.02099s.html#15">[18]&#160;</a>is&#160;a&#160;variant&#160;of&#160;QH,p.&#160;We&#160;say&#160;that<br/>a&#160;graph&#160;G&#160;on&#160;n&#160;vertices&#160;has&#160;property&#160;RH,p(Ç«)&#160;if&#160;for&#160;any&#160;r&#160;disjoint&#160;vertex&#160;subsets&#160;V1,&#160;.&#160;.&#160;.&#160;,&#160;Vr&#160;of&#160;G&#160;and<br/>every&#160;one-to-one&#160;mapping&#160;Ï€&#160;:&#160;V&#160;(H)&#160;â†’&#160;[r],&#160;the&#160;number&#160;of&#160;copies&#160;of&#160;H&#160;where&#160;the&#160;image&#160;of&#160;v&#160;is&#160;in&#160;VÏ€(v)<br/>for&#160;each&#160;vertex&#160;v&#160;of&#160;H&#160;is&#160;within&#160;Ç«nr&#160;of&#160;pm&#160;Qri=1&#160;|Vi|.&#160;Note&#160;that&#160;R&#160;is&#160;a&#160;stronger&#160;property&#160;than&#160;Q,&#160;since&#160;if<br/>a&#160;graph&#160;satisï¬es&#160;RH,p(Ç«),&#160;then&#160;it&#160;also&#160;satisï¬es&#160;QH,p(r!Ç«).&#160;It&#160;remains&#160;an&#160;open&#160;problem&#160;to&#160;ï¬nd&#160;a&#160;simple<br/>proof&#160;(i.e.,&#160;without&#160;going&#160;through&#160;the&#160;methods&#160;developed&#160;here&#160;or&#160;through&#160;regularity&#160;methods)&#160;that<br/>shows&#160;the&#160;other&#160;direction,&#160;that&#160;Q&#160;implies&#160;R.<br/>
We&#160;say&#160;that&#160;a&#160;pair&#160;(A,&#160;B)&#160;of&#160;vertex&#160;subsets&#160;of&#160;a&#160;graph&#160;G&#160;is&#160;lower-(q,&#160;Ç«)-regular&#160;if,&#160;for&#160;all&#160;Aâ€²&#160;âŠ†&#160;A&#160;and<br/>Bâ€²&#160;âŠ†&#160;B,<br/>
e(Aâ€²,&#160;Bâ€²)&#160;â‰¥&#160;q|Aâ€²||Bâ€²|&#160;âˆ’&#160;Ç«|A||B|.<br/>
That&#160;is,&#160;the&#160;density&#160;between&#160;all&#160;pairs&#160;of&#160;large&#160;subsets&#160;is&#160;at&#160;least&#160;q,&#160;up&#160;to&#160;an&#160;error&#160;depending&#160;on&#160;Ç«.<br/>As&#160;in&#160;the&#160;proof&#160;of&#160;Lemma&#160;<a href="1611.02099s.html#5">2.3,&#160;</a>this&#160;is&#160;equivalent&#160;to&#160;saying&#160;that&#160;for&#160;all&#160;functions&#160;u&#160;:&#160;A&#160;â†’&#160;[0,&#160;1]&#160;and<br/>v&#160;:&#160;B&#160;â†’&#160;[0,&#160;1],<br/>
X<br/>
X<br/>
1G(a,&#160;b)u(a)v(b)&#160;â‰¥&#160;q<br/>
u(a)v(b)&#160;âˆ’&#160;Ç«|A||B|.<br/>
aâˆˆA,bâˆˆB<br/>
aâˆˆA,bâˆˆB<br/>
Similarly,&#160;we&#160;say&#160;that&#160;(A,&#160;B)&#160;is&#160;upper-(q,&#160;Ç«)-regular&#160;if,&#160;for&#160;all&#160;subsets&#160;Aâ€²&#160;âŠ†&#160;A&#160;and&#160;Bâ€²&#160;âŠ†&#160;B,<br/>
e(Aâ€²,&#160;Bâ€²)&#160;â‰¤&#160;q|Aâ€²||Bâ€²|&#160;+&#160;Ç«|A||B|.<br/>
We&#160;note&#160;that&#160;if&#160;a&#160;pair&#160;of&#160;subsets&#160;is&#160;both&#160;lower-(q,&#160;Ç«)-regular&#160;and&#160;upper-(q,&#160;Ç«)-regular,&#160;it&#160;satisï¬es&#160;a<br/>notion&#160;of&#160;regularity&#160;introduced&#160;by&#160;LovÂ´asz&#160;and&#160;Szegedy&#160;<a href="1611.02099s.html#15">[17]&#160;</a>(though&#160;equivalent&#160;up&#160;to&#160;a&#160;polynomial<br/>change&#160;in&#160;Ç«&#160;to&#160;the&#160;original&#160;notion&#160;of&#160;regularity&#160;introduced&#160;by&#160;SzemerÂ´edi&#160;<a href="1611.02099s.html#15">[23]</a>).<br/>
The&#160;following&#160;counting&#160;lemma&#160;gives&#160;a&#160;lower&#160;bound&#160;for&#160;the&#160;number&#160;of&#160;copies&#160;of&#160;a&#160;graph&#160;H&#160;between&#160;a<br/>collection&#160;of&#160;sets&#160;with&#160;lower-regular&#160;pairs.&#160;We&#160;omit&#160;the&#160;proof,&#160;which&#160;follows&#160;by&#160;the&#160;same&#160;telescoping<br/>argument&#160;used&#160;for&#160;Lemma&#160;<a href="1611.02099s.html#5">2.3.</a><br/>
Lemma&#160;3.2.&#160;Let&#160;H&#160;be&#160;a&#160;graph&#160;on&#160;vertex&#160;set&#160;{1,&#160;2,&#160;.&#160;.&#160;.&#160;,&#160;r}.&#160;Let&#160;G&#160;be&#160;a&#160;graph&#160;with&#160;vertex&#160;subsets<br/>V1,&#160;.&#160;.&#160;.&#160;,&#160;Vr&#160;such&#160;that&#160;(Vi,&#160;Vj)&#160;is&#160;lower-(pij,&#160;Ç«)-regular&#160;for&#160;each&#160;edge&#160;(i,&#160;j)&#160;of&#160;H.&#160;Then&#160;the&#160;number&#160;of<br/>homomorphisms&#160;from&#160;H&#160;to&#160;G&#160;with&#160;the&#160;copy&#160;of&#160;vertex&#160;i&#160;in&#160;Vi&#160;is&#160;at&#160;least<br/>
ï£«<br/>
ï£¶<br/>
r<br/>
Y<br/>
Y<br/>
ï£­<br/>
pij&#160;âˆ’&#160;e(H)Ç«ï£¸<br/>
|Vi|.<br/>
(i,j)âˆˆE(H)<br/>
i=1<br/>
Note&#160;that&#160;a&#160;similar&#160;lemma&#160;also&#160;holds&#160;if&#160;lower&#160;is&#160;replaced&#160;by&#160;upper&#160;and&#160;âˆ’&#160;by&#160;+.&#160;It&#160;is&#160;also&#160;worth<br/>noting&#160;that&#160;we&#160;have&#160;not&#160;insisted&#160;that&#160;the&#160;vertex&#160;sets&#160;V1,&#160;.&#160;.&#160;.&#160;,&#160;Vr&#160;be&#160;disjoint.&#160;In&#160;particular,&#160;we&#160;may&#160;take<br/>V1&#160;=&#160;Â·&#160;Â·&#160;Â·&#160;=&#160;Vr&#160;to&#160;obtain&#160;a&#160;non-partite&#160;version&#160;of&#160;the&#160;lemma.<br/>The&#160;next&#160;lemma&#160;shows&#160;that&#160;lower&#160;regularity&#160;implies&#160;upper&#160;regularity&#160;and&#160;vice&#160;versa.<br/>
8<br/>
<hr/>
<a name=9></a><img class="yflip" src="html/1611.02099-9_1.png"/><br/>
<img class="yflip" src="html/1611.02099-9_2.png"/><br/>
<img class="yflip" src="html/1611.02099-9_3.png"/><br/>
<img class="yflip" src="html/1611.02099-9_4.png"/><br/>
<img class="yflip" src="html/1611.02099-9_5.png"/><br/>
<img class="yflip" src="html/1611.02099-9_6.png"/><br/>
<img class="yflip" src="html/1611.02099-9_7.png"/><br/>
<img class="yflip" src="html/1611.02099-9_8.png"/><br/>
<img class="yflip" src="html/1611.02099-9_9.png"/><br/>
<img class="yflip" src="html/1611.02099-9_10.png"/><br/>
<img class="yflip" src="html/1611.02099-9_11.png"/><br/>
<img class="yflip" src="html/1611.02099-9_12.png"/><br/>
<img class="yflip" src="html/1611.02099-9_13.png"/><br/>
<img class="yflip" src="html/1611.02099-9_14.png"/><br/>
<img class="yflip" src="html/1611.02099-9_15.png"/><br/>
Lemma&#160;3.3.&#160;If&#160;a&#160;pair&#160;(A,&#160;B)&#160;of&#160;vertex&#160;subsets&#160;of&#160;a&#160;graph&#160;is&#160;not&#160;lower-(d(A,&#160;B),&#160;Ç«)-regular,&#160;then&#160;it&#160;is<br/>also&#160;not&#160;upper-(d(A,&#160;B),&#160;Ç«/2)-regular.&#160;The&#160;same&#160;holds&#160;if&#160;lower&#160;and&#160;upper&#160;are&#160;switched.<br/>
Proof.&#160;By&#160;assumption,&#160;there&#160;are&#160;subsets&#160;Aâ€²&#160;âŠ‚&#160;A&#160;and&#160;Bâ€²&#160;âŠ‚&#160;B&#160;such&#160;that&#160;e(Aâ€²,&#160;Bâ€²)&#160;âˆ’&#160;d(A,&#160;B)|Aâ€²||Bâ€²|&#160;&lt;<br/>âˆ’Ç«|A||B|.&#160;As<br/>
e(Aâ€²,&#160;Bâ€²)&#160;+&#160;e(A&#160;\&#160;Aâ€²,&#160;B)&#160;+&#160;e(Aâ€²,&#160;B&#160;\&#160;Bâ€²)&#160;=&#160;e(A,&#160;B)<br/>
=&#160;d(A,&#160;B)|A||B|<br/>
=&#160;d(A,&#160;B)|Aâ€²||Bâ€²|&#160;+&#160;d(A,&#160;B)|A&#160;\&#160;Aâ€²||B|&#160;+&#160;d(A,&#160;B)|Aâ€²||B&#160;\&#160;Bâ€²|,<br/>
it&#160;follows&#160;that&#160;at&#160;least&#160;one&#160;of&#160;the&#160;pairs&#160;(A&#160;\&#160;Aâ€²,&#160;B)&#160;and&#160;(Aâ€²,&#160;B&#160;\&#160;Bâ€²)&#160;demonstrates&#160;that&#160;(A,&#160;B)&#160;is&#160;not<br/>upper-(d(A,&#160;B),&#160;Ç«/2)-regular.&#160;The&#160;proof&#160;when&#160;lower&#160;and&#160;upper&#160;are&#160;switched&#160;is&#160;the&#160;same.<br/>
âœ·<br/>
We&#160;also&#160;need&#160;a&#160;simple&#160;lemma&#160;saying&#160;that&#160;we&#160;can&#160;always&#160;ï¬nd&#160;a&#160;pair&#160;of&#160;subsets&#160;of&#160;equal&#160;size&#160;which&#160;bear<br/>witness&#160;to&#160;irregularity.<br/>
Lemma&#160;3.4.&#160;Suppose&#160;(A,&#160;B)&#160;is&#160;a&#160;pair&#160;of&#160;vertex&#160;subsets&#160;of&#160;a&#160;graph&#160;which&#160;is&#160;not&#160;upper-(q,&#160;Î³)-regular.<br/>Then&#160;there&#160;are&#160;subsets&#160;Aâ€²&#160;âŠ†&#160;A&#160;and&#160;Bâ€²&#160;âŠ†&#160;B&#160;with&#160;|Aâ€²|&#160;=&#160;|Bâ€²|&#160;and&#160;d(Aâ€²,&#160;Bâ€²)&#160;â‰¥&#160;q&#160;+&#160;Î³&#160;min{&#160;|A|&#160;,&#160;|B|&#160;}.&#160;The<br/>
|Aâ€²|&#160;|Bâ€²|<br/>
same&#160;holds&#160;with&#160;upper&#160;replaced&#160;by&#160;lower,&#160;+&#160;by&#160;âˆ’&#160;and&#160;the&#160;inequality&#160;reversed.<br/>
Proof.&#160;As&#160;(A,&#160;B)&#160;is&#160;not&#160;upper-(q,&#160;Î³)-regular,&#160;there&#160;are&#160;subsets&#160;A0&#160;âŠ†&#160;A&#160;and&#160;B0&#160;âŠ†&#160;B&#160;such&#160;that<br/>e(A0,&#160;B0)&#160;â‰¥&#160;q|A0||B0|&#160;+&#160;Î³|A||B|.&#160;Without&#160;loss&#160;of&#160;generality,&#160;we&#160;may&#160;assume&#160;that&#160;|A0|&#160;â‰¤&#160;|B0|.&#160;Let<br/>Bâ€²&#160;âŠ†&#160;B0&#160;be&#160;the&#160;subset&#160;of&#160;|A0|&#160;vertices&#160;with&#160;the&#160;most&#160;neighbors&#160;in&#160;A0&#160;and&#160;Aâ€²&#160;=&#160;A0.&#160;Then<br/>
e(A<br/>
|A||B|<br/>
|A|<br/>
d(Aâ€²,&#160;Bâ€²)&#160;â‰¥&#160;d(A<br/>
0,&#160;B0)<br/>
0,&#160;B0)&#160;=<br/>
â‰¥&#160;q&#160;+&#160;Î³<br/>
â‰¥&#160;q&#160;+&#160;Î³<br/>
,<br/>
|A0||B0|<br/>
|A0||B0|<br/>
|Aâ€²|<br/>
as&#160;required.<br/>
âœ·<br/>
The&#160;next&#160;lemma&#160;shows&#160;that&#160;if&#160;a&#160;graph&#160;satisï¬es&#160;QH,p&#160;but&#160;there&#160;are&#160;sets&#160;A&#160;and&#160;B&#160;for&#160;which&#160;the&#160;density<br/>d(A,&#160;B)&#160;deviates&#160;signiï¬cantly&#160;from&#160;the&#160;expected&#160;density,&#160;then&#160;there&#160;are&#160;sets&#160;Aâ€²&#160;and&#160;Bâ€²&#160;such&#160;that&#160;the<br/>density&#160;d(Aâ€²,&#160;Bâ€²)&#160;deviates&#160;by&#160;even&#160;more.&#160;This&#160;observation&#160;will&#160;allow&#160;us&#160;to&#160;run&#160;a&#160;density-increment<br/>argument&#160;in&#160;the&#160;proof&#160;of&#160;Theorem&#160;<a href="1611.02099s.html#3">1.2.</a><br/>
Lemma&#160;3.5.&#160;Let&#160;H&#160;be&#160;a&#160;graph&#160;with&#160;r&#160;vertices&#160;and&#160;m&#160;edges.&#160;Suppose&#160;G&#160;is&#160;a&#160;graph&#160;on&#160;n&#160;vertices&#160;that<br/>satisfies&#160;QH,p(Î´)&#160;and&#160;has&#160;disjoint&#160;subsets&#160;A&#160;and&#160;B&#160;with&#160;|A|&#160;=&#160;|B|&#160;such&#160;that&#160;Î´&#160;â‰¤&#160;1&#160;Î±mpmrâˆ’r(|A|/n)r<br/>
4r<br/>
and&#160;d(A,&#160;B)&#160;â‰¥&#160;(1&#160;+&#160;Î±)p&#160;or&#160;d(A,&#160;B)&#160;â‰¤&#160;(1&#160;âˆ’&#160;Î±)p&#160;with&#160;Î±&#160;â‰¤<br/>
1<br/>
.&#160;Then&#160;there&#160;are&#160;also&#160;disjoint&#160;subsets<br/>
16mr<br/>
Aâ€²&#160;and&#160;Bâ€²&#160;with&#160;|Aâ€²|&#160;=&#160;|Bâ€²|&#160;and&#160;d(Aâ€²,&#160;Bâ€²)&#160;â‰¥&#160;(1&#160;+&#160;(1&#160;+&#160;Î²)Î±)p&#160;or&#160;d(Aâ€²,&#160;Bâ€²)&#160;â‰¤&#160;(1&#160;âˆ’&#160;(1&#160;+&#160;Î²)Î±)p&#160;where<br/>Î²&#160;=&#160;pmâˆ’1&#160;|A|&#160;.<br/>
4r3&#160;|Aâ€²|<br/>
Proof.&#160;Suppose&#160;that&#160;we&#160;are&#160;in&#160;the&#160;case&#160;where&#160;d(A,&#160;B)&#160;â‰¥&#160;(1&#160;+&#160;Î±)p.&#160;Let&#160;q&#160;=&#160;(1&#160;âˆ’&#160;Î±)p&#160;and&#160;Ï…&#160;=&#160;pmÎ±/(4r).<br/>Take&#160;an&#160;arbitrary&#160;equitable&#160;partition&#160;of&#160;A&#160;into&#160;âŒŠr/2âŒ‹&#160;subsets&#160;A1,&#160;.&#160;.&#160;.&#160;,&#160;AâŒŠr/2âŒ‹&#160;and&#160;B&#160;into&#160;âŒˆr/2âŒ‰&#160;subsets<br/>AâŒŠr/2âŒ‹+1,&#160;.&#160;.&#160;.&#160;,&#160;Ar.<br/>First&#160;suppose&#160;that&#160;there&#160;is&#160;a&#160;pair&#160;(Ai,&#160;Aj)&#160;with&#160;1&#160;â‰¤&#160;i&#160;â‰¤&#160;âŒŠr/2âŒ‹&#160;&lt;&#160;j&#160;â‰¤&#160;r&#160;which&#160;is&#160;not&#160;lower-(d(A,&#160;B),&#160;Ï…)-<br/>regular.&#160;As&#160;Ai&#160;âŠ‚&#160;A&#160;and&#160;Aj&#160;âŠ‚&#160;B,&#160;(A,&#160;B)&#160;is&#160;not&#160;lower-(d(A,&#160;B),&#160;Ï…â€²)-regular,&#160;where&#160;Ï…â€²&#160;=&#160;Ï…&#160;|Ai|||Aj|&#160;â‰¥&#160;2&#160;Ï….<br/>
|A||B|<br/>
r2<br/>
By&#160;Lemma&#160;<a href="1611.02099s.html#9">3.3,&#160;</a>(A,&#160;B)&#160;is&#160;also&#160;not&#160;upper-(d(A,&#160;B),&#160;Ï…â€²/2)-regular.&#160;Therefore,&#160;by&#160;Lemma&#160;<a href="1611.02099s.html#9">3.4,&#160;</a>there&#160;are<br/>subsets&#160;Aâ€²&#160;âŠ†&#160;A&#160;and&#160;Bâ€²&#160;âŠ†&#160;B&#160;such&#160;that&#160;|Aâ€²|&#160;=&#160;|Bâ€²|&#160;and&#160;d(Aâ€²,&#160;Bâ€²)&#160;â‰¥&#160;d(A,&#160;B)&#160;+&#160;Ï…â€²&#160;|A|&#160;â‰¥&#160;d(A,&#160;B)&#160;+&#160;Ï…&#160;|A|&#160;.<br/>
2&#160;|Aâ€²|<br/>
r2&#160;|Aâ€²|<br/>
9<br/>
<hr/>
<a name=10></a><img class="yflip" src="html/1611.02099-10_1.png"/><br/>
<img class="yflip" src="html/1611.02099-10_2.png"/><br/>
<img class="yflip" src="html/1611.02099-10_3.png"/><br/>
<img class="yflip" src="html/1611.02099-10_4.png"/><br/>
<img class="yflip" src="html/1611.02099-10_5.png"/><br/>
<img class="yflip" src="html/1611.02099-10_6.png"/><br/>
<img class="yflip" src="html/1611.02099-10_7.png"/><br/>
<img class="yflip" src="html/1611.02099-10_8.png"/><br/>
<img class="yflip" src="html/1611.02099-10_9.png"/><br/>
<img class="yflip" src="html/1611.02099-10_10.png"/><br/>
<img class="yflip" src="html/1611.02099-10_11.png"/><br/>
<img class="yflip" src="html/1611.02099-10_12.png"/><br/>
Hence,&#160;since&#160;Ï…&#160;|A|&#160;=&#160;Î±Î²p,&#160;we&#160;may&#160;suppose&#160;all&#160;pairs&#160;(A<br/>
r2&#160;|Aâ€²|<br/>
i,&#160;Aj&#160;)&#160;with&#160;1&#160;â‰¤&#160;i&#160;â‰¤&#160;âŒŠr/2âŒ‹&#160;&lt;&#160;j&#160;â‰¤&#160;r&#160;are<br/>
lower-(d(A,&#160;B),&#160;Ï…)-regular.<br/>
Now&#160;suppose&#160;there&#160;is&#160;a&#160;pair&#160;(Ai,&#160;Aj)&#160;with&#160;1&#160;&lt;&#160;i&#160;&lt;&#160;j&#160;â‰¤&#160;âŒŠr/2âŒ‹&#160;which&#160;is&#160;not&#160;lower-(q,&#160;Ï…)-regular.<br/>By&#160;Lemma&#160;<a href="1611.02099s.html#9">3.4,&#160;</a>there&#160;are&#160;subsets&#160;Aâ€²&#160;âŠ†&#160;Ai&#160;and&#160;Bâ€²&#160;âŠ†&#160;Aj&#160;with&#160;|Aâ€²|&#160;=&#160;|Bâ€²|&#160;and&#160;d(Aâ€²,&#160;Bâ€²)&#160;â‰¤&#160;q&#160;âˆ’<br/>Ï…&#160;min{&#160;|Ai|&#160;,&#160;|Aj|&#160;}&#160;â‰¤&#160;q&#160;âˆ’&#160;Ï…&#160;|A|&#160;â‰¤&#160;(1&#160;âˆ’&#160;(1&#160;+&#160;Î²)Î±)p.&#160;Hence,&#160;we&#160;may&#160;suppose&#160;all&#160;pairs&#160;(A<br/>
|Aâ€²|&#160;|Bâ€²|<br/>
r&#160;|Aâ€²|<br/>
i,&#160;Aj&#160;)&#160;with&#160;1&#160;&lt;&#160;i&#160;&lt;<br/>
j&#160;â‰¤&#160;âŒŠr/2âŒ‹&#160;are&#160;lower-(q,&#160;Ï…)-regular.&#160;Similarly,&#160;we&#160;may&#160;suppose&#160;all&#160;pairs&#160;(Ai,&#160;Aj)&#160;with&#160;âŒŠr/2âŒ‹&#160;&lt;&#160;i&#160;&lt;&#160;j&#160;â‰¤&#160;r<br/>are&#160;lower-(q,&#160;Ï…)-regular.<br/>
Consider&#160;a&#160;bijection&#160;Ï†&#160;:&#160;V&#160;(H)&#160;â†’&#160;[r].&#160;Let&#160;m1&#160;denote&#160;the&#160;number&#160;of&#160;edges&#160;(v,&#160;w)&#160;of&#160;H&#160;for&#160;which<br/>Ï†(v),&#160;Ï†(w)&#160;â‰¤&#160;âŒŠr/2âŒ‹&#160;or&#160;Ï†(v),&#160;Ï†(w)&#160;&gt;&#160;âŒŠr/2âŒ‹&#160;and&#160;m2&#160;denote&#160;the&#160;number&#160;of&#160;edges&#160;(v,&#160;w)&#160;of&#160;H&#160;for&#160;which<br/>Ï†(v)&#160;â‰¤&#160;âŒŠr/2âŒ‹&#160;&lt;&#160;Ï†(w),&#160;so&#160;m&#160;=&#160;m1&#160;+&#160;m2.&#160;By&#160;Lemma&#160;<a href="1611.02099s.html#8">3.2,&#160;</a>the&#160;number&#160;of&#160;copies&#160;of&#160;H&#160;where&#160;v&#160;maps&#160;to<br/>AÏ†(v)&#160;for&#160;each&#160;vertex&#160;v&#160;âˆˆ&#160;H&#160;is&#160;at&#160;least<br/>
r<br/>
r<br/>
Y<br/>
Y<br/>
(qm1d(A,&#160;B)m2&#160;âˆ’&#160;mÏ…)<br/>
|Ai|&#160;â‰¥&#160;((1&#160;âˆ’&#160;Î±)m1(1&#160;+&#160;Î±)m2pm&#160;âˆ’&#160;mÏ…)<br/>
|Ai|<br/>
i=1<br/>
i=1<br/>
r<br/>
Y<br/>
â‰¥&#160;((1&#160;âˆ’&#160;Î±m1)(1&#160;+&#160;Î±m2)pm&#160;âˆ’&#160;mÏ…)<br/>
|Ai|<br/>
i=1<br/>
(1)<br/>
r<br/>
Y<br/>
=&#160;(1&#160;âˆ’&#160;Î±m1&#160;+&#160;Î±m2&#160;âˆ’&#160;Î±2m1m2)pm&#160;âˆ’&#160;mÏ…<br/>
|Ai|<br/>
i=1<br/>
r<br/>
Y<br/>
â‰¥&#160;((1&#160;âˆ’&#160;Î±m1&#160;+&#160;Î±m2&#160;âˆ’&#160;Î±m/64r)pm&#160;âˆ’&#160;mÏ…)<br/>
|Ai|,<br/>
i=1<br/>
where&#160;in&#160;the&#160;last&#160;inequality&#160;we&#160;used&#160;m1m2&#160;â‰¤&#160;m2/4,&#160;which&#160;follows&#160;from&#160;m1&#160;+m2&#160;=&#160;m&#160;and&#160;the&#160;AMâ€“GM<br/>inequality,&#160;and&#160;Î±&#160;â‰¤&#160;1/16mr.<br/>
We&#160;average&#160;this&#160;lower&#160;bound&#160;over&#160;all&#160;choices&#160;of&#160;Ï†.&#160;Each&#160;edge&#160;(v,&#160;w)&#160;maps&#160;to&#160;a&#160;pair&#160;(i,&#160;j)&#160;with&#160;i&#160;&lt;&#160;j<br/>and&#160;the&#160;probability&#160;this&#160;pair&#160;satisï¬es&#160;i&#160;â‰¤&#160;âŒŠr/2âŒ‹&#160;&lt;&#160;j&#160;is&#160;âŒŠr/2âŒ‹âŒˆr/2âŒ‰/&#160;r&#160;â‰¥&#160;1&#160;(r2&#160;âˆ’&#160;1)/&#160;r&#160;=&#160;1&#160;1&#160;+&#160;1&#160;.<br/>
2<br/>
4<br/>
2<br/>
2<br/>
r<br/>
Thus,&#160;by&#160;linearity&#160;of&#160;expectation,&#160;E[m2&#160;âˆ’&#160;m1]&#160;â‰¥&#160;m/r.&#160;Hence,&#160;the&#160;average&#160;value&#160;of&#160;<a href="1611.02099s.html#10">(1)&#160;</a>is&#160;at&#160;least<br/>
r<br/>
Y<br/>
((1&#160;+&#160;Î±E[m2&#160;âˆ’&#160;m1]&#160;âˆ’&#160;Î±m/64r)&#160;pm&#160;âˆ’&#160;mÏ…)<br/>
|Ai|<br/>
i=1<br/>
which&#160;is&#160;at&#160;least<br/>
r<br/>
<br/>
<br/>
<br/>
r<br/>
Y<br/>
63<br/>
Y<br/>
((1&#160;+&#160;Î±m/r&#160;âˆ’&#160;Î±m/64r)&#160;pm&#160;âˆ’&#160;mÏ…)<br/>
|Ai|&#160;â‰¥<br/>
1&#160;+<br/>
Î±m/r&#160;pm&#160;âˆ’&#160;mÏ…<br/>
|A<br/>
64<br/>
i|.<br/>
i=1<br/>
i=1<br/>
This&#160;in&#160;turn&#160;is&#160;equal&#160;to<br/>
r<br/>
r<br/>
r<br/>
r<br/>
Y<br/>
47<br/>
Y<br/>
Y<br/>
1<br/>
Y<br/>
pm<br/>
|Ai|&#160;+<br/>
Î±mpm<br/>
|A<br/>
|A<br/>
Î±mpmrâˆ’r(|A|/n)rnr&#160;â‰¥&#160;pm<br/>
|A<br/>
64r<br/>
i|&#160;&gt;&#160;pm<br/>
i|&#160;+&#160;4r<br/>
i|&#160;+&#160;Î´nr,<br/>
i=1<br/>
i=1<br/>
i=1<br/>
i=1<br/>
contradicting&#160;the&#160;assumption&#160;that&#160;G&#160;satisï¬es&#160;QH,p(Î´)&#160;and&#160;completing&#160;the&#160;proof&#160;in&#160;this&#160;case.&#160;The&#160;case<br/>d(A,&#160;B)&#160;â‰¤&#160;(1&#160;âˆ’&#160;Î±)p&#160;follows&#160;similarly.<br/>
âœ·<br/>
10<br/>
<hr/>
<a name=11></a><img class="yflip" src="html/1611.02099-11_1.png"/><br/>
<img class="yflip" src="html/1611.02099-11_2.png"/><br/>
<img class="yflip" src="html/1611.02099-11_3.png"/><br/>
<img class="yflip" src="html/1611.02099-11_4.png"/><br/>
<img class="yflip" src="html/1611.02099-11_5.png"/><br/>
<img class="yflip" src="html/1611.02099-11_6.png"/><br/>
<img class="yflip" src="html/1611.02099-11_7.png"/><br/>
<img class="yflip" src="html/1611.02099-11_8.png"/><br/>
<img class="yflip" src="html/1611.02099-11_9.png"/><br/>
<img class="yflip" src="html/1611.02099-11_10.png"/><br/>
<img class="yflip" src="html/1611.02099-11_11.png"/><br/>
<img class="yflip" src="html/1611.02099-11_12.png"/><br/>
<img class="yflip" src="html/1611.02099-11_13.png"/><br/>
<img class="yflip" src="html/1611.02099-11_14.png"/><br/>
<img class="yflip" src="html/1611.02099-11_15.png"/><br/>
<img class="yflip" src="html/1611.02099-11_16.png"/><br/>
<img class="yflip" src="html/1611.02099-11_17.png"/><br/>
<img class="yflip" src="html/1611.02099-11_18.png"/><br/>
<img class="yflip" src="html/1611.02099-11_19.png"/><br/>
<img class="yflip" src="html/1611.02099-11_20.png"/><br/>
<img class="yflip" src="html/1611.02099-11_21.png"/><br/>
<img class="yflip" src="html/1611.02099-11_22.png"/><br/>
<img class="yflip" src="html/1611.02099-11_23.png"/><br/>
<img class="yflip" src="html/1611.02099-11_24.png"/><br/>
A&#160;single&#160;vertex&#160;subset&#160;U&#160;of&#160;a&#160;graph&#160;is&#160;called&#160;Ç«-regular&#160;if,&#160;for&#160;each&#160;pair&#160;of&#160;subsets&#160;Aâ€²,&#160;Bâ€²&#160;âŠ‚&#160;U&#160;,&#160;we&#160;have<br/>|e(Aâ€²,&#160;Bâ€²)&#160;âˆ’&#160;d(U&#160;)|Aâ€²||Bâ€²||&#160;â‰¤&#160;Ç«|U&#160;|2.&#160;In&#160;<a href="1611.02099s.html#14">[3]</a>,&#160;the&#160;ï¬rst&#160;two&#160;authors&#160;proved&#160;the&#160;following&#160;lemma&#160;with&#160;Î´âˆ’1<br/>having&#160;a&#160;double-exponential&#160;dependence&#160;on&#160;Ç«âˆ’1.<br/>
Lemma&#160;3.6.&#160;For&#160;each&#160;Ç«&#160;&gt;&#160;0,&#160;there&#160;is&#160;Î´&#160;&gt;&#160;0&#160;such&#160;that&#160;every&#160;graph&#160;on&#160;n&#160;vertices&#160;has&#160;an&#160;Ç«-regular&#160;subset<br/>on&#160;at&#160;least&#160;Î´n&#160;vertices.<br/>
We&#160;are&#160;now&#160;ready&#160;to&#160;prove&#160;Theorem&#160;<a href="1611.02099s.html#3">1.2.&#160;</a>That&#160;is,&#160;we&#160;will&#160;show&#160;that&#160;if&#160;G&#160;satisï¬es&#160;Pâˆ—H,p(Î´)&#160;with<br/>Î´&#160;=&#160;câ€²(p,&#160;r)Ç«c(p,r),&#160;then&#160;it&#160;also&#160;satisï¬es&#160;Pâˆ—2,p(Ç«),&#160;where&#160;r&#160;is&#160;the&#160;number&#160;of&#160;vertices&#160;in&#160;H.<br/>
Proof&#160;of&#160;Theorem&#160;<a href="1611.02099s.html#3">1.2:&#160;</a>Suppose&#160;for&#160;contradiction&#160;that&#160;G&#160;is&#160;a&#160;graph&#160;on&#160;n&#160;vertices&#160;which&#160;satisï¬es<br/>property&#160;Pâˆ—H,p(Î´),&#160;but&#160;does&#160;not&#160;satisfy&#160;property&#160;Pâˆ—2,p(Ç«),&#160;where&#160;Î´&#160;=&#160;câ€²(p,&#160;r)Ç«c(p,r)&#160;with&#160;c(p,&#160;r)&#160;=&#160;10r4p1âˆ’m<br/>and&#160;câ€²(p,&#160;r)&#160;&gt;&#160;0&#160;will&#160;be&#160;chosen&#160;suï¬ƒciently&#160;small&#160;depending&#160;only&#160;on&#160;p&#160;and&#160;r.&#160;By&#160;Lemma&#160;<a href="1611.02099s.html#8">3.1,&#160;</a>G&#160;also<br/>has&#160;property&#160;QH,p((2r&#160;âˆ’&#160;1)Î´).&#160;As&#160;G&#160;does&#160;not&#160;satisfy&#160;property&#160;Pâˆ—2,p(Ç«),&#160;there&#160;is&#160;S&#160;âŠ†&#160;V&#160;(G)&#160;with<br/>
<br/>2e(S&#160;)&#160;âˆ’&#160;p|S&#160;|2<br/>
&#160;&gt;&#160;Ç«n2.<br/>
Averaging&#160;over&#160;all&#160;equitable&#160;partitions&#160;S&#160;=&#160;A&#160;âˆª&#160;B,&#160;we&#160;obtain&#160;that&#160;there&#160;are<br/>
disjoint&#160;vertex&#160;subsets&#160;A0&#160;and&#160;B0&#160;with&#160;|A0|&#160;=&#160;|B0|&#160;and&#160;|e(A0,&#160;B0)&#160;âˆ’&#160;p|A0||B0||&#160;&gt;&#160;Ç«n2/4.&#160;We&#160;have<br/>|A0|2&#160;=&#160;|A0||B0|&#160;&gt;&#160;Ç«n2/4,&#160;so&#160;that&#160;|A0|&#160;â‰¥&#160;Ç«1/2n/2&#160;and&#160;also&#160;|d(A0,&#160;B0)&#160;âˆ’&#160;p|&#160;&gt;&#160;Ç«n2/(4|A0||B0|)&#160;â‰¥&#160;Ç«.<br/>We&#160;repeatedly&#160;apply&#160;Lemma&#160;<a href="1611.02099s.html#9">3.5,&#160;</a>starting&#160;with&#160;A0&#160;and&#160;B0,&#160;until&#160;we&#160;arrive&#160;at&#160;a&#160;pair&#160;of&#160;subsets&#160;(Aâ€²,&#160;Bâ€²)<br/>with&#160;|Aâ€²|&#160;=&#160;|Bâ€²|&#160;and&#160;d(Aâ€²,&#160;Bâ€²)&#160;=&#160;(1&#160;+&#160;Î±)p&#160;or&#160;d(Aâ€²,&#160;Bâ€²)&#160;=&#160;(1&#160;âˆ’&#160;Î±)p,&#160;for&#160;some&#160;Î±&#160;â‰¥<br/>
1<br/>
.&#160;As&#160;we<br/>
16mr<br/>
will&#160;see&#160;below,&#160;the&#160;sets&#160;deï¬ned&#160;during&#160;this&#160;process&#160;will&#160;always&#160;be&#160;suï¬ƒciently&#160;large&#160;that&#160;we&#160;may<br/>continue&#160;applying&#160;Lemma&#160;<a href="1611.02099s.html#9">3.5&#160;</a>until&#160;this&#160;happens.&#160;Having&#160;already&#160;found&#160;disjoint&#160;sets&#160;Ai&#160;and&#160;Bi&#160;with<br/>
&#160;d(A<br/>
<br/>
<br/>
i&#160;,Bi)&#160;âˆ’&#160;1&#160;:=&#160;Î±i&#160;(so,&#160;in&#160;particular,&#160;Î±0&#160;&gt;&#160;Ç«/p),&#160;we&#160;apply&#160;Lemma&#160;<a href="1611.02099s.html#9">3.5&#160;</a>to&#160;obtain&#160;disjoint&#160;sets&#160;Aâ€²<br/>
<br/>
p<br/>
<br/>
i&#160;and<br/>
Bâ€²<br/>
,Bâ€²)<br/>
i<br/>
|Ai|<br/>
i&#160;with&#160;|Aâ€²i|&#160;=&#160;|Bâ€²i|&#160;and&#160;|&#160;d(Aâ€²i<br/>
âˆ’&#160;1|&#160;â‰¥&#160;(1&#160;+&#160;Î²<br/>
.&#160;Let&#160;A<br/>
p<br/>
i)Î±i,&#160;where&#160;Î²i&#160;=&#160;pmâˆ’1<br/>
4r3&#160;|Aâ€²&#160;|<br/>
i+1&#160;and&#160;Bi+1&#160;be&#160;disjoint<br/>
i<br/>
<br/>
<br/>
sets&#160;with&#160;|A<br/>
d(Ai+1,Bi+1)<br/>
i+1|&#160;as&#160;large&#160;as&#160;possible&#160;such&#160;that&#160;|Ai+1|&#160;=&#160;|Bi+1|&#160;â‰¥&#160;|Aâ€²<br/>
<br/>
<br/>
i|&#160;and&#160;Î±i+1&#160;:=<br/>
âˆ’&#160;1&#160;â‰¥<br/>
<br/>
p<br/>
<br/>
&#160;d(Aâ€²&#160;,Bâ€²)<br/>
<br/>
<br/>
i<br/>
i<br/>
âˆ’&#160;1&#160;is&#160;as&#160;large&#160;as&#160;possible&#160;(such&#160;sets&#160;exist&#160;because&#160;Aâ€²<br/>
<br/>
p<br/>
<br/>
i&#160;and&#160;Bâ€²i&#160;have&#160;the&#160;desired&#160;properties).<br/>
Let&#160;ai&#160;=&#160;|Aiâˆ’1|/|Ai|.&#160;Note&#160;that&#160;ai&#160;â‰¥&#160;1,&#160;as&#160;otherwise&#160;we&#160;would&#160;have&#160;taken&#160;Ai&#160;and&#160;Bi&#160;for&#160;Aiâˆ’1&#160;and<br/>Biâˆ’1,&#160;respectively.&#160;Let&#160;Î³&#160;=&#160;pmâˆ’1&#160;,&#160;so&#160;that&#160;Î±<br/>
4r3<br/>
i+1&#160;â‰¥&#160;(1&#160;+&#160;Î³ai+1)Î±i.&#160;Let&#160;i0&#160;be&#160;the&#160;last&#160;i&#160;for&#160;which&#160;we<br/>
obtain&#160;an&#160;Ai&#160;and&#160;Bi,&#160;so&#160;that&#160;either&#160;Î±i&#160;â‰¥<br/>
1<br/>
or&#160;the&#160;sets&#160;Aâ€²&#160;=&#160;A<br/>
and&#160;Bâ€²&#160;=&#160;B<br/>
are&#160;too&#160;small&#160;for<br/>
0<br/>
16mr<br/>
i0<br/>
i0<br/>
the&#160;hypotheses&#160;of&#160;Lemma&#160;<a href="1611.02099s.html#9">3.5&#160;</a>to&#160;hold.&#160;We&#160;have<br/>
i0<br/>
i0<br/>
Y<br/>
Î±<br/>
Y<br/>
Î±<br/>
j<br/>
i&#160;=&#160;Î±<br/>
â‰¥&#160;Î±<br/>
(1&#160;+&#160;Î³a<br/>
0<br/>
0<br/>
Î±<br/>
0<br/>
j&#160;).<br/>
j=1<br/>
jâˆ’1<br/>
j=1<br/>
As&#160;also&#160;Î±i&#160;â‰¤&#160;1/p&#160;and&#160;Î±<br/>
.&#160;Given&#160;this&#160;inequality,&#160;the&#160;maximum&#160;of<br/>
0<br/>
0&#160;â‰¥&#160;Ç«/p,&#160;we&#160;get&#160;Qi0<br/>
j=1(1&#160;+&#160;Î³aj&#160;)&#160;â‰¤&#160;1Ç«<br/>
Qi0<br/>
j=1&#160;aj&#160;is&#160;attained&#160;when&#160;all&#160;the&#160;aj&#160;are&#160;equal;&#160;call&#160;this&#160;equal&#160;value&#160;a.&#160;Thus,&#160;we&#160;are&#160;interested&#160;in&#160;the<br/>
maximum&#160;of&#160;ai0&#160;given&#160;that&#160;(1&#160;+&#160;Î³a)i0&#160;â‰¤&#160;1&#160;.&#160;This&#160;is&#160;equivalent&#160;to&#160;maximizing<br/>
ln&#160;a<br/>
.&#160;Let&#160;x&#160;=&#160;Î³a.<br/>
Ç«<br/>
ln(1+Î³a)<br/>
For&#160;x&#160;â‰¤&#160;1.5,&#160;we&#160;have&#160;ln(1&#160;+&#160;x)&#160;â‰¥&#160;x/2&#160;and&#160;so<br/>
ln&#160;a<br/>
â‰¤&#160;2&#160;ln&#160;a&#160;=&#160;2&#160;ln&#160;a&#160;â‰¤&#160;2&#160;.&#160;For&#160;x&#160;&gt;&#160;1.5,&#160;we&#160;have<br/>
ln(1+Î³a)<br/>
x<br/>
Î³&#160;a<br/>
eÎ³<br/>
ln&#160;a<br/>
â‰¤&#160;ln&#160;a&#160;=&#160;1&#160;+&#160;ln&#160;Î³âˆ’1&#160;â‰¤&#160;3&#160;ln&#160;Î³âˆ’1.&#160;As&#160;we&#160;may&#160;assume&#160;r&#160;â‰¥&#160;3&#160;and&#160;m&#160;â‰¥&#160;2,&#160;Î³&#160;is&#160;small&#160;enough&#160;that<br/>
ln(1+Î³a)<br/>
ln(Î³a)<br/>
ln&#160;x<br/>
the&#160;ï¬rst&#160;bound&#160;is&#160;larger,&#160;so&#160;we&#160;have<br/>
i0<br/>
Y<br/>
1<br/>
|Aâ€²|&#160;=&#160;|A0|/<br/>
aj&#160;â‰¥&#160;Ç«2/(eÎ³)|A0|&#160;â‰¥&#160;Ç«1/2+2/(eÎ³)n.<br/>
2<br/>
j=1<br/>
By&#160;the&#160;choice&#160;of&#160;c(p,&#160;r),&#160;|Aâ€²|&#160;=&#160;|Ai&#160;|&#160;is&#160;large&#160;enough&#160;that&#160;Lemma&#160;<a href="1611.02099s.html#9">3.5&#160;</a>still&#160;applies&#160;at&#160;the&#160;next&#160;step&#160;if<br/>
0<br/>
Î±&#160;:=&#160;Î±i&#160;â‰¤<br/>
1<br/>
.&#160;Therefore,&#160;we&#160;must&#160;have&#160;Î±&#160;&gt;<br/>
1<br/>
.<br/>
0<br/>
16mr<br/>
16mr<br/>
11<br/>
<hr/>
<a name=12></a><img class="yflip" src="html/1611.02099-12_1.png"/><br/>
<img class="yflip" src="html/1611.02099-12_2.png"/><br/>
<img class="yflip" src="html/1611.02099-12_3.png"/><br/>
<img class="yflip" src="html/1611.02099-12_4.png"/><br/>
The&#160;sets&#160;Aâ€²&#160;and&#160;Bâ€²&#160;have&#160;order&#160;at&#160;least&#160;Ç«5r3p1âˆ’mn.&#160;Suppose&#160;that&#160;d(Aâ€²,&#160;Bâ€²)&#160;=&#160;(1&#160;+&#160;Î±)p&#160;with&#160;Î±&#160;&gt;<br/>
1<br/>
.<br/>
16mr<br/>
The&#160;other&#160;case&#160;when&#160;d(Aâ€²,&#160;Bâ€²)&#160;&lt;&#160;(1&#160;âˆ’&#160;Î±)p&#160;is&#160;handled&#160;similarly.&#160;Let&#160;C&#160;be&#160;the&#160;subset&#160;of&#160;Aâ€²&#160;with&#160;at<br/>least&#160;(1&#160;+&#160;Î±/2)p|Bâ€²|&#160;neighbors&#160;in&#160;Bâ€²,&#160;so&#160;|C|&#160;â‰¥&#160;|Aâ€²|Î±p/2.&#160;Let&#160;Î·&#160;:=&#160;10âˆ’5Î±2p2mmâˆ’2&#160;and&#160;Îº&#160;=&#160;2mÎ·p1âˆ’m.<br/>Apply&#160;Lemma&#160;<a href="1611.02099s.html#11">3.6&#160;</a>to&#160;the&#160;subgraph&#160;of&#160;G&#160;induced&#160;by&#160;C.&#160;We&#160;get&#160;a&#160;subset&#160;C1&#160;âŠ‚&#160;C&#160;which&#160;is&#160;Î·-regular<br/>with&#160;|C1|&#160;â‰¥&#160;Ï„&#160;|C|,&#160;where&#160;Ï„&#160;only&#160;depends&#160;on&#160;p&#160;and&#160;r.&#160;If&#160;d(C1)&#160;&lt;&#160;p&#160;âˆ’&#160;Îº,&#160;then&#160;by&#160;the&#160;counting&#160;lemma,<br/>Lemma&#160;<a href="1611.02099s.html#8">3.2,&#160;</a>the&#160;number&#160;of&#160;homomorphisms&#160;from&#160;H&#160;to&#160;C1&#160;is&#160;at&#160;most<br/>
Îº<br/>
(p&#160;âˆ’&#160;Îº)m|C1|r&#160;+mÎ·|C1|r&#160;â‰¤&#160;(1âˆ’&#160;)pm|C<br/>
p<br/>
1|r&#160;+&#160;mÎ·|C&#160;|r&#160;=&#160;pm|C1|r&#160;âˆ’&#160;mÎ·|C1|r&#160;â‰¤&#160;pm|C1|r&#160;âˆ’&#160;a(p,&#160;r)Ç«8r4p1âˆ’m&#160;nr<br/>
for&#160;an&#160;appropriate&#160;constant&#160;a(p,&#160;r).&#160;This&#160;contradicts&#160;Pâˆ—H,p(Î´)&#160;when&#160;câ€²(p,&#160;r)&#160;is&#160;suï¬ƒciently&#160;small.&#160;Hence,<br/>d(C1)&#160;â‰¥&#160;pâˆ’Îº.&#160;Let&#160;D&#160;be&#160;the&#160;subset&#160;of&#160;Bâ€²&#160;with&#160;at&#160;least&#160;(1+Î±/4)p|C1|&#160;neighbors&#160;in&#160;C1,&#160;so&#160;|D|&#160;â‰¥&#160;|Bâ€²|Î±p/4.<br/>Let&#160;D1&#160;âŠ‚&#160;D&#160;be&#160;a&#160;subset&#160;of&#160;order&#160;Î±pmâˆ’1&#160;|C<br/>
40r<br/>
1|.<br/>
The&#160;rest&#160;of&#160;the&#160;proof&#160;is&#160;in&#160;showing&#160;that&#160;C1&#160;âˆª&#160;D1&#160;violates&#160;the&#160;property&#160;Pâˆ—H,p(Î´)&#160;as&#160;this&#160;subset&#160;contains<br/>too&#160;many&#160;labeled&#160;copies&#160;of&#160;H.&#160;Indeed,&#160;by&#160;Lemma&#160;<a href="1611.02099s.html#8">3.2,&#160;</a>the&#160;number&#160;of&#160;homomorphisms&#160;from&#160;H&#160;to&#160;C1<br/>is&#160;at&#160;least&#160;(p&#160;âˆ’&#160;Îº)m|C1|r&#160;âˆ’&#160;mÎ·|C1|r&#160;â‰¥&#160;pm|C1|r&#160;âˆ’&#160;(mpmâˆ’1Îº&#160;+&#160;mÎ·)|C1|r.&#160;The&#160;number&#160;of&#160;homomorphisms<br/>from&#160;H&#160;to&#160;C1&#160;which&#160;fail&#160;to&#160;be&#160;copies&#160;of&#160;H&#160;is&#160;at&#160;most&#160;the&#160;number&#160;of&#160;non-injective&#160;mappings&#160;from&#160;H<br/>to&#160;C1,&#160;which&#160;is&#160;less&#160;than&#160;r2|C1|râˆ’1.&#160;Thus,&#160;we&#160;get&#160;at&#160;least&#160;pm|C1|r&#160;âˆ’&#160;(mpmâˆ’1Îº&#160;+&#160;mÎ·&#160;+&#160;r2|C1|âˆ’1)|C1|r<br/>copies&#160;of&#160;H&#160;in&#160;C1.<br/>We&#160;next&#160;give&#160;a&#160;lower&#160;bound&#160;on&#160;the&#160;number&#160;of&#160;copies&#160;of&#160;H&#160;in&#160;C1&#160;âˆª&#160;D1&#160;with&#160;the&#160;copy&#160;of&#160;vertex&#160;i&#160;in&#160;D1<br/>and&#160;the&#160;remaining&#160;r&#160;âˆ’&#160;1&#160;vertices&#160;in&#160;C1.&#160;Suppose&#160;vertex&#160;i&#160;has&#160;degree&#160;t&#160;in&#160;H.&#160;We&#160;have&#160;t&#160;â‰¥&#160;1&#160;as&#160;H&#160;has<br/>no&#160;isolated&#160;vertices.&#160;Fix&#160;a&#160;vertex&#160;v&#160;âˆˆ&#160;D1&#160;to&#160;map&#160;i&#160;to,&#160;and&#160;let&#160;C2&#160;be&#160;the&#160;neighborhood&#160;of&#160;i&#160;in&#160;C1,&#160;so<br/>|C2|&#160;â‰¥&#160;(1&#160;+&#160;Î±/4)p|C1|.&#160;Since&#160;|C2|&#160;â‰¥&#160;p|C1|&#160;and&#160;C1&#160;is&#160;Î·-regular,&#160;we&#160;get&#160;that&#160;each&#160;of&#160;the&#160;pairs&#160;(C1,&#160;C1),<br/>(C1,&#160;C2),&#160;(C2,&#160;C2)&#160;is&#160;2pâˆ’2Î·-regular.&#160;The&#160;number&#160;of&#160;homomorphisms&#160;of&#160;H&#160;with&#160;the&#160;copy&#160;of&#160;vertex&#160;i<br/>mapping&#160;to&#160;v&#160;and&#160;the&#160;remaining&#160;vertices&#160;of&#160;H&#160;mapping&#160;to&#160;C1&#160;(so&#160;each&#160;of&#160;the&#160;t&#160;neighbors&#160;of&#160;i&#160;has&#160;to<br/>map&#160;to&#160;C2)&#160;is,&#160;by&#160;Lemma&#160;<a href="1611.02099s.html#8">3.2,&#160;</a>at&#160;least<br/>
(p&#160;âˆ’&#160;Îº)mâˆ’t&#160;âˆ’&#160;(m&#160;âˆ’&#160;t)2pâˆ’2Î·&#160;|C1|râˆ’tâˆ’1|C2|t&#160;â‰¥<br/>
pmâˆ’t&#160;âˆ’&#160;(m&#160;âˆ’&#160;t)Îºpmâˆ’tâˆ’1&#160;âˆ’&#160;(m&#160;âˆ’&#160;t)2pâˆ’2Î·&#160;|C1|râˆ’tâˆ’1|C2|t<br/>
â‰¥&#160;(pmâˆ’t&#160;âˆ’&#160;Î±pmâˆ’t/8)|C1|râˆ’tâˆ’1|C2|t<br/>â‰¥&#160;(pmâˆ’1&#160;âˆ’&#160;Î±pmâˆ’1/8)|C1|râˆ’2|C2|1<br/>â‰¥&#160;(pmâˆ’1&#160;âˆ’&#160;Î±pmâˆ’1/8)(1&#160;+&#160;Î±/4)p|C1|râˆ’1<br/>â‰¥&#160;(1&#160;+&#160;Î±/10)&#160;pm|C1|râˆ’1.<br/>
The&#160;number&#160;of&#160;mappings&#160;from&#160;H&#160;to&#160;C1&#160;âˆª&#160;D1&#160;with&#160;vertex&#160;i&#160;going&#160;to&#160;v&#160;and&#160;the&#160;other&#160;r&#160;âˆ’&#160;1&#160;vertices&#160;going<br/>to&#160;C1&#160;which&#160;are&#160;not&#160;one-to-one&#160;is&#160;at&#160;most&#160;r2|C1|râˆ’2.&#160;As&#160;|C1|&#160;â‰¥&#160;20r2Î±âˆ’1pâˆ’m,&#160;then&#160;we&#160;get&#160;at&#160;least<br/>(1&#160;+&#160;Î±/20)&#160;pm|C1|râˆ’1&#160;labeled&#160;copies&#160;of&#160;H&#160;with&#160;vertex&#160;i&#160;mapping&#160;to&#160;v&#160;and&#160;the&#160;remaining&#160;vertices&#160;map-<br/>ping&#160;to&#160;C1.&#160;Summing&#160;over&#160;all&#160;choices&#160;of&#160;v&#160;in&#160;D1,&#160;we&#160;get&#160;that&#160;there&#160;are&#160;at&#160;least&#160;(1&#160;+&#160;Î±/20)&#160;pm|C1|râˆ’1|D1|<br/>labeled&#160;copies&#160;of&#160;H&#160;with&#160;vertex&#160;i&#160;mapping&#160;to&#160;D1&#160;and&#160;the&#160;remaining&#160;r&#160;âˆ’&#160;1&#160;vertices&#160;mapping&#160;to&#160;C1.<br/>Finally,&#160;summing&#160;over&#160;all&#160;r&#160;choices&#160;of&#160;i,&#160;we&#160;get&#160;at&#160;least&#160;r&#160;(1&#160;+&#160;Î±/20)&#160;pm|C1|râˆ’1|D1|&#160;labeled&#160;copies&#160;of<br/>H&#160;with&#160;one&#160;vertex&#160;mapping&#160;to&#160;D1&#160;and&#160;the&#160;remaining&#160;r&#160;âˆ’&#160;1&#160;vertices&#160;mapping&#160;to&#160;C1.<br/>Finally,&#160;the&#160;number&#160;of&#160;possible&#160;mappings&#160;from&#160;H&#160;to&#160;C1&#160;âˆª&#160;D1&#160;with&#160;at&#160;least&#160;two&#160;vertices&#160;in&#160;D1&#160;is&#160;at<br/>most&#160;P<br/>
r<br/>
jâ‰¥2<br/>
|D<br/>
j<br/>
1|j&#160;|C1|râˆ’j&#160;â‰¤&#160;r2|D1|2|C1|râˆ’2.&#160;Putting&#160;the&#160;bounds&#160;together,&#160;we&#160;get&#160;that&#160;the&#160;number<br/>
of&#160;labeled&#160;copies&#160;of&#160;H&#160;in&#160;C1&#160;âˆª&#160;D1&#160;is&#160;pm|C1&#160;âˆª&#160;D1|r&#160;(this&#160;is&#160;the&#160;sum&#160;of&#160;the&#160;contributions&#160;of&#160;the&#160;main<br/>terms)&#160;plus&#160;at&#160;least<br/>
Î±<br/>
r<br/>
pm|C<br/>
20<br/>
1|râˆ’1|D1|&#160;âˆ’&#160;(mpmâˆ’1Îº&#160;+&#160;mÎ·&#160;+&#160;r2|C1|âˆ’1)|C1|r&#160;âˆ’&#160;r2|D1|2|C1|râˆ’2,<br/>
12<br/>
<hr/>
<a name=13></a><img class="yflip" src="html/1611.02099-13_1.png"/><br/>
<img class="yflip" src="html/1611.02099-13_2.png"/><br/>
<img class="yflip" src="html/1611.02099-13_3.png"/><br/>
which,&#160;substituting&#160;in&#160;|D1|&#160;=&#160;Î±pm&#160;|C<br/>
40r<br/>
1|,&#160;is&#160;equal&#160;to<br/>
Î±2&#160;p2m|C<br/>
1600<br/>
1|r&#160;âˆ’&#160;(mpmâˆ’1Îº&#160;+&#160;mÎ·&#160;+&#160;r2|C1|âˆ’1)|C1|r.<br/>
Using&#160;|C1|&#160;â‰¥&#160;r2Î·âˆ’1&#160;(recall&#160;that&#160;Î·&#160;=&#160;10âˆ’5Î±2p2mmâˆ’2)&#160;and&#160;substituting&#160;in&#160;Îº&#160;=&#160;2mÎ·p1âˆ’m,&#160;we&#160;get&#160;that<br/>this&#160;is&#160;at&#160;least<br/>
Î±2&#160;p2m|C<br/>
1600<br/>
1|r&#160;âˆ’&#160;4m2Î·|C1|r&#160;â‰¥&#160;10âˆ’5Î±2p2m|C1|r&#160;â‰¥&#160;Î´nr&#160;,<br/>
provided&#160;câ€²(p,&#160;r)&#160;is&#160;chosen&#160;suï¬ƒciently&#160;small.&#160;This&#160;completes&#160;the&#160;proof.<br/>
âœ·<br/>
4<br/>
Concluding&#160;remarks<br/>
It&#160;is&#160;plausible&#160;that&#160;Theorem&#160;<a href="1611.02099s.html#2">1.1&#160;</a>can&#160;be&#160;extended&#160;to&#160;all&#160;H,&#160;that&#160;is,&#160;that&#160;a&#160;graph&#160;G&#160;which&#160;satisï¬es<br/>Pâˆ—H,p(Î´)&#160;also&#160;satisï¬es&#160;Pâˆ—2,p(Ç«)&#160;with&#160;Ç«&#160;â‰¤&#160;c(p,&#160;r)Î´,&#160;where&#160;r&#160;is&#160;the&#160;number&#160;of&#160;vertices&#160;in&#160;H.&#160;However,&#160;it<br/>seems&#160;that&#160;new&#160;ideas&#160;will&#160;be&#160;needed&#160;to&#160;prove&#160;this&#160;in&#160;full&#160;generality.&#160;It&#160;would&#160;already&#160;be&#160;interesting&#160;to<br/>obtain&#160;a&#160;linear&#160;dependence&#160;in&#160;the&#160;special&#160;case&#160;H&#160;=&#160;C4.<br/>One&#160;might&#160;also&#160;ask&#160;about&#160;the&#160;quantitative&#160;aspects&#160;of&#160;other&#160;quasirandom&#160;equivalences.&#160;For&#160;example,<br/>we&#160;know&#160;that&#160;for&#160;any&#160;Ç«&#160;&gt;&#160;0,&#160;there&#160;exists&#160;Î´&#160;&gt;&#160;0&#160;such&#160;that&#160;if&#160;a&#160;graph&#160;G&#160;has&#160;density&#160;p&#160;and&#160;satisï¬es<br/>PC4,p(Î´),&#160;then&#160;it&#160;also&#160;satisï¬es&#160;Pâˆ—2,p(Ç«).&#160;The&#160;forcing&#160;conjecture,&#160;which&#160;was&#160;already&#160;mentioned&#160;in&#160;the<br/>introduction,&#160;states&#160;that&#160;a&#160;similar&#160;result&#160;should&#160;hold&#160;when&#160;C4&#160;is&#160;replaced&#160;by&#160;any&#160;bipartite&#160;graph&#160;H<br/>which&#160;contains&#160;a&#160;cycle.&#160;Somewhat&#160;tentatively,&#160;we&#160;are&#160;willing&#160;to&#160;venture&#160;that&#160;the&#160;following&#160;stronger<br/>quantitative&#160;version&#160;of&#160;this&#160;conjecture&#160;holds.<br/>
Conjecture&#160;4.1.&#160;Let&#160;H&#160;be&#160;a&#160;fixed&#160;bipartite&#160;graph&#160;of&#160;girth&#160;g&#160;and&#160;0&#160;&lt;&#160;p&#160;&lt;&#160;1&#160;a&#160;fixed&#160;constant.&#160;For&#160;each<br/>Ç«&#160;&gt;&#160;0,&#160;there&#160;is&#160;Î´&#160;=&#160;â„¦(Ç«g)&#160;such&#160;that&#160;any&#160;graph&#160;G&#160;with&#160;density&#160;p&#160;which&#160;satisfies&#160;PH,p(Î´)&#160;also&#160;satisfies<br/>Pâˆ—2,p(Ç«).<br/>
To&#160;see&#160;that&#160;the&#160;girth&#160;dependence&#160;would&#160;be&#160;tight,&#160;consider&#160;a&#160;random&#160;graph&#160;with&#160;n&#160;vertices&#160;whose&#160;vertex<br/>set&#160;is&#160;partitioned&#160;into&#160;two&#160;parts&#160;V1&#160;and&#160;V2,&#160;each&#160;of&#160;order&#160;n/2,&#160;with&#160;density&#160;p&#160;âˆ’&#160;Ç«&#160;inside&#160;parts&#160;and<br/>density&#160;p&#160;+&#160;Ç«&#160;between&#160;parts.&#160;Equivalently,&#160;consider&#160;the&#160;generalized&#160;random&#160;graph&#160;G&#160;on&#160;two&#160;vertices,<br/>where&#160;loops&#160;have&#160;weight&#160;p&#160;âˆ’&#160;Ç«&#160;and&#160;the&#160;edge&#160;between&#160;the&#160;two&#160;vertices&#160;has&#160;weight&#160;p&#160;+&#160;Ç«.&#160;By&#160;picking&#160;one<br/>vertex&#160;from&#160;G,&#160;we&#160;see&#160;that&#160;it&#160;does&#160;not&#160;satisfy&#160;Pâˆ—2,p(Ç«/2).<br/>Consider&#160;now&#160;a&#160;random&#160;mapping&#160;of&#160;the&#160;vertices&#160;of&#160;H&#160;to&#160;the&#160;two&#160;vertices&#160;of&#160;G.&#160;For&#160;an&#160;edge&#160;e&#160;of&#160;H,<br/>let&#160;Xe&#160;=&#160;âˆ’1&#160;if&#160;both&#160;vertices&#160;of&#160;e&#160;map&#160;to&#160;the&#160;same&#160;vertex&#160;of&#160;G&#160;and&#160;Xe&#160;=&#160;1&#160;if&#160;the&#160;vertices&#160;of&#160;e&#160;map&#160;to<br/>diï¬€erent&#160;vertices&#160;of&#160;G.&#160;The&#160;homomorphism&#160;density&#160;of&#160;H&#160;in&#160;G&#160;is&#160;then<br/>
Y<br/>
E[<br/>
(p&#160;+&#160;XeÇ«)].<br/>
e<br/>
Suppose&#160;that&#160;e1,&#160;.&#160;.&#160;.&#160;,&#160;ek&#160;are&#160;edges&#160;of&#160;H&#160;with&#160;k&#160;&lt;&#160;g.&#160;Since&#160;these&#160;edges&#160;form&#160;a&#160;forest,&#160;it&#160;follows&#160;that<br/>
E[Xe&#160;X&#160;.&#160;.&#160;.&#160;X&#160;]&#160;=&#160;E[X&#160;]&#160;Â·&#160;Â·&#160;Â·&#160;E[X&#160;].<br/>
1<br/>
e2<br/>
ek<br/>
e1<br/>
ek<br/>
In&#160;particular,&#160;since&#160;E[Xe]&#160;=&#160;0,&#160;this&#160;implies&#160;that&#160;the&#160;coeï¬ƒcient&#160;of&#160;Ç«i&#160;is&#160;zero&#160;for&#160;i&#160;=&#160;1,&#160;.&#160;.&#160;.&#160;,&#160;g&#160;âˆ’&#160;1&#160;and,<br/>therefore,&#160;G&#160;satisï¬es&#160;PH,p(Î´)&#160;with&#160;Î´&#160;=&#160;O(Ç«g).<br/>It&#160;is&#160;not&#160;hard&#160;to&#160;verify&#160;that&#160;Conjecture&#160;<a href="1611.02099s.html#13">4.1&#160;</a>holds&#160;when&#160;H&#160;is&#160;an&#160;even&#160;cycle.&#160;Combining&#160;this&#160;observation<br/>with&#160;other&#160;known&#160;results&#160;allows&#160;us&#160;to&#160;prove&#160;the&#160;conjecture&#160;for&#160;some&#160;reasonably&#160;broad&#160;classes&#160;of&#160;graphs.<br/>
13<br/>
<hr/>
<a name=14></a><img class="yflip" src="html/1611.02099-14_1.png"/><br/>
For&#160;example,&#160;Theorem&#160;1.1&#160;in&#160;<a href="1611.02099s.html#14">[4]&#160;</a>implies&#160;that&#160;if&#160;H&#160;is&#160;a&#160;bipartite&#160;graph&#160;with&#160;m&#160;edges&#160;which&#160;has&#160;two<br/>vertices&#160;in&#160;one&#160;part&#160;complete&#160;to&#160;the&#160;other&#160;part&#160;and&#160;minimum&#160;degree&#160;at&#160;least&#160;two&#160;in&#160;the&#160;ï¬rst&#160;part,&#160;then<br/>the&#160;homomorphism&#160;density&#160;tH(G)&#160;satisï¬es&#160;tH(G)&#160;â‰¥&#160;tC&#160;(G)m/4.&#160;Therefore,&#160;if&#160;t<br/>
4<br/>
H&#160;(G)&#160;â‰¤&#160;pm(1&#160;+&#160;Ç«4),&#160;we<br/>
have&#160;tC&#160;(G)&#160;â‰¤&#160;p4(1&#160;+&#160;Ç«4)4/m&#160;â‰¤&#160;p4(1&#160;+&#160;8&#160;Ç«4)&#160;and&#160;the&#160;required&#160;result&#160;for&#160;H&#160;follows&#160;from&#160;the&#160;C<br/>
4<br/>
m<br/>
4&#160;case.&#160;As<br/>
with&#160;the&#160;forcing&#160;conjecture,&#160;similar&#160;arguments&#160;can&#160;likely&#160;prove&#160;Conjecture&#160;<a href="1611.02099s.html#13">4.1&#160;</a>for&#160;many&#160;of&#160;the&#160;graphs<br/>for&#160;which&#160;Sidorenkoâ€™s&#160;conjecture&#160;is&#160;known&#160;to&#160;hold.&#160;On&#160;the&#160;other&#160;hand,&#160;our&#160;second-order&#160;Sidorenko<br/>conjecture&#160;may&#160;be&#160;easier&#160;to&#160;disprove&#160;than&#160;the&#160;conjecture&#160;itself.<br/>
References<br/>
[1]&#160;F.&#160;R.&#160;K.&#160;Chung,&#160;R.&#160;L.&#160;Graham&#160;and&#160;R.&#160;M.&#160;Wilson,&#160;Quasi-random&#160;graphs,&#160;Combinatorica&#160;9&#160;(1989),<br/>
345â€“362.<br/>
[2]&#160;D.&#160;Conlon,&#160;A&#160;new&#160;upper&#160;bound&#160;for&#160;diagonal&#160;Ramsey&#160;numbers,&#160;Ann.&#160;of&#160;Math.&#160;170&#160;(2009),&#160;941â€“960.<br/>
[3]&#160;D.&#160;Conlon&#160;and&#160;J.&#160;Fox,&#160;Bounds&#160;for&#160;graph&#160;regularity&#160;and&#160;removal&#160;lemmas,&#160;Geom.&#160;Funct.&#160;Anal.&#160;22<br/>
(2012),&#160;1191â€“1256.<br/>
[4]&#160;D.&#160;Conlon,&#160;J.&#160;Fox,&#160;and&#160;B.&#160;Sudakov,&#160;An&#160;approximate&#160;version&#160;of&#160;Sidorenkoâ€™s&#160;conjecture,&#160;Geom.<br/>
Funct.&#160;Anal.&#160;20&#160;(2010),&#160;1354â€“1366.<br/>
[5]&#160;D.&#160;Conlon,&#160;J.&#160;H.&#160;Kim,&#160;C.&#160;Lee,&#160;and&#160;J.&#160;Lee,&#160;Some&#160;advances&#160;on&#160;Sidorenkoâ€™s&#160;conjecture,<br/>
arXiv:1510.06533&#160;[math.CO].<br/>
[6]&#160;P.&#160;ErdËos,&#160;M.&#160;Goldberg,&#160;J.&#160;Pach&#160;and&#160;J.&#160;Spencer,&#160;Cutting&#160;a&#160;graph&#160;into&#160;two&#160;dissimilar&#160;halves,&#160;J.<br/>
Graph&#160;Theory&#160;12&#160;(1988),&#160;121â€“131.<br/>
[7]&#160;W.&#160;T.&#160;Gowers,&#160;A&#160;new&#160;proof&#160;of&#160;SzemerÂ´ediâ€™s&#160;theorem,&#160;Geom.&#160;Funct.&#160;Anal.&#160;11&#160;(2001),&#160;465â€“588.<br/>
[8]&#160;S.&#160;Hoory,&#160;N.&#160;Linial&#160;and&#160;A.&#160;Wigderson,&#160;Expander&#160;graphs&#160;and&#160;their&#160;applications,&#160;Bull.&#160;Amer.&#160;Math.<br/>
Soc.&#160;43&#160;(2006),&#160;439â€“561.<br/>
[9]&#160;S.&#160;Janson,&#160;T.&#160;&#160;Luczak&#160;and&#160;A.&#160;RuciÂ´<br/>
nski,&#160;Random&#160;graphs,&#160;Wiley,&#160;New&#160;York,&#160;2000.<br/>
[10]&#160;G.&#160;Katona,&#160;A&#160;theorem&#160;of&#160;ï¬nite&#160;sets,&#160;in&#160;Theory&#160;of&#160;graphs&#160;(Proc.&#160;Colloq.,&#160;Tihany,&#160;1966),&#160;187â€“207,<br/>
Academic&#160;Press,&#160;New&#160;York,&#160;1968.<br/>
[11]&#160;J.&#160;H.&#160;Kim,&#160;C.&#160;Lee&#160;and&#160;J.&#160;Lee,&#160;Two&#160;approaches&#160;to&#160;Sidorenkoâ€™s&#160;conjecture,&#160;Trans.&#160;Amer.&#160;Math.<br/>
Soc.&#160;368&#160;(2016),&#160;5057â€“5074.<br/>
[12]&#160;M.&#160;Krivelevich&#160;and&#160;B.&#160;Sudakov,&#160;Pseudo-random&#160;graphs,&#160;in&#160;More&#160;sets,&#160;graphs&#160;and&#160;numbers,&#160;199â€“<br/>
262,&#160;Bolyai&#160;Soc.&#160;Math.&#160;Stud.&#160;15,&#160;Springer,&#160;Berlin,&#160;2006.<br/>
[13]&#160;J.&#160;B.&#160;Kruskal,&#160;The&#160;number&#160;of&#160;simplices&#160;in&#160;a&#160;complex,&#160;in&#160;Mathematical&#160;optimization&#160;techniques,<br/>
251â€“278,&#160;Univ.&#160;of&#160;California&#160;Press,&#160;Berkeley,&#160;Calif.,&#160;1963.<br/>
[14]&#160;J.&#160;X.&#160;Li&#160;and&#160;B.&#160;Szegedy,&#160;On&#160;the&#160;logarithmic&#160;calculus&#160;and&#160;Sidorenkoâ€™s&#160;conjecture,&#160;to&#160;appear&#160;in<br/>
Combinatorica.<br/>
[15]&#160;L.&#160;LovÂ´asz,&#160;Combinatorial&#160;problems&#160;and&#160;exercises,&#160;2nd&#160;edition.&#160;AMS&#160;Chelsea&#160;Publishing,<br/>
Providence,&#160;RI,&#160;2007.<br/>
14<br/>
<hr/>
<a name=15></a>[16]&#160;L.&#160;LovÂ´asz,&#160;Large&#160;networks&#160;and&#160;graph&#160;limits,&#160;Amer.&#160;Math.&#160;Soc.&#160;Colloq.&#160;Publ.,&#160;Vol.&#160;60,&#160;Amer.<br/>
Math.&#160;Soc.,&#160;Providence,&#160;RI,&#160;2012.<br/>
[17]&#160;L.&#160;LovÂ´asz&#160;and&#160;B.&#160;Szegedy,&#160;SzemerÂ´ediâ€™s&#160;lemma&#160;for&#160;the&#160;analyst,&#160;Geom.&#160;Funct.&#160;Anal.&#160;17&#160;(2007),<br/>
252â€“270.<br/>
[18]&#160;C.&#160;Reiher&#160;and&#160;M.&#160;Schacht,&#160;in&#160;preparation.<br/>
[19]&#160;A.&#160;Shapira,&#160;Quasi-randomness&#160;and&#160;the&#160;distribution&#160;of&#160;copies&#160;of&#160;a&#160;ï¬xed&#160;graph,&#160;Combinatorica&#160;28<br/>
(2008),&#160;735â€“745.<br/>
[20]&#160;M.&#160;Simonovits&#160;and&#160;V.&#160;T.&#160;SÂ´<br/>
os,&#160;Hereditarily&#160;extended&#160;properties,&#160;quasi-random&#160;graphs&#160;and&#160;not<br/>
necessarily&#160;induced&#160;subgraphs,&#160;Combinatorica&#160;17&#160;(1997),&#160;577â€“596.<br/>
[21]&#160;J.&#160;Skokan&#160;and&#160;L.&#160;Thoma,&#160;Bipartite&#160;subgraphs&#160;and&#160;quasi-randomness,&#160;Graphs&#160;Combin.&#160;20&#160;(2004),<br/>
255â€“262.<br/>
[22]&#160;B.&#160;Szegedy,&#160;An&#160;information&#160;theoretic&#160;approach&#160;to&#160;Sidorenkoâ€™s&#160;conjecture,&#160;arXiv:1406.6738v3<br/>
[math.CO].<br/>
[23]&#160;E.&#160;SzemerÂ´edi,&#160;Regular&#160;partitions&#160;of&#160;graphs,&#160;in&#160;Probl`emes&#160;combinatoires&#160;et&#160;thÂ´eorie&#160;des&#160;graphes<br/>
(Colloq.&#160;Internat.&#160;CNRS,&#160;Univ.&#160;Orsay,&#160;Orsay,&#160;1976),&#160;399â€“401,&#160;Colloq.&#160;Internat.&#160;CNRS,&#160;Vol.&#160;260,<br/>CNRS,&#160;Paris,&#160;1978.<br/>
[24]&#160;A.&#160;Thomason,&#160;Pseudorandom&#160;graphs,&#160;in&#160;Random&#160;graphs&#160;â€™85&#160;(PoznaÂ´<br/>
n,&#160;1985),&#160;307â€“331,&#160;North-<br/>
Holland&#160;Math.&#160;Stud.&#160;144,&#160;North-Holland,&#160;Amsterdam,&#160;1987.<br/>
[25]&#160;A.&#160;Thomason,&#160;Random&#160;graphs,&#160;strongly&#160;regular&#160;graphs&#160;and&#160;pseudorandom&#160;graphs,&#160;in&#160;Surveys<br/>
in&#160;combinatorics&#160;1987&#160;(New&#160;Cross,&#160;1987),&#160;173â€“195,&#160;London&#160;Math.&#160;Soc.&#160;Lecture&#160;Note&#160;Ser.&#160;123,<br/>Cambridge&#160;Univ.&#160;Press,&#160;Cambridge,&#160;1987.<br/>
15<br/>
<hr/>
<a name="outline"></a><h1>Document Outline</h1>
<ul>
<li><a href="1611.02099s.html#1">1 Introduction</a></li>
<li><a href="1611.02099s.html#3">2 Complete graphs</a></li>
<li><a href="1611.02099s.html#7">3 General graphs</a></li>
<li><a href="1611.02099s.html#13">4 Concluding remarks</a></li>
</ul>
<hr/>
</body>
</html>
