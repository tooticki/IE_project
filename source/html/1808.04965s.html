<!DOCTYPE html><html>
<head>
<title></title>
<style type="text/css">
<!--
.xflip {
    -moz-transform: scaleX(-1);
    -webkit-transform: scaleX(-1);
    -o-transform: scaleX(-1);
    transform: scaleX(-1);
    filter: fliph;
}
.yflip {
    -moz-transform: scaleY(-1);
    -webkit-transform: scaleY(-1);
    -o-transform: scaleY(-1);
    transform: scaleY(-1);
    filter: flipv;
}
.xyflip {
    -moz-transform: scaleX(-1) scaleY(-1);
    -webkit-transform: scaleX(-1) scaleY(-1);
    -o-transform: scaleX(-1) scaleY(-1);
    transform: scaleX(-1) scaleY(-1);
    filter: fliph + flipv;
}
-->
</style>
</head>
<body>
<a name=1></a><img class="yflip" src="html/1808.04965-1_1.png"/><br/>
A&#160;bilinear&#160;Bogolyubov-Ruzsa&#160;lemma&#160;with<br/>
poly-logarithmic&#160;bounds<br/>
Kaave&#160;Hosseini∗<br/>
Shachar&#160;Lovett†<br/>
University&#160;of&#160;California,&#160;San&#160;Diego<br/>
University&#160;of&#160;California,&#160;San&#160;Diego<br/>
skhossei@ucsd.edu<br/>
slovett@ucsd.edu<br/>
August&#160;16,&#160;2018<br/>
Abstract<br/>
The&#160;Bogolyubov-Ruzsa&#160;lemma,&#160;in&#160;particular&#160;the&#160;quantitative&#160;bounds&#160;obtained&#160;by<br/>
Sanders,&#160;plays&#160;a&#160;central&#160;role&#160;in&#160;obtaining&#160;effective&#160;bounds&#160;for&#160;the&#160;inverse&#160;U&#160;3&#160;theorem<br/>for&#160;the&#160;Gowers&#160;norms.&#160;Recently,&#160;Gowers&#160;and&#160;Mili´cevi´c&#160;applied&#160;a&#160;bilinear&#160;Bogolyubov-<br/>Ruzsa&#160;lemma&#160;as&#160;part&#160;of&#160;a&#160;proof&#160;of&#160;the&#160;inverse&#160;U&#160;4&#160;theorem&#160;with&#160;effective&#160;bounds.<br/>The&#160;goal&#160;of&#160;this&#160;note&#160;is&#160;to&#160;obtain&#160;quantitative&#160;bounds&#160;for&#160;the&#160;bilinear&#160;Bogolyubov-<br/>Ruzsa&#160;lemma&#160;which&#160;are&#160;similar&#160;to&#160;those&#160;obtained&#160;by&#160;Sanders&#160;for&#160;the&#160;Bogolyubov-Ruzsa<br/>lemma.<br/>
We&#160;show&#160;that&#160;if&#160;a&#160;set&#160;A&#160;⊂&#160;Fn&#160;×&#160;Fn&#160;has&#160;density&#160;α,&#160;then&#160;after&#160;a&#160;constant&#160;number<br/>
of&#160;horizontal&#160;and&#160;vertical&#160;sums,&#160;the&#160;set&#160;A&#160;would&#160;contain&#160;a&#160;bilinear&#160;structure&#160;of&#160;co-<br/>dimension&#160;r&#160;=&#160;logO(1)&#160;α−1.&#160;This&#160;improves&#160;the&#160;results&#160;of&#160;Gowers&#160;and&#160;Mili´cevi´c&#160;which<br/>obtained&#160;similar&#160;results&#160;with&#160;a&#160;weaker&#160;bound&#160;of&#160;r&#160;=&#160;exp(exp(logO(1)&#160;α−1))&#160;and&#160;by<br/>Bienvenu&#160;and&#160;Lˆe&#160;which&#160;obtained&#160;r&#160;=&#160;exp(exp(exp(logO(1)&#160;α−1))).<br/>
1<br/>
Introduction<br/>
<a href="http://arxiv.org/abs/1808.04965v1">arXiv:1808.04965v1 &#160;[math.CO] &#160;15 Aug 2018</a><br/>
One&#160;of&#160;the&#160;key&#160;ingredients&#160;in&#160;the&#160;proof&#160;of&#160;quantitative&#160;inverse&#160;theorem&#160;for&#160;Gowers&#160;U3&#160;norm<br/>over&#160;finite&#160;fields,&#160;due&#160;to&#160;Green&#160;and&#160;Tao&#160;[GT08]&#160;and&#160;Samorodnitsky&#160;[Sam07],&#160;is&#160;an&#160;inverse<br/>theorem&#160;on&#160;the&#160;structure&#160;of&#160;sumsets.&#160;More&#160;concretely,&#160;the&#160;tool&#160;that&#160;gives&#160;the&#160;best&#160;bounds<br/>is&#160;the&#160;improved&#160;Bogolyubov-Ruzsa&#160;lemma&#160;due&#160;to&#160;Sanders&#160;[San12].&#160;Before&#160;introducing&#160;it,<br/>we&#160;set&#160;some&#160;common&#160;notation.&#160;We&#160;assume&#160;that&#160;F&#160;=&#160;Fp&#160;is&#160;a&#160;prime&#160;field&#160;where&#160;p&#160;is&#160;a&#160;fixed<br/>constant,&#160;and&#160;suppress&#160;the&#160;exact&#160;dependence&#160;on&#160;p&#160;in&#160;the&#160;bounds.&#160;Given&#160;a&#160;subset&#160;A&#160;⊂&#160;Fn<br/>its&#160;density&#160;is&#160;α&#160;=&#160;|A|/|F|n.&#160;The&#160;sumset&#160;of&#160;A&#160;is&#160;2A&#160;=&#160;A&#160;+&#160;A&#160;=&#160;{a&#160;+&#160;a′&#160;:&#160;a,&#160;a′&#160;∈&#160;A}&#160;and&#160;its<br/>difference&#160;set&#160;is&#160;A&#160;−&#160;A&#160;=&#160;{a&#160;−&#160;a′&#160;:&#160;a,&#160;a′&#160;∈&#160;A}.<br/>
∗Supported&#160;by&#160;NSF&#160;grant&#160;CCF-1614023.<br/>
†Supported&#160;by&#160;NSF&#160;grant&#160;CCF-1614023.<br/>
1<br/>
<hr/>
<a name=2></a>Theorem&#160;1.1.&#160;([San12])&#160;Let&#160;A&#160;⊂&#160;Fn&#160;be&#160;a&#160;subset&#160;of&#160;density&#160;α.&#160;Then&#160;there&#160;exists&#160;a&#160;subspace<br/>V&#160;⊂&#160;2A&#160;−&#160;2A&#160;of&#160;co-dimension&#160;O(log4&#160;α−1).<br/>
In&#160;fact&#160;the&#160;link&#160;between&#160;the&#160;inverse&#160;U3&#160;theorem&#160;and&#160;inverse&#160;sumset&#160;theorems&#160;is&#160;deeper.<br/>
It&#160;was&#160;shown&#160;in&#160;[GT10,&#160;Lov12]&#160;that&#160;an&#160;inverse&#160;U3&#160;conjecture&#160;with&#160;polynomial&#160;bounds&#160;is<br/>equivalent&#160;to&#160;the&#160;polynomial&#160;Freiman-Ruzsa&#160;conjecture,&#160;one&#160;of&#160;the&#160;central&#160;open&#160;problems&#160;in<br/>additive&#160;combinatorics.&#160;Given&#160;this,&#160;one&#160;can&#160;not&#160;help&#160;but&#160;wonder&#160;whether&#160;there&#160;is&#160;a&#160;more<br/>general&#160;inverse&#160;sumset&#160;phenomena&#160;that&#160;would&#160;naturally&#160;correspond&#160;to&#160;quantitative&#160;inverse<br/>theorems&#160;for&#160;Uk&#160;norms.&#160;In&#160;a&#160;recent&#160;breakthrough,&#160;Gowers&#160;and&#160;Mili´cevi´c&#160;[GM17b]&#160;showed<br/>that&#160;this&#160;is&#160;indeed&#160;the&#160;case,&#160;at&#160;least&#160;for&#160;the&#160;U4&#160;norm.&#160;They&#160;used&#160;a&#160;bilinear&#160;generalization&#160;of<br/>Theorem&#160;1.1&#160;to&#160;obtain&#160;a&#160;quantitative&#160;inverse&#160;U4&#160;theorem.<br/>
To&#160;be&#160;able&#160;to&#160;explain&#160;this&#160;result&#160;we&#160;need&#160;to&#160;introduce&#160;some&#160;notation.&#160;Let&#160;A&#160;⊂&#160;Fn&#160;×&#160;Fn.<br/>
Define&#160;two&#160;operators,&#160;capturing&#160;subtraction&#160;on&#160;horizontal&#160;and&#160;vertical&#160;fibers&#160;as&#160;follows:<br/>
φh(A)&#160;:=&#160;{(x1&#160;−&#160;x2,&#160;y)&#160;:&#160;(x1,&#160;y),&#160;(x2,&#160;y)&#160;∈&#160;A},<br/>φv(A)&#160;:=&#160;{(x,&#160;y1&#160;−&#160;y2)&#160;:&#160;(x,&#160;y1),&#160;(x,&#160;y2)&#160;∈&#160;A}.<br/>
Given&#160;a&#160;word&#160;w&#160;∈&#160;{h,&#160;v}k&#160;define&#160;φw&#160;=&#160;φw&#160;◦&#160;.&#160;.&#160;.&#160;◦&#160;φ<br/>
to&#160;be&#160;their&#160;composition.&#160;A&#160;bilinear<br/>
1<br/>
wk<br/>
variety&#160;B&#160;⊂&#160;Fn&#160;×&#160;Fn&#160;of&#160;co-dimension&#160;r&#160;=&#160;r1&#160;+&#160;r2&#160;+&#160;r3&#160;is&#160;a&#160;set&#160;defined&#160;as&#160;follows:<br/>
B&#160;=&#160;{(x,&#160;y)&#160;∈&#160;V&#160;×&#160;W&#160;:&#160;b1(x,&#160;y)&#160;=&#160;.&#160;.&#160;.&#160;=&#160;br&#160;(x,&#160;y)&#160;=&#160;0},<br/>
3<br/>
where&#160;V,&#160;W&#160;⊂&#160;Fn&#160;are&#160;subspaces&#160;of&#160;co-dimension&#160;r1,&#160;r2,&#160;respectively,&#160;and&#160;b1,&#160;.&#160;.&#160;.&#160;,&#160;br&#160;:&#160;Fn&#160;×<br/>
3<br/>
Fn&#160;→&#160;F&#160;are&#160;bilinear&#160;forms.<br/>
Gowers&#160;and&#160;Mili´cevi´c&#160;[GM17a]&#160;and&#160;independently&#160;Bienvenu&#160;and&#160;Lˆe&#160;[BL17]&#160;proved&#160;the<br/>
following,&#160;although&#160;[BL17]&#160;obtained&#160;a&#160;weaker&#160;bound&#160;of&#160;r&#160;=&#160;exp(exp(exp(logO(1)&#160;α−1))).<br/>
Theorem&#160;1.2&#160;([GM17a,&#160;BL17]).&#160;Let&#160;A&#160;⊂&#160;Fn&#160;×&#160;Fn&#160;be&#160;of&#160;density&#160;α&#160;and&#160;let&#160;w&#160;=&#160;hhvvhh.<br/>Then&#160;there&#160;exists&#160;a&#160;bilinear&#160;variety&#160;B&#160;⊂&#160;φw(A)&#160;of&#160;co-dimension&#160;r&#160;=&#160;exp(exp(logO(1)&#160;α−1)).<br/>
To&#160;be&#160;fair,&#160;it&#160;was&#160;not&#160;Theorem&#160;1.2&#160;directly&#160;but&#160;a&#160;more&#160;analytic&#160;variant&#160;of&#160;it&#160;that&#160;was&#160;used<br/>
(combined&#160;with&#160;many&#160;other&#160;ideas)&#160;to&#160;prove&#160;the&#160;inverse&#160;U4&#160;theorem&#160;in&#160;[GM17b].&#160;However,<br/>we&#160;will&#160;not&#160;discuss&#160;that&#160;analytical&#160;variant&#160;here.<br/>
The&#160;purpose&#160;of&#160;this&#160;note&#160;is&#160;to&#160;improve&#160;the&#160;bound&#160;in&#160;Theorem&#160;1.2&#160;to&#160;r&#160;=&#160;logO(1)&#160;α−1.&#160;Our<br/>
proof&#160;is&#160;arguably&#160;simpler&#160;and&#160;is&#160;obtained&#160;only&#160;by&#160;invoking&#160;Theorem&#160;1.1&#160;a&#160;few&#160;times,&#160;without<br/>doing&#160;any&#160;extra&#160;Fourier&#160;analysis.&#160;The&#160;motivation&#160;behind&#160;this&#160;work&#160;—&#160;other&#160;than&#160;obtaining<br/>the&#160;right&#160;form&#160;of&#160;bound&#160;—&#160;is&#160;to&#160;employ&#160;this&#160;result&#160;in&#160;a&#160;more&#160;algebraic&#160;framework&#160;to&#160;obtain<br/>a&#160;modular&#160;and&#160;simpler&#160;proof&#160;of&#160;an&#160;inverse&#160;U4&#160;theorem.<br/>
One&#160;more&#160;remark&#160;before&#160;explaining&#160;the&#160;result&#160;is&#160;that&#160;Theorem&#160;1.2&#160;generalizes&#160;Theorem&#160;1.1<br/>
because&#160;given&#160;a&#160;set&#160;A&#160;⊂&#160;Fn,&#160;one&#160;can&#160;apply&#160;Theorem&#160;1.2&#160;to&#160;the&#160;set&#160;A′&#160;=&#160;Fn&#160;×&#160;A&#160;and&#160;find<br/>{x}&#160;×&#160;V&#160;⊂&#160;φw(A′)&#160;where&#160;x&#160;is&#160;arbitrary,&#160;and&#160;V&#160;a&#160;subspace&#160;of&#160;co-dimension&#160;3r.&#160;This&#160;implies<br/>V&#160;⊂&#160;2A&#160;−&#160;2A.<br/>
Theorem&#160;1.3&#160;(Main&#160;theorem).&#160;Let&#160;A&#160;⊂&#160;Fn&#160;×&#160;Fn&#160;be&#160;of&#160;density&#160;α&#160;and&#160;let&#160;w&#160;=&#160;hvvhvvvhh.<br/>Then&#160;there&#160;exists&#160;a&#160;bilinear&#160;variety&#160;B&#160;⊂&#160;φw(A)&#160;of&#160;co-dimension&#160;r&#160;=&#160;O(log80&#160;α−1).<br/>
2<br/>
<hr/>
<a name=3></a>Note&#160;that&#160;the&#160;choice&#160;of&#160;the&#160;word&#160;w&#160;in&#160;Theorem&#160;1.3&#160;is&#160;w&#160;=&#160;hvvhvvvhh&#160;which&#160;is&#160;slightly<br/>
longer&#160;than&#160;in&#160;Theorem&#160;1.2&#160;being&#160;hhvvhh.&#160;However,&#160;for&#160;applications&#160;this&#160;usually&#160;does&#160;not<br/>matter&#160;and&#160;any&#160;constant&#160;length&#160;w&#160;would&#160;do&#160;the&#160;job.&#160;In&#160;fact&#160;allowing&#160;w&#160;to&#160;be&#160;longer&#160;is&#160;what<br/>enables&#160;us&#160;to&#160;obtain&#160;a&#160;result&#160;with&#160;a&#160;stronger&#160;bound.<br/>
1.1<br/>
A&#160;robust&#160;analog&#160;of&#160;Theorem&#160;1.3<br/>
Going&#160;back&#160;to&#160;the&#160;theorem&#160;of&#160;Sanders,&#160;there&#160;is&#160;a&#160;more&#160;powerful&#160;variant&#160;of&#160;Theorem&#160;1.1<br/>which&#160;guarantees&#160;that&#160;V&#160;enjoys&#160;a&#160;stronger&#160;property&#160;rather&#160;than&#160;just&#160;being&#160;a&#160;subset&#160;of<br/>2A&#160;−&#160;2A.&#160;The&#160;stronger&#160;property&#160;is&#160;that&#160;every&#160;element&#160;y&#160;∈&#160;V&#160;can&#160;be&#160;written&#160;in&#160;many&#160;ways<br/>as&#160;y&#160;=&#160;a1&#160;+&#160;a2&#160;−&#160;a3&#160;−&#160;a4,&#160;with&#160;a1,&#160;a2,&#160;a3,&#160;a4&#160;∈&#160;A.&#160;This&#160;stronger&#160;property&#160;of&#160;V&#160;has&#160;a&#160;number<br/>of&#160;applications&#160;such&#160;as&#160;obtaining&#160;upper&#160;bounds&#160;for&#160;Roth&#160;theorem&#160;in&#160;four&#160;variables.&#160;We&#160;refer<br/>the&#160;reader&#160;to&#160;[SS16]&#160;where&#160;Theorem&#160;3.2&#160;is&#160;similarly&#160;obtained&#160;from&#160;Theorem&#160;1.1&#160;and&#160;also&#160;for<br/>the&#160;noted&#160;application.<br/>
Theorem&#160;1.4&#160;([San12,&#160;SS16]).&#160;Let&#160;A&#160;⊂&#160;Fn&#160;be&#160;a&#160;subset&#160;of&#160;density&#160;α.&#160;Then&#160;there&#160;exists&#160;a<br/>subspace&#160;V&#160;⊂&#160;2A&#160;−&#160;2A&#160;of&#160;co-dimension&#160;O(log4&#160;α−1)&#160;such&#160;that&#160;the&#160;following&#160;holds.&#160;Every<br/>y&#160;∈&#160;V&#160;can&#160;be&#160;expressed&#160;as&#160;y&#160;=&#160;a1&#160;+&#160;a2&#160;−&#160;a3&#160;−&#160;a4&#160;with&#160;a1,&#160;a2,&#160;a3,&#160;a4&#160;∈&#160;A&#160;in&#160;at&#160;least&#160;αO(1)|F|3n<br/>many&#160;ways.<br/>
In&#160;Section&#160;3&#160;we&#160;also&#160;prove&#160;a&#160;statistical&#160;analog&#160;of&#160;Theorem&#160;1.4&#160;by&#160;slightly&#160;modifying&#160;the<br/>
proof&#160;of&#160;Theorem&#160;1.3.&#160;To&#160;explain&#160;it,&#160;we&#160;need&#160;just&#160;a&#160;bit&#160;more&#160;notation.<br/>
Fix&#160;an&#160;arbitrary&#160;(x,&#160;y)&#160;∈&#160;Fn&#160;×&#160;Fn,&#160;and&#160;note&#160;that&#160;(x,&#160;y)&#160;can&#160;be&#160;written&#160;as&#160;(x,&#160;y)&#160;=<br/>
φh((x&#160;+&#160;x1,&#160;y),&#160;(x1,&#160;y))&#160;for&#160;any&#160;x1&#160;∈&#160;Fn.&#160;Moreover,&#160;for&#160;any&#160;fixed&#160;x1,&#160;each&#160;of&#160;the&#160;points<br/>(x&#160;+&#160;x1,&#160;y),&#160;(x1,&#160;y)&#160;can&#160;be&#160;written&#160;as&#160;(x&#160;+&#160;x1,&#160;y)&#160;=&#160;φv((x&#160;+&#160;x1,&#160;y&#160;+&#160;y1),&#160;(x&#160;+&#160;x1,&#160;y1))&#160;and<br/>(x1,&#160;y)&#160;=&#160;φv((x1,&#160;y&#160;+&#160;y2),&#160;(x1,&#160;y2))&#160;for&#160;arbitrary&#160;y1,&#160;y2&#160;∈&#160;Fn.&#160;So&#160;over&#160;all,&#160;the&#160;point&#160;(x,&#160;y)&#160;can<br/>be&#160;written&#160;using&#160;the&#160;operation&#160;φvh&#160;in&#160;exactly&#160;|Fn|3&#160;many&#160;ways,&#160;namely,&#160;the&#160;total&#160;number&#160;of<br/>two-dimensional&#160;parallelograms&#160;(x&#160;+&#160;x1,&#160;y&#160;+&#160;y1),&#160;(x&#160;+&#160;x1,&#160;y1),&#160;(x1,&#160;y&#160;+&#160;y2),&#160;(x1,&#160;y2)&#160;where&#160;(x,&#160;y)<br/>is&#160;fixed.&#160;We&#160;can&#160;continue&#160;this&#160;and&#160;consider&#160;an&#160;arbitrary&#160;word&#160;w&#160;∈&#160;{h,&#160;v}k.&#160;Then&#160;(x,&#160;y)&#160;can<br/>be&#160;written&#160;using&#160;the&#160;operation&#160;φw&#160;in&#160;exactly&#160;|Fn|2k−1&#160;many&#160;ways.<br/>
Now,&#160;we&#160;have&#160;a&#160;set&#160;A&#160;⊂&#160;Fn&#160;×&#160;Fn&#160;and&#160;fix&#160;a&#160;word&#160;w&#160;∈&#160;{h,&#160;v}k.&#160;Define&#160;φε&#160;(A)&#160;to&#160;be&#160;the<br/>
w<br/>
set&#160;of&#160;all&#160;elements&#160;(x,&#160;y)&#160;∈&#160;Fn&#160;×&#160;Fn&#160;that&#160;can&#160;be&#160;obtained&#160;in&#160;at&#160;least&#160;ε|Fn|2k−1&#160;many&#160;ways&#160;by<br/>applying&#160;the&#160;operation&#160;φw(A).<br/>
The&#160;following&#160;is&#160;an&#160;extension&#160;of&#160;Theorem&#160;1.3&#160;similar&#160;in&#160;spirit&#160;to&#160;Theorem&#160;1.4.<br/>
Theorem&#160;1.5.&#160;Let&#160;A&#160;⊂&#160;Fn&#160;×&#160;Fn&#160;be&#160;of&#160;density&#160;α&#160;and&#160;let&#160;w&#160;=&#160;hvvhvvvhh&#160;and&#160;ε&#160;=<br/>exp(−O(log20&#160;α−1)).<br/>
Then&#160;there&#160;exists&#160;a&#160;bilinear&#160;variety&#160;B&#160;⊂&#160;φε&#160;(A)&#160;of&#160;co-dimension<br/>
w<br/>
r&#160;=&#160;O(log80&#160;α−1).<br/>
As&#160;a&#160;final&#160;comment,&#160;we&#160;remark&#160;that&#160;if&#160;one&#160;keeps&#160;track&#160;of&#160;dependence&#160;on&#160;the&#160;field&#160;size&#160;in<br/>
the&#160;proofs,&#160;then&#160;the&#160;bound&#160;in&#160;Theorem&#160;1.3&#160;and&#160;Theorem&#160;1.5&#160;is&#160;r&#160;=&#160;O(log80&#160;α−1&#160;·&#160;logO(1)&#160;|F|).<br/>
Paper&#160;organization.<br/>
We&#160;prove&#160;Theorem&#160;1.3&#160;in&#160;Section&#160;2&#160;and&#160;Theorem&#160;1.5&#160;in&#160;Section&#160;3.<br/>
3<br/>
<hr/>
<a name=4></a>2<br/>
Proof&#160;of&#160;Theorem&#160;1.3<br/>
We&#160;prove&#160;Theorem&#160;1.3&#160;in&#160;six&#160;steps.&#160;It&#160;corresponds&#160;to&#160;applying&#160;chain&#160;of&#160;operators&#160;φh&#160;◦&#160;φvv&#160;◦<br/>φh&#160;◦&#160;φv&#160;◦&#160;φvv&#160;◦&#160;φhh&#160;to&#160;A.&#160;In&#160;the&#160;proof,&#160;we&#160;invoke&#160;Theorem&#160;1.1&#160;(or&#160;Theorem&#160;1.4,&#160;or&#160;the<br/>Freiman-Ruzsa&#160;theorem&#160;which&#160;is&#160;a&#160;corollary&#160;of&#160;Theorem&#160;1.1),&#160;four&#160;times&#160;in&#160;total,&#160;in&#160;steps<br/>1,2,4,&#160;and&#160;5.<br/>
We&#160;will&#160;assume&#160;that&#160;A&#160;⊂&#160;Fm&#160;×&#160;Fn,&#160;where&#160;initially&#160;m&#160;=&#160;n&#160;but&#160;where&#160;throughout&#160;the<br/>
proof&#160;we&#160;update&#160;m,&#160;n&#160;independently&#160;when&#160;we&#160;restrict&#160;x&#160;or&#160;y&#160;to&#160;large&#160;subspaces.&#160;It&#160;also&#160;helps<br/>readability,&#160;as&#160;we&#160;will&#160;always&#160;have&#160;that&#160;x&#160;and&#160;related&#160;sets&#160;or&#160;subspaces&#160;are&#160;in&#160;Fm,&#160;while&#160;y<br/>and&#160;related&#160;sets&#160;or&#160;subspace&#160;are&#160;in&#160;Fn.<br/>
We&#160;use&#160;three&#160;variables&#160;r1,&#160;r2,&#160;r3&#160;that&#160;hold&#160;the&#160;total&#160;number&#160;of&#160;linear&#160;forms&#160;on&#160;x,&#160;linear<br/>
forms&#160;on&#160;y,&#160;and&#160;bilinear&#160;forms&#160;on&#160;(x,&#160;y)&#160;that&#160;are&#160;being&#160;fixed&#160;throughout&#160;the&#160;proof,&#160;respec-<br/>tively.&#160;Initially,&#160;r1&#160;=&#160;r2&#160;=&#160;r3&#160;=&#160;0,&#160;but&#160;their&#160;values&#160;will&#160;be&#160;updated&#160;as&#160;we&#160;go&#160;along&#160;and&#160;at&#160;the<br/>end,&#160;r&#160;=&#160;max(r1,&#160;r2,&#160;r3)&#160;will&#160;be&#160;the&#160;codimension&#160;of&#160;the&#160;final&#160;bilinear&#160;variety.<br/>
Step&#160;1.<br/>
Decompose&#160;A&#160;=&#160;S<br/>
A<br/>
y∈Fn<br/>
y&#160;×&#160;{y}&#160;with&#160;Ay&#160;⊂&#160;Fm.&#160;Define&#160;A1&#160;:=&#160;φhh(A),&#160;so&#160;that<br/>
[<br/>
A1&#160;=<br/>
(2Ay&#160;−&#160;2Ay)&#160;×&#160;{y}.<br/>
y∈Fn<br/>
Let&#160;αy&#160;denote&#160;the&#160;density&#160;of&#160;Ay.&#160;By&#160;Theorem&#160;1.1,&#160;there&#160;exists&#160;a&#160;linear&#160;subspace&#160;V&#160;′&#160;⊂<br/>
y<br/>
2Ay&#160;−&#160;2Ay&#160;of&#160;co-dimension&#160;O(log4&#160;α−1).&#160;Let&#160;S&#160;:=&#160;{y&#160;:&#160;α<br/>
y<br/>
y&#160;≥&#160;α/2},&#160;where&#160;by&#160;averaging&#160;S&#160;has<br/>
density&#160;≥&#160;α/2.&#160;Note&#160;that&#160;for&#160;every&#160;y&#160;∈&#160;S&#160;the&#160;co-dimension&#160;of&#160;each&#160;V&#160;′&#160;is&#160;O(log4&#160;α−1).&#160;We<br/>
y<br/>
have<br/>
[<br/>
B1&#160;:=<br/>
V&#160;′&#160;×&#160;{y}&#160;⊂&#160;A1.<br/>
y<br/>
y∈S<br/>
Step&#160;2.<br/>
Consider&#160;A2&#160;:=&#160;φvv(B1).&#160;It&#160;satisfies<br/>
[<br/>
A2&#160;=<br/>
V&#160;′&#160;∩&#160;V&#160;′&#160;∩&#160;V&#160;′&#160;∩&#160;V&#160;′&#160;&#160;×&#160;{y<br/>
y<br/>
1&#160;+&#160;y2&#160;−&#160;y3&#160;−&#160;y4}.<br/>
1<br/>
y2<br/>
y3<br/>
y4<br/>
y1,y2,y3,y4∈S<br/>
By&#160;Theorem&#160;1.1,&#160;there&#160;is&#160;a&#160;subspace&#160;W&#160;′&#160;⊂&#160;2S&#160;−&#160;2S&#160;of&#160;co-dimension&#160;O(log4&#160;α−1).&#160;Note&#160;that<br/>the&#160;co-dimension&#160;of&#160;W&#160;′,&#160;as&#160;well&#160;as&#160;the&#160;co-dimension&#160;of&#160;each&#160;V&#160;′&#160;∩&#160;V&#160;′&#160;∩&#160;V&#160;′&#160;∩&#160;V&#160;′&#160;,&#160;is&#160;at&#160;most<br/>
y1<br/>
y2<br/>
y3<br/>
y4<br/>
O(log4&#160;α−1).&#160;We&#160;thus&#160;have<br/>
[<br/>
B2&#160;:=<br/>
Vy&#160;×&#160;{y}&#160;⊂&#160;A2,<br/>
y∈W&#160;′<br/>
where&#160;Vy&#160;=&#160;V&#160;′&#160;∩&#160;V&#160;′&#160;∩&#160;V&#160;′&#160;∩&#160;V&#160;′&#160;for&#160;some&#160;y<br/>
y<br/>
1,&#160;y2,&#160;y3,&#160;y4&#160;∈&#160;S&#160;which&#160;satisfy&#160;y&#160;=&#160;y1&#160;+&#160;y2&#160;−&#160;y3&#160;−&#160;y4.<br/>
1<br/>
y2<br/>
y3<br/>
y4<br/>
Update&#160;r2&#160;:=&#160;co-dim(W&#160;′),&#160;where&#160;we&#160;restrict&#160;y&#160;∈&#160;W&#160;′.&#160;To&#160;simplify&#160;notations,&#160;identify<br/>
W&#160;′&#160;∼<br/>
=&#160;Fn−co-dim(W′)&#160;and&#160;update&#160;n&#160;:=&#160;n&#160;−&#160;co-dim(W&#160;′).&#160;Thus&#160;we&#160;assume&#160;from&#160;now&#160;that<br/>
[<br/>
B2&#160;:=<br/>
Vy&#160;×&#160;{y},<br/>
y∈Fn<br/>
where&#160;each&#160;Vy&#160;has&#160;co-dimension&#160;d&#160;=&#160;O(log4&#160;α−1).<br/>
4<br/>
<hr/>
<a name=5></a><img class="yflip" src="html/1808.04965-5_1.png"/><br/>
Step&#160;3.<br/>
Consider&#160;A3&#160;:=&#160;φv(B2).&#160;It&#160;satisfies<br/>
[<br/>
A3&#160;=<br/>
(Vz&#160;∩&#160;Vy+z)&#160;×&#160;{y}.<br/>
y,z∈Fn<br/>
Step&#160;4.<br/>
Consider&#160;A4&#160;:=&#160;φh(A3).&#160;It&#160;satisfies<br/>
[<br/>
A4&#160;=<br/>
((Vz&#160;∩&#160;Vy+z)&#160;+&#160;(Vw&#160;∩&#160;Vy+w))&#160;×&#160;{y}.<br/>
y,z,w∈Fn<br/>
Define&#160;Uy&#160;:=&#160;V&#160;⊥,&#160;so&#160;that&#160;dim(U<br/>
y<br/>
y&#160;)&#160;=&#160;d&#160;and<br/>
[<br/>
A4&#160;=<br/>
((Uz&#160;+&#160;Uy+z)&#160;∩&#160;(Uw&#160;+&#160;Uy+w))⊥&#160;×&#160;{y}.<br/>
y,z,w∈Fn<br/>
Next,&#160;observe&#160;that&#160;if&#160;(Uz&#160;+&#160;Uy+z)∩(Uw&#160;+&#160;Uy+w)&#160;=&#160;{0}&#160;for&#160;some&#160;z,&#160;w,&#160;then&#160;Fm×{y}&#160;⊂&#160;A4.<br/>
If&#160;this&#160;is&#160;true&#160;for&#160;a&#160;typical&#160;y,&#160;then&#160;A4&#160;has&#160;constant&#160;density&#160;in&#160;Fm&#160;×&#160;Fn.&#160;Our&#160;goal&#160;is&#160;to&#160;get&#160;to<br/>that&#160;situation&#160;by&#160;fixing&#160;a&#160;few&#160;linear&#160;forms&#160;on&#160;x&#160;and&#160;bi-linear&#160;forms&#160;on&#160;(x,&#160;y).<br/>
The&#160;following&#160;lemma&#160;identifies&#160;common&#160;structure&#160;in&#160;the&#160;subspaces&#160;Uy&#160;in&#160;the&#160;case&#160;that&#160;for<br/>
a&#160;typical&#160;y,&#160;z,&#160;w,&#160;(Uz&#160;+&#160;Uy+z)∩(Uw&#160;+&#160;Uy+w)&#160;6=&#160;{0}.&#160;We&#160;recall&#160;that&#160;an&#160;affine&#160;map&#160;L&#160;:&#160;Fn&#160;→&#160;Fm<br/>is&#160;L(y)&#160;=&#160;My&#160;+&#160;b&#160;where&#160;M&#160;∈&#160;Fm×n,&#160;b&#160;∈&#160;Fm.<br/>
Lemma&#160;2.1.&#160;For&#160;each&#160;y&#160;∈&#160;Fn&#160;let&#160;Uy&#160;⊂&#160;Fm&#160;be&#160;a&#160;subspace&#160;of&#160;dimension&#160;d.&#160;Assume&#160;that<br/>
1<br/>
Pr<br/>
[(Uz&#160;+&#160;Uy+z)&#160;∩&#160;(Uw&#160;+&#160;Uy+w)&#160;6=&#160;{0}]&#160;≥&#160;.<br/>
y,z,w∈Fn<br/>
2<br/>
Then&#160;there&#160;exists&#160;an&#160;affine&#160;function&#160;L&#160;:&#160;Fn&#160;→&#160;Fm&#160;such&#160;that<br/>
Pr&#160;[L(y)&#160;∈&#160;Uy&#160;\&#160;{0}]&#160;≥&#160;exp(−O(d4)).<br/>
y∈Fn<br/>
To&#160;prove&#160;Lemma&#160;2.1,&#160;we&#160;use&#160;the&#160;Freiman-Ruzsa&#160;theorem,&#160;being&#160;a&#160;consequence&#160;of&#160;Theo-<br/>
rem&#160;1.1,&#160;which&#160;we&#160;quote&#160;below.&#160;We&#160;refer&#160;the&#160;reader&#160;to&#160;[Gre05]&#160;for&#160;details&#160;on&#160;how&#160;it&#160;is&#160;derived<br/>from&#160;Theorem&#160;1.1.<br/>
Theorem&#160;2.2.&#160;Let&#160;f&#160;:&#160;Fn&#160;→&#160;Fm&#160;be&#160;a&#160;function&#160;such&#160;that<br/>
Pr<br/>
[f&#160;(z)&#160;+&#160;f&#160;(y&#160;+&#160;z)&#160;=&#160;f&#160;(w)&#160;+&#160;f&#160;(y&#160;+&#160;w)]&#160;≥&#160;α.<br/>
y,z,w∈Fn<br/>
Then&#160;there&#160;exists&#160;an&#160;affine&#160;map&#160;L&#160;:&#160;Fn&#160;→&#160;Fm&#160;so&#160;that<br/>
Pr&#160;[f&#160;(y)&#160;=&#160;L(y)]&#160;≥&#160;exp(−O(log4&#160;α−1)).<br/>
y∈Fn<br/>
5<br/>
<hr/>
<a name=6></a><img class="yflip" src="html/1808.04965-6_1.png"/><br/>
<img class="yflip" src="html/1808.04965-6_2.png"/><br/>
<img class="yflip" src="html/1808.04965-6_3.png"/><br/>
<img class="yflip" src="html/1808.04965-6_4.png"/><br/>
<img class="yflip" src="html/1808.04965-6_5.png"/><br/>
<img class="yflip" src="html/1808.04965-6_6.png"/><br/>
<img class="yflip" src="html/1808.04965-6_7.png"/><br/>
<img class="yflip" src="html/1808.04965-6_8.png"/><br/>
<img class="yflip" src="html/1808.04965-6_9.png"/><br/>
<img class="yflip" src="html/1808.04965-6_10.png"/><br/>
<img class="yflip" src="html/1808.04965-6_11.png"/><br/>
<img class="yflip" src="html/1808.04965-6_12.png"/><br/>
<img class="yflip" src="html/1808.04965-6_13.png"/><br/>
<img class="yflip" src="html/1808.04965-6_14.png"/><br/>
<img class="yflip" src="html/1808.04965-6_15.png"/><br/>
<img class="yflip" src="html/1808.04965-6_16.png"/><br/>
<img class="yflip" src="html/1808.04965-6_17.png"/><br/>
<img class="yflip" src="html/1808.04965-6_18.png"/><br/>
Proof&#160;of&#160;Lemma&#160;2.1.&#160;First&#160;assume&#160;that<br/>
1<br/>
Pr<br/>
[(Uz&#160;\&#160;{0}&#160;+&#160;Uy+z&#160;\&#160;{0})&#160;∩&#160;(Uw&#160;\&#160;{0}&#160;+&#160;Uy+w&#160;\&#160;{0})&#160;6=&#160;{0}]&#160;≥&#160;.<br/>
(1)<br/>
y,z,w∈Fn<br/>
4<br/>
Choose&#160;f&#160;:&#160;Fn&#160;→&#160;Fm&#160;by&#160;picking&#160;f&#160;(y)&#160;∈&#160;Uy&#160;\&#160;{0}&#160;uniformly&#160;and&#160;independently&#160;for&#160;each<br/>
y&#160;∈&#160;Fn.&#160;Then<br/>
1<br/>
Pr<br/>
[f&#160;(z)&#160;+&#160;f&#160;(y&#160;+&#160;z)&#160;=&#160;f&#160;(w)&#160;+&#160;f&#160;(y&#160;+&#160;w)]&#160;≥<br/>
·&#160;|F|−4d.<br/>
y,z,w∈Fn,f<br/>
4<br/>
Fix&#160;f&#160;where&#160;the&#160;above&#160;bound&#160;holds.&#160;By&#160;Theorem&#160;2.2,&#160;there&#160;exists&#160;an&#160;affine&#160;function&#160;L&#160;:<br/>Fn&#160;→&#160;Fm&#160;such&#160;that<br/>
Pr&#160;[f&#160;(y)&#160;=&#160;L(y)]&#160;≥&#160;exp(−O(d4)).<br/>
y∈Fn<br/>
This&#160;concludes&#160;the&#160;proof,&#160;assuming&#160;Equation&#160;(1)&#160;holds.&#160;Otherwise,&#160;if&#160;Equation&#160;(1)&#160;does&#160;not<br/>hold,&#160;then&#160;we&#160;have<br/>
1<br/>
Pr<br/>
[Uz&#160;∩&#160;(Uw&#160;+&#160;Uy)&#160;6=&#160;{0}]&#160;≥&#160;.<br/>
y,z,w∈Fn<br/>
4<br/>
This&#160;implies&#160;that&#160;either<br/>
1<br/>
Pr<br/>
[(Uz&#160;\&#160;{0})&#160;∩&#160;(Uw&#160;\&#160;{0}&#160;+&#160;Uy&#160;\&#160;{0})&#160;6=&#160;{0}]&#160;≥<br/>
y,z,w∈Fn<br/>
8<br/>
or&#160;that<br/>
1<br/>
Pr&#160;[(Uz&#160;\&#160;{0})&#160;∩&#160;(Uw&#160;\&#160;{0})]&#160;≥&#160;.<br/>
y,w∈Fn<br/>
8<br/>
In&#160;the&#160;first&#160;case,&#160;choose&#160;the&#160;most&#160;popular&#160;w,&#160;y&#160;and&#160;then&#160;elements&#160;of&#160;Uw&#160;\&#160;{0},&#160;Uy&#160;\&#160;{0}&#160;to<br/>
obtain&#160;a&#160;constant&#160;map&#160;L&#160;≡&#160;b&#160;that&#160;satisfies&#160;the&#160;lemma.&#160;The&#160;second&#160;case&#160;is&#160;similar.<br/>
Next,&#160;we&#160;proceed&#160;as&#160;follows.&#160;As&#160;long&#160;as<br/>
1<br/>
Pr<br/>
[(Uz&#160;+&#160;Uy+z)&#160;∩&#160;(Uw&#160;+&#160;Uy+w)&#160;6=&#160;{0}]&#160;≥&#160;,<br/>
y,z,w∈Fn<br/>
2<br/>
apply&#160;Lemma&#160;2.1&#160;to&#160;find&#160;an&#160;affine&#160;function&#160;L&#160;:&#160;Fn&#160;→&#160;Fm.&#160;For&#160;each&#160;y&#160;that&#160;satisfies&#160;L(y)&#160;∈&#160;Uy<br/>replace&#160;Uy&#160;with&#160;U′&#160;=&#160;U<br/>
y<br/>
y&#160;/&#160;hL(y)i,&#160;which&#160;is&#160;a&#160;subspace&#160;of&#160;co-dimension&#160;1&#160;in&#160;Uy&#160;.&#160;By&#160;Lemma&#160;2.1,<br/>
this&#160;process&#160;needs&#160;to&#160;stop&#160;after&#160;t&#160;=&#160;exp(O(d4))&#160;many&#160;steps.&#160;Let&#160;L1,&#160;.&#160;.&#160;.&#160;,&#160;Lt&#160;:&#160;Fn&#160;→&#160;Fm&#160;be&#160;the<br/>affine&#160;maps&#160;obtained&#160;in&#160;this&#160;process.<br/>
We&#160;pause&#160;for&#160;a&#160;moment&#160;to&#160;introduce&#160;one&#160;useful&#160;notation.&#160;Given&#160;a&#160;set&#160;of&#160;maps&#160;F&#160;=&#160;{fi&#160;:<br/>
Fn&#160;→&#160;Fm,&#160;i&#160;∈&#160;[k]}&#160;and&#160;y&#160;∈&#160;Fn,&#160;let&#160;F&#160;(y)&#160;=&#160;{f1(y),&#160;.&#160;.&#160;.&#160;,&#160;fk(y)}&#160;⊂&#160;Fm,&#160;and&#160;also&#160;let&#160;F&#160;(y)&#160;denote<br/>the&#160;linear&#160;span&#160;of&#160;F&#160;(y).<br/>
Using&#160;this&#160;notation,&#160;set&#160;F&#160;=&#160;{L1,&#160;.&#160;.&#160;.&#160;,&#160;Lt}&#160;and&#160;note&#160;that&#160;F(y)&#160;is&#160;a&#160;subspace&#160;of&#160;dimension<br/>
at&#160;most&#160;t&#160;for&#160;each&#160;y&#160;∈&#160;Fn.&#160;For&#160;every&#160;subspace&#160;Uy&#160;there&#160;is&#160;a&#160;set&#160;Fy&#160;⊂&#160;F&#160;with&#160;|Fy|&#160;≤&#160;d&#160;such<br/>that&#160;the&#160;final&#160;subspace&#160;obtained&#160;in&#160;the&#160;process&#160;is&#160;Uy/Fy(y).&#160;This&#160;implies&#160;that<br/>
<br/>
<br/>
1<br/>
Pr<br/>
Uz/Fz(z)&#160;+&#160;Uy+z/Fy+z(y&#160;+&#160;z)&#160;∩&#160;Uw/Fw(w)&#160;+&#160;Uy+w/Fy+w(y&#160;+&#160;w)&#160;=&#160;{0}&#160;≥&#160;.<br/>
y,z,w∈Fn<br/>
2<br/>
6<br/>
<hr/>
<a name=7></a><img class="yflip" src="html/1808.04965-7_1.png"/><br/>
<img class="yflip" src="html/1808.04965-7_2.png"/><br/>
<img class="yflip" src="html/1808.04965-7_3.png"/><br/>
<img class="yflip" src="html/1808.04965-7_4.png"/><br/>
<img class="yflip" src="html/1808.04965-7_5.png"/><br/>
<img class="yflip" src="html/1808.04965-7_6.png"/><br/>
<img class="yflip" src="html/1808.04965-7_7.png"/><br/>
<img class="yflip" src="html/1808.04965-7_8.png"/><br/>
<img class="yflip" src="html/1808.04965-7_9.png"/><br/>
<img class="yflip" src="html/1808.04965-7_10.png"/><br/>
<img class="yflip" src="html/1808.04965-7_11.png"/><br/>
<img class="yflip" src="html/1808.04965-7_12.png"/><br/>
<img class="yflip" src="html/1808.04965-7_13.png"/><br/>
<img class="yflip" src="html/1808.04965-7_14.png"/><br/>
<img class="yflip" src="html/1808.04965-7_15.png"/><br/>
<img class="yflip" src="html/1808.04965-7_16.png"/><br/>
<img class="yflip" src="html/1808.04965-7_17.png"/><br/>
<img class="yflip" src="html/1808.04965-7_18.png"/><br/>
<img class="yflip" src="html/1808.04965-7_19.png"/><br/>
<img class="yflip" src="html/1808.04965-7_20.png"/><br/>
<img class="yflip" src="html/1808.04965-7_21.png"/><br/>
<img class="yflip" src="html/1808.04965-7_22.png"/><br/>
<img class="yflip" src="html/1808.04965-7_23.png"/><br/>
<img class="yflip" src="html/1808.04965-7_24.png"/><br/>
Consider&#160;the&#160;most&#160;popular&#160;quadruple&#160;F1,&#160;F2,&#160;F3,&#160;F4&#160;⊂&#160;F&#160;so&#160;that<br/>
<br/>
<br/>
1&#160;t−4<br/>
Pr<br/>
Uz/F1(z)&#160;+&#160;Uy+z/F2(y&#160;+&#160;z)∩&#160;Uw/F3(w)&#160;+&#160;Uy+w/F4(y&#160;+&#160;w)&#160;=&#160;{0}&#160;≥&#160;×<br/>
.<br/>
y,z,w∈Fn<br/>
2<br/>
d<br/>
Let&#160;L&#160;:=&#160;F<br/>
<br/>
1&#160;∪&#160;F2&#160;∪&#160;F3&#160;∪&#160;F4.&#160;Recall&#160;that&#160;t&#160;=&#160;exp(O(d4))&#160;so&#160;that<br/>
t<br/>
=&#160;exp(O(d5)).&#160;We&#160;have<br/>
d<br/>
<br/>
<br/>
Pr<br/>
(Uz&#160;+&#160;Uy+z)&#160;∩&#160;(Uw&#160;+&#160;Uy+w)&#160;⊂&#160;L(z)&#160;+&#160;L(y&#160;+&#160;z)&#160;+&#160;L(w)&#160;+&#160;L(y&#160;+&#160;w)&#160;≥&#160;exp(−O(d5)).<br/>
y,z,w∈Fn<br/>
By&#160;averaging,&#160;there&#160;is&#160;some&#160;choice&#160;of&#160;z,&#160;w&#160;such&#160;that<br/>
<br/>
<br/>
Pr<br/>
(Uz&#160;+&#160;Uy+z)&#160;∩&#160;(Uw&#160;+&#160;Uy+w)&#160;⊂&#160;L(z)&#160;+&#160;L(y&#160;+&#160;z)&#160;+&#160;L(w)&#160;+&#160;L(y&#160;+&#160;w)&#160;≥&#160;exp(−O(d5)).<br/>
y∈Fn<br/>
Recall&#160;that&#160;each&#160;Li&#160;is&#160;an&#160;affine&#160;map&#160;and&#160;that&#160;|L|&#160;≤&#160;4d.&#160;Thus,&#160;L(z),&#160;L(y+z),&#160;L(w),&#160;L(y+w)&#160;⊂<br/>L(y)&#160;+&#160;Q&#160;where&#160;Q&#160;⊂&#160;Fm&#160;is&#160;a&#160;linear&#160;subspace&#160;of&#160;dimension&#160;O(d).&#160;We&#160;thus&#160;have<br/>
[<br/>
B4&#160;:=<br/>
(L(y)&#160;+&#160;Q)⊥&#160;×&#160;{y}&#160;⊂&#160;A4,<br/>
y∈T<br/>
where&#160;T&#160;⊂&#160;Fn&#160;has&#160;density&#160;exp(−O(d5)).<br/>
To&#160;simplify&#160;the&#160;presentation,&#160;we&#160;would&#160;like&#160;to&#160;assume&#160;that&#160;the&#160;maps&#160;in&#160;L&#160;are&#160;linear&#160;maps<br/>
instead&#160;of&#160;affine&#160;maps,&#160;that&#160;is,&#160;that&#160;they&#160;do&#160;not&#160;have&#160;a&#160;constant&#160;term.&#160;This&#160;can&#160;be&#160;obtained<br/>by&#160;restricting&#160;x&#160;to&#160;the&#160;subspace&#160;orthogonal&#160;to&#160;Q&#160;and&#160;to&#160;the&#160;constant&#160;term&#160;in&#160;the&#160;affine&#160;maps<br/>in&#160;L.&#160;Correspondingly,&#160;we&#160;update&#160;r1&#160;:=&#160;r1&#160;+&#160;dim(Q)&#160;+&#160;|L|&#160;=&#160;O(d).<br/>
So,&#160;from&#160;now&#160;we&#160;assume&#160;that&#160;L&#160;is&#160;defined&#160;by&#160;4d&#160;linear&#160;maps,&#160;and&#160;that<br/>
[<br/>
⊥<br/>
B4&#160;:=<br/>
L(y)&#160;×&#160;{y}&#160;⊂&#160;A4,<br/>
y∈T<br/>
where&#160;T&#160;⊂&#160;Fn&#160;has&#160;density&#160;exp(−O(d5)).<br/>
Step&#160;5.<br/>
Consider&#160;A5&#160;:=&#160;φvv(B4)&#160;so&#160;that<br/>
[<br/>
<br/>
⊥<br/>
⊥<br/>
⊥<br/>
⊥<br/>
A5&#160;=<br/>
L(y1)&#160;∩&#160;L(y2)&#160;∩&#160;L(y3)&#160;∩&#160;L(y4)<br/>
×&#160;{y1&#160;+&#160;y2&#160;−&#160;y3&#160;−&#160;y4}.<br/>
y1,y2,y3,y4∈T<br/>
By&#160;Theorem&#160;1.1&#160;there&#160;exists&#160;a&#160;subspace&#160;W&#160;⊂&#160;2T&#160;−2T&#160;with&#160;co-dimension&#160;O(d20).&#160;However,<br/>
this&#160;time,&#160;this&#160;is&#160;not&#160;enough&#160;for&#160;us.&#160;We&#160;need&#160;to&#160;use&#160;Theorem&#160;1.4&#160;instead.&#160;The&#160;following<br/>equivalent&#160;formulation&#160;of&#160;Theorem&#160;1.4&#160;will&#160;be&#160;more&#160;convenient&#160;for&#160;us:&#160;there&#160;is&#160;a&#160;subspace<br/>W&#160;⊂&#160;Fn&#160;of&#160;co-dimension&#160;O(log4&#160;α−1)&#160;such&#160;that,&#160;for&#160;each&#160;y&#160;∈&#160;W&#160;there&#160;is&#160;a&#160;set&#160;Sy&#160;⊂&#160;(Fn)3&#160;of<br/>density&#160;αO(1),&#160;for&#160;which<br/>
∀(a1,&#160;a2,&#160;a3)&#160;∈&#160;Sy&#160;:<br/>
a1,&#160;a2,&#160;a3,&#160;a1&#160;+&#160;a2&#160;−&#160;a3&#160;−&#160;y&#160;∈&#160;A.<br/>
7<br/>
<hr/>
<a name=8></a><img class="yflip" src="html/1808.04965-8_1.png"/><br/>
<img class="yflip" src="html/1808.04965-8_2.png"/><br/>
<img class="yflip" src="html/1808.04965-8_3.png"/><br/>
<img class="yflip" src="html/1808.04965-8_4.png"/><br/>
<img class="yflip" src="html/1808.04965-8_5.png"/><br/>
<img class="yflip" src="html/1808.04965-8_6.png"/><br/>
<img class="yflip" src="html/1808.04965-8_7.png"/><br/>
<img class="yflip" src="html/1808.04965-8_8.png"/><br/>
<img class="yflip" src="html/1808.04965-8_9.png"/><br/>
<img class="yflip" src="html/1808.04965-8_10.png"/><br/>
<img class="yflip" src="html/1808.04965-8_11.png"/><br/>
<img class="yflip" src="html/1808.04965-8_12.png"/><br/>
<img class="yflip" src="html/1808.04965-8_13.png"/><br/>
<img class="yflip" src="html/1808.04965-8_14.png"/><br/>
<img class="yflip" src="html/1808.04965-8_15.png"/><br/>
<img class="yflip" src="html/1808.04965-8_16.png"/><br/>
<img class="yflip" src="html/1808.04965-8_17.png"/><br/>
<img class="yflip" src="html/1808.04965-8_18.png"/><br/>
<img class="yflip" src="html/1808.04965-8_19.png"/><br/>
<img class="yflip" src="html/1808.04965-8_20.png"/><br/>
<img class="yflip" src="html/1808.04965-8_21.png"/><br/>
<img class="yflip" src="html/1808.04965-8_22.png"/><br/>
<img class="yflip" src="html/1808.04965-8_23.png"/><br/>
<img class="yflip" src="html/1808.04965-8_24.png"/><br/>
<img class="yflip" src="html/1808.04965-8_25.png"/><br/>
<img class="yflip" src="html/1808.04965-8_26.png"/><br/>
<img class="yflip" src="html/1808.04965-8_27.png"/><br/>
Apply&#160;Theorem&#160;1.4&#160;to&#160;the&#160;set&#160;T&#160;to&#160;obtain&#160;the&#160;subspace&#160;W&#160;and&#160;the&#160;sets&#160;Sy.&#160;We&#160;have<br/>
<br/>
<br/>
[<br/>
[<br/>
B5&#160;:=<br/>
<br/>
L(y1)&#160;+&#160;L(y2)&#160;+&#160;L(y3)&#160;+&#160;L(y1&#160;+&#160;y2&#160;−&#160;y3&#160;−&#160;y)⊥&#160;×&#160;{y}&#160;⊂&#160;A5.<br/>
y∈W<br/>
(y1,y2,y3)∈Sy<br/>
To&#160;simplify&#160;the&#160;presentation&#160;we&#160;introduce&#160;the&#160;notation&#160;L(y1,&#160;y2,&#160;y3)&#160;:=&#160;L(y1)&#160;+&#160;L(y2)&#160;+&#160;L(y3).<br/>Next,&#160;observe&#160;that&#160;for&#160;any&#160;y,&#160;y′&#160;∈&#160;Fn,&#160;L(y′)&#160;+&#160;L(y&#160;+&#160;y′)&#160;⊂&#160;L(y′)&#160;+&#160;L(y).&#160;Thus&#160;we&#160;can&#160;simplify<br/>the&#160;expression&#160;of&#160;B5&#160;to<br/>
<br/>
<br/>
[<br/>
[<br/>
B5&#160;=<br/>
<br/>
L(y1,&#160;y2,&#160;y3)&#160;+&#160;L(y)⊥&#160;×&#160;{y},<br/>
y∈W<br/>
(y1,y2,y3)∈Sy<br/>
which&#160;can&#160;be&#160;re-written&#160;as<br/>
<br/>
<br/>
[<br/>
[<br/>
⊥<br/>
B5&#160;=<br/>
<br/>
L(y1,&#160;y2,&#160;y3)⊥&#160;∩&#160;L(y)&#160;&#160;×&#160;{y}.<br/>
y∈W<br/>
(y1,y2,y3)∈Sy<br/>
Step&#160;6.<br/>
Consider&#160;A6&#160;:=&#160;φh(B5).&#160;It&#160;satisfies<br/>
<br/>
<br/>
<br/>
[<br/>
[<br/>
⊥<br/>
A6&#160;=<br/>
<br/>
<br/>
<br/>
<br/>
L(y1,&#160;y2,&#160;y3)⊥&#160;+&#160;L(y′&#160;,&#160;y′&#160;,&#160;y′&#160;)⊥<br/>
∩&#160;L(y)<br/>
×&#160;{y}<br/>
1<br/>
2<br/>
3<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
y∈W<br/>
(y1,y2,y3)∈Sy<br/>(y′&#160;,y′&#160;,y′&#160;)∈S<br/>
1<br/>
2<br/>
3<br/>
y<br/>
In&#160;order&#160;to&#160;complete&#160;the&#160;proof,&#160;we&#160;will&#160;find&#160;a&#160;large&#160;subspace&#160;V&#160;such&#160;that&#160;for&#160;every&#160;y&#160;∈&#160;W&#160;,<br/>
[<br/>
V&#160;⊂<br/>
L(y1,&#160;y2,&#160;y3)⊥&#160;+&#160;L(y′1,&#160;y′2,&#160;y′3)⊥.<br/>
(y1,y2,y3)∈Sy<br/>(y′&#160;,y′&#160;,y′&#160;)∈S<br/>
1<br/>
2<br/>
3<br/>
y<br/>
In&#160;fact,&#160;we&#160;will&#160;prove&#160;something&#160;stronger:&#160;there&#160;is&#160;a&#160;large&#160;subspace&#160;V&#160;such&#160;that&#160;for&#160;each<br/>y&#160;∈&#160;W&#160;,&#160;there&#160;is&#160;a&#160;choice&#160;of&#160;(y1,&#160;y2,&#160;y3),&#160;(y′&#160;,&#160;y′&#160;,&#160;y′&#160;)&#160;∈&#160;S<br/>
1<br/>
2<br/>
3<br/>
y&#160;for&#160;which<br/>
V&#160;⊂&#160;L(y1,&#160;y2,&#160;y3)⊥&#160;+&#160;L(y′1,&#160;y′2,&#160;y′3)⊥.<br/>
The&#160;following&#160;lemma&#160;is&#160;key.&#160;Given&#160;a&#160;set&#160;L&#160;of&#160;linear&#160;maps&#160;from&#160;Fn&#160;to&#160;Fm,&#160;let&#160;dim(L)<br/>
denote&#160;the&#160;dimension&#160;of&#160;linear&#160;span&#160;of&#160;L&#160;as&#160;a&#160;vector&#160;space&#160;over&#160;F.<br/>
Lemma&#160;2.3.&#160;Fix&#160;δ&#160;&gt;&#160;0.&#160;Let&#160;L&#160;be&#160;a&#160;set&#160;of&#160;linear&#160;maps&#160;from&#160;Fn&#160;to&#160;Fm&#160;with&#160;dim(L)&#160;=&#160;k.<br/>Then&#160;there&#160;is&#160;a&#160;subspace&#160;V&#160;⊂&#160;Fm&#160;of&#160;co-dimension&#160;at&#160;most&#160;(k&#160;+&#160;1)2&#160;log&#160;δ−1&#160;such&#160;that&#160;the<br/>following&#160;holds.&#160;For&#160;every&#160;subset&#160;S&#160;⊂&#160;Fn&#160;of&#160;density&#160;at&#160;least&#160;δ,&#160;at&#160;least&#160;half&#160;the&#160;pairs&#160;y,&#160;y′&#160;∈&#160;S<br/>satisfy&#160;that<br/>
V&#160;⊂&#160;L(y)⊥&#160;+&#160;L(y′)⊥.<br/>
8<br/>
<hr/>
<a name=9></a><img class="yflip" src="html/1808.04965-9_1.png"/><br/>
<img class="yflip" src="html/1808.04965-9_2.png"/><br/>
<img class="yflip" src="html/1808.04965-9_3.png"/><br/>
<img class="yflip" src="html/1808.04965-9_4.png"/><br/>
<img class="yflip" src="html/1808.04965-9_5.png"/><br/>
<img class="yflip" src="html/1808.04965-9_6.png"/><br/>
<img class="yflip" src="html/1808.04965-9_7.png"/><br/>
<img class="yflip" src="html/1808.04965-9_8.png"/><br/>
<img class="yflip" src="html/1808.04965-9_9.png"/><br/>
<img class="yflip" src="html/1808.04965-9_10.png"/><br/>
<img class="yflip" src="html/1808.04965-9_11.png"/><br/>
<img class="yflip" src="html/1808.04965-9_12.png"/><br/>
<img class="yflip" src="html/1808.04965-9_13.png"/><br/>
<img class="yflip" src="html/1808.04965-9_14.png"/><br/>
<img class="yflip" src="html/1808.04965-9_15.png"/><br/>
<img class="yflip" src="html/1808.04965-9_16.png"/><br/>
<img class="yflip" src="html/1808.04965-9_17.png"/><br/>
<img class="yflip" src="html/1808.04965-9_18.png"/><br/>
<img class="yflip" src="html/1808.04965-9_19.png"/><br/>
<img class="yflip" src="html/1808.04965-9_20.png"/><br/>
<img class="yflip" src="html/1808.04965-9_21.png"/><br/>
<img class="yflip" src="html/1808.04965-9_22.png"/><br/>
<img class="yflip" src="html/1808.04965-9_23.png"/><br/>
<img class="yflip" src="html/1808.04965-9_24.png"/><br/>
Proof.&#160;The&#160;proof&#160;is&#160;by&#160;induction&#160;on&#160;dim(L).&#160;Consider&#160;first&#160;the&#160;base&#160;case&#160;of&#160;dim(L)&#160;=&#160;1.<br/>Take&#160;some&#160;M&#160;∈&#160;L&#160;\&#160;{0}.&#160;If&#160;rank(M)&#160;≤&#160;log&#160;δ−1&#160;+&#160;3,&#160;then&#160;set&#160;V&#160;=&#160;Im(M)⊥&#160;and&#160;notice&#160;that<br/>Im(M)⊥&#160;⊂&#160;L(y)⊥&#160;for&#160;any&#160;y&#160;∈&#160;Fn.&#160;Otherwise&#160;do&#160;as&#160;follows.&#160;Fix&#160;arbitrary&#160;L,&#160;L′&#160;∈&#160;L&#160;\&#160;{0}&#160;and<br/>observe&#160;that<br/>
Pr&#160;[L(y)&#160;=&#160;L′(y′)]&#160;≤&#160;|F|−(log&#160;δ−1+3)δ−1.<br/>
y,y′∈S<br/>
By&#160;applying&#160;the&#160;union&#160;bound&#160;over&#160;all&#160;pairs&#160;of&#160;L,&#160;L′&#160;∈&#160;L&#160;\&#160;{0},&#160;we&#160;obtain&#160;that<br/>
1<br/>
Pr&#160;L(y)&#160;∩&#160;L(y′)&#160;6=&#160;{0}&#160;≤&#160;|F|2|F|−(log&#160;δ−1+3)δ−1&#160;≤&#160;.<br/>
y,y′∈S<br/>
2<br/>
The&#160;claim&#160;then&#160;holds&#160;for&#160;V&#160;=&#160;Fm.<br/>
Now&#160;suppose&#160;dim(L)&#160;=&#160;k.&#160;Again,&#160;if&#160;there&#160;is&#160;some&#160;M&#160;∈&#160;L&#160;\&#160;{0}&#160;with&#160;rank&#160;at&#160;most<br/>
2k&#160;+&#160;log&#160;δ−1&#160;+&#160;1,&#160;then&#160;project&#160;every&#160;map&#160;down&#160;to&#160;Im(M)⊥.&#160;That&#160;is,&#160;consider&#160;the&#160;new&#160;family<br/>of&#160;maps<br/>
L′&#160;=&#160;{ProjIm(M)⊥L&#160;:&#160;L&#160;∈&#160;L}.<br/>
Note&#160;that&#160;L′&#160;has&#160;dimension&#160;k&#160;−&#160;1&#160;and&#160;so&#160;by&#160;induction&#160;hypothesis,&#160;there&#160;exists&#160;a&#160;subspace&#160;V&#160;′<br/>of&#160;co-dimension&#160;at&#160;most&#160;k2&#160;log&#160;δ−1&#160;such&#160;that,&#160;for&#160;at&#160;least&#160;half&#160;the&#160;pairs&#160;y,&#160;y′&#160;∈&#160;S&#160;it&#160;holds&#160;that<br/>
V&#160;′&#160;⊂&#160;L′(y)⊥&#160;+&#160;L′(y′)⊥.<br/>
The&#160;claim&#160;then&#160;holds&#160;for&#160;V&#160;=&#160;V&#160;′&#160;∩&#160;Im(M)⊥.<br/>
Otherwise,&#160;similar&#160;to&#160;the&#160;base&#160;case,&#160;observe&#160;that<br/>
1<br/>
Pr&#160;L(y)&#160;∩&#160;L(y′)&#160;6=&#160;{0}&#160;≤&#160;|L|2|F|−(2k+log&#160;δ−1+1)δ−1&#160;≤&#160;|F|2k|F|−(2k+log&#160;δ−1+1)δ−1&#160;≤&#160;.<br/>
y,y′∈S<br/>
2<br/>
In&#160;this&#160;case&#160;the&#160;claim&#160;holds&#160;for&#160;V&#160;=&#160;Fm.<br/>
We&#160;note&#160;that&#160;for&#160;Theorem&#160;1.3&#160;we&#160;only&#160;need&#160;a&#160;weaker&#160;form&#160;of&#160;Lemma&#160;2.3,&#160;which&#160;states<br/>
that&#160;at&#160;least&#160;one&#160;pair&#160;y,&#160;y′&#160;∈&#160;S&#160;exists;&#160;however,&#160;we&#160;would&#160;need&#160;the&#160;stronger&#160;version&#160;for<br/>Theorem&#160;1.5.<br/>
We&#160;apply&#160;Lemma&#160;2.3&#160;as&#160;follows.&#160;Define&#160;a&#160;new&#160;family&#160;of&#160;linear&#160;maps&#160;L∗&#160;from&#160;F3n&#160;to&#160;Fm<br/>
as&#160;follows.&#160;For&#160;each&#160;L&#160;∈&#160;L&#160;define&#160;three&#160;linear&#160;maps&#160;Li,&#160;i&#160;∈&#160;{1,&#160;2,&#160;3}&#160;by:<br/>
Li&#160;:&#160;(Fn)3&#160;→&#160;Fm,&#160;Li(y1,&#160;y2,&#160;y3)&#160;=&#160;L(yi)<br/>
and&#160;let<br/>
L∗&#160;:=&#160;{Li&#160;:&#160;L&#160;∈&#160;L,&#160;i&#160;∈&#160;[3]}.<br/>
Apply&#160;Lemma&#160;2.3&#160;to&#160;the&#160;family&#160;L∗&#160;with&#160;δ&#160;=&#160;exp(−O(d5))&#160;and&#160;obtain&#160;a&#160;subspace&#160;V&#160;⊂&#160;Fm<br/>of&#160;codimension&#160;O(d2&#160;log(exp(−O(d5)))&#160;=&#160;O(d7)&#160;so&#160;that,&#160;for&#160;every&#160;Sy&#160;⊂&#160;(Fn)3&#160;with&#160;y&#160;∈&#160;W&#160;,<br/>there&#160;exist&#160;(y1,&#160;y2,&#160;y3),&#160;(y′&#160;,&#160;y′&#160;,&#160;y′&#160;)&#160;∈&#160;S<br/>
1<br/>
2<br/>
3<br/>
y&#160;for&#160;which<br/>
V&#160;⊂&#160;L∗((y1,&#160;y2,&#160;y3))⊥&#160;+&#160;L∗((y′&#160;,&#160;y′&#160;,&#160;y′&#160;))⊥.<br/>
1<br/>
2<br/>
3<br/>
9<br/>
<hr/>
<a name=10></a><img class="yflip" src="html/1808.04965-10_1.png"/><br/>
<img class="yflip" src="html/1808.04965-10_2.png"/><br/>
<img class="yflip" src="html/1808.04965-10_3.png"/><br/>
This&#160;directly&#160;implies&#160;that<br/>
V&#160;⊂&#160;L(y1,&#160;y2,&#160;y3)⊥&#160;+&#160;L(y′1,&#160;y′2,&#160;y′3)⊥.<br/>
Define<br/>
[&#160;<br/>
⊥<br/>
B6&#160;:=<br/>
V&#160;∩&#160;L(y)<br/>
×&#160;{y}&#160;⊂&#160;A6.<br/>
y∈W<br/>
Observe&#160;that&#160;B6&#160;is&#160;a&#160;bilinear&#160;variety&#160;defined&#160;by&#160;co-dim(V&#160;)&#160;linear&#160;equations&#160;on&#160;x,&#160;co-dim(W&#160;)<br/>linear&#160;equations&#160;on&#160;y&#160;and&#160;|L|&#160;bilinear&#160;equations&#160;on&#160;(x,&#160;y).<br/>
To&#160;complete&#160;the&#160;proof&#160;we&#160;calculate&#160;the&#160;quantitative&#160;bounds&#160;obtained.&#160;We&#160;have&#160;d&#160;=<br/>
O(log4&#160;α−1)&#160;where&#160;α&#160;was&#160;the&#160;density&#160;of&#160;the&#160;original&#160;set&#160;A,&#160;and<br/>
r1&#160;=&#160;O(d)&#160;+&#160;co-dim(V&#160;)&#160;=&#160;O(d7),<br/>r2&#160;=&#160;O(d)&#160;+&#160;co-dim(W&#160;)&#160;=&#160;O(d20),<br/>r3&#160;=&#160;|L|&#160;=&#160;O(d).<br/>
Together&#160;these&#160;give&#160;the&#160;final&#160;bound&#160;of&#160;r&#160;=&#160;max(r1,&#160;r2,&#160;r3)&#160;=&#160;O(log80&#160;α−1).<br/>
3<br/>
Proof&#160;of&#160;Theorem&#160;1.5<br/>
In&#160;this&#160;section&#160;we&#160;prove&#160;Theorem&#160;1.5&#160;by&#160;slightly&#160;modifying&#160;the&#160;proof&#160;of&#160;Theorem&#160;1.3.&#160;We<br/>point&#160;out&#160;the&#160;necessary&#160;modifications&#160;to&#160;proof&#160;of&#160;Theorem&#160;1.3.<br/>
Step&#160;1.<br/>
In&#160;this&#160;step,&#160;we&#160;use&#160;Theorem&#160;1.4&#160;instead&#160;of&#160;Theorem&#160;1.1&#160;and&#160;directly&#160;obtain<br/>
B1&#160;⊂&#160;φε1&#160;(A)<br/>
(2)<br/>
hh<br/>
for&#160;ε1&#160;=&#160;αO(1).<br/>
Step&#160;2.<br/>
Similarly&#160;in&#160;this&#160;step&#160;as&#160;well,&#160;using&#160;Theorem&#160;1.4&#160;instead&#160;of&#160;Theorem&#160;1.1&#160;gives<br/>
B2&#160;⊂&#160;φε2&#160;(B1)<br/>
(3)<br/>
vv<br/>
with&#160;ε2&#160;=&#160;αO(1).&#160;To&#160;recall,&#160;we&#160;assume&#160;for&#160;simplicity&#160;of&#160;exposition&#160;from&#160;now&#160;on&#160;that&#160;B2&#160;=<br/>S<br/>
V<br/>
y∈Fn<br/>
y&#160;×&#160;{y}.<br/>
Steps&#160;3&#160;and&#160;4.<br/>
This&#160;step&#160;is&#160;slightly&#160;different&#160;than&#160;steps&#160;1&#160;and&#160;2.&#160;Here,&#160;we&#160;are&#160;not&#160;able<br/>
to&#160;directly&#160;produce&#160;some&#160;set&#160;B4&#160;that&#160;would&#160;satisfy&#160;B4&#160;⊂&#160;φε4&#160;(B2).&#160;But&#160;what&#160;we&#160;can&#160;do&#160;is&#160;to<br/>
hv<br/>
apply&#160;the&#160;remaining&#160;operation&#160;φhvvhv&#160;altogether&#160;to&#160;B2&#160;and&#160;obtain&#160;the&#160;final&#160;bilinear&#160;structure<br/>B6&#160;that&#160;satisfies&#160;what&#160;we&#160;want,&#160;which&#160;is<br/>
B6&#160;⊂&#160;φε6<br/>
(B2)<br/>
(4)<br/>
hvvhv<br/>
10<br/>
<hr/>
<a name=11></a><img class="yflip" src="html/1808.04965-11_1.png"/><br/>
<img class="yflip" src="html/1808.04965-11_2.png"/><br/>
<img class="yflip" src="html/1808.04965-11_3.png"/><br/>
<img class="yflip" src="html/1808.04965-11_4.png"/><br/>
<img class="yflip" src="html/1808.04965-11_5.png"/><br/>
<img class="yflip" src="html/1808.04965-11_6.png"/><br/>
<img class="yflip" src="html/1808.04965-11_7.png"/><br/>
<img class="yflip" src="html/1808.04965-11_8.png"/><br/>
<img class="yflip" src="html/1808.04965-11_9.png"/><br/>
<img class="yflip" src="html/1808.04965-11_10.png"/><br/>
<img class="yflip" src="html/1808.04965-11_11.png"/><br/>
<img class="yflip" src="html/1808.04965-11_12.png"/><br/>
<img class="yflip" src="html/1808.04965-11_13.png"/><br/>
<img class="yflip" src="html/1808.04965-11_14.png"/><br/>
<img class="yflip" src="html/1808.04965-11_15.png"/><br/>
<img class="yflip" src="html/1808.04965-11_16.png"/><br/>
for&#160;ε6&#160;=&#160;exp(−poly&#160;log&#160;α−1).&#160;Combining&#160;Equations&#160;(2)&#160;to&#160;(4)&#160;gives<br/>
B6&#160;⊂&#160;φε<br/>
(A)<br/>
hvvhvvvhh<br/>
for&#160;ε&#160;=&#160;exp(−poly&#160;log&#160;α−1).<br/>
We&#160;establish&#160;Equation&#160;(4)&#160;in&#160;the&#160;rest&#160;of&#160;the&#160;proof.&#160;Recall&#160;that&#160;previously&#160;we&#160;showed&#160;that<br/>
the&#160;following&#160;holds:&#160;there&#160;is&#160;a&#160;set&#160;of&#160;affine&#160;maps&#160;L,&#160;with&#160;|L|&#160;=&#160;O(d),&#160;such&#160;that<br/>
<br/>
<br/>
Pr<br/>
L(z)&#160;+&#160;L(y&#160;+&#160;z)&#160;+&#160;L(w)&#160;+&#160;L(y&#160;+&#160;w)⊥&#160;⊂&#160;V&#160;⊥&#160;∩&#160;V&#160;⊥&#160;+&#160;V&#160;⊥&#160;∩&#160;V&#160;⊥&#160;&#160;≥&#160;exp(−O(d5))<br/>
z<br/>
y+z<br/>
w<br/>
y+w<br/>
y,w,z∈Fn<br/>
and&#160;consequently<br/>
<br/>
<br/>
Pr<br/>
L(y)&#160;+&#160;L(z)&#160;+&#160;L(w)⊥&#160;⊂&#160;V&#160;⊥&#160;∩&#160;V&#160;⊥&#160;&#160;+&#160;V&#160;⊥&#160;∩&#160;V&#160;⊥&#160;&#160;≥&#160;exp(−O(d5)).<br/>
z<br/>
y+z<br/>
w<br/>
y+w<br/>
y,w,z∈Fn<br/>
Remember&#160;that&#160;d&#160;=&#160;O(log4&#160;α−1).&#160;Furthermore,&#160;we&#160;may&#160;assume&#160;the&#160;maps&#160;in&#160;L&#160;are&#160;linear<br/>(instead&#160;of&#160;affine)&#160;after&#160;we&#160;update&#160;r1&#160;:=&#160;r1&#160;+&#160;|L|&#160;=&#160;O(d).<br/>
Then&#160;what&#160;we&#160;did&#160;in&#160;the&#160;proof&#160;of&#160;Theorem&#160;1.3&#160;was&#160;to&#160;fix&#160;one&#160;popular&#160;choice&#160;of&#160;w,&#160;z.<br/>
However,&#160;here&#160;we&#160;can’t&#160;do&#160;that,&#160;as&#160;we&#160;need&#160;many&#160;pairs&#160;of&#160;w,&#160;z.&#160;Let&#160;T&#160;be&#160;the&#160;set&#160;of&#160;y’s&#160;that<br/>satisfy<br/>
<br/>
<br/>
Pr<br/>
L(y)&#160;+&#160;L(z)&#160;+&#160;L(w)⊥&#160;⊂&#160;V&#160;⊥&#160;∩&#160;V&#160;⊥&#160;&#160;+&#160;V&#160;⊥&#160;∩&#160;V&#160;⊥&#160;&#160;≥&#160;exp(−O(d5)),<br/>
(5)<br/>
z<br/>
y+z<br/>
w<br/>
y+w<br/>
w,z∈Fn<br/>
and&#160;so&#160;T&#160;has&#160;density&#160;exp(−O(d5)).&#160;We&#160;deduce&#160;something&#160;stronger&#160;from&#160;Equation&#160;(5)&#160;but<br/>we&#160;need&#160;to&#160;introduce&#160;some&#160;notation&#160;first.<br/>
For&#160;A,&#160;B&#160;⊂&#160;Fn&#160;let&#160;A&#160;−η&#160;B&#160;denote&#160;the&#160;set&#160;of&#160;all&#160;elements&#160;c&#160;∈&#160;A&#160;−&#160;B&#160;that&#160;can&#160;be&#160;written<br/>
in&#160;at&#160;least&#160;η|Fn|&#160;many&#160;ways&#160;as&#160;c&#160;=&#160;a&#160;−&#160;b&#160;for&#160;a&#160;∈&#160;A,&#160;b&#160;∈&#160;B.&#160;To&#160;use&#160;this&#160;notation,&#160;note&#160;that&#160;if<br/>A,&#160;B&#160;are&#160;two&#160;subspaces&#160;of&#160;co-dimension&#160;k,&#160;then&#160;A&#160;−&#160;B&#160;=&#160;A&#160;−η&#160;B&#160;for&#160;η&#160;=&#160;exp(−O(k)).&#160;This<br/>is&#160;because&#160;every&#160;element&#160;c&#160;∈&#160;A&#160;−&#160;B&#160;can&#160;be&#160;written&#160;as&#160;c&#160;=&#160;(a&#160;+&#160;v)&#160;−&#160;(b&#160;+&#160;v)&#160;where&#160;v&#160;is&#160;an<br/>arbitrary&#160;element&#160;in&#160;the&#160;subspace&#160;A&#160;∩&#160;B&#160;of&#160;codimension&#160;at&#160;most&#160;2k.&#160;So&#160;we&#160;can&#160;improve&#160;the<br/>Equation&#160;(5)&#160;to<br/>
<br/>
<br/>
Pr<br/>
L(y)&#160;+&#160;L(z)&#160;+&#160;L(w)⊥&#160;⊂&#160;V&#160;⊥&#160;∩&#160;V&#160;⊥&#160;&#160;−<br/>
∩&#160;V&#160;⊥&#160;&#160;≥&#160;exp(−O(d5)),<br/>
(6)<br/>
z<br/>
y+z<br/>
η<br/>
V&#160;⊥<br/>
w<br/>
y+w<br/>
w,z∈Fn<br/>
for&#160;η&#160;=&#160;exp&#160;(−O(d))<br/>
Step&#160;5.<br/>
Similar&#160;to&#160;before,&#160;consider&#160;the&#160;subspace&#160;W&#160;⊂&#160;2T&#160;−&#160;2T&#160;of&#160;co-dimension&#160;O(d20)<br/>
that&#160;is&#160;given&#160;by&#160;Theorem&#160;1.4.&#160;This&#160;subspace&#160;W&#160;has&#160;the&#160;following&#160;property:&#160;fix&#160;arbitrary<br/>y&#160;∈&#160;W&#160;.&#160;Sample&#160;y1,&#160;y2,&#160;y3&#160;∈&#160;Fn&#160;uniformly&#160;and&#160;independently,&#160;and&#160;set&#160;y4&#160;=&#160;−y&#160;+&#160;y1&#160;+&#160;y2&#160;−&#160;y3.<br/>Then&#160;with&#160;probability&#160;at&#160;least&#160;exp(−O(d5))&#160;we&#160;have&#160;y1,&#160;y2,&#160;y3,&#160;y4&#160;∈&#160;T&#160;.&#160;This&#160;means&#160;that&#160;if<br/>we&#160;furthermore&#160;sample&#160;w1,&#160;w2,&#160;w3,&#160;w4,&#160;z1,&#160;z2,&#160;z3,&#160;z4&#160;∈&#160;Fn&#160;uniformly&#160;and&#160;independently,&#160;then,<br/>with&#160;probability&#160;at&#160;least&#160;exp(−O(d5)),&#160;the&#160;following&#160;four&#160;equations&#160;simultaneously&#160;hold:<br/>
L(y<br/>
<br/>
<br/>
i)&#160;+&#160;L(zi)&#160;+&#160;L(wi)⊥&#160;⊂<br/>
V&#160;⊥&#160;∩&#160;V&#160;⊥<br/>
−<br/>
∩&#160;V&#160;⊥<br/>
∀i&#160;=&#160;1,&#160;.&#160;.&#160;.&#160;,&#160;4.<br/>
z<br/>
η<br/>
V&#160;⊥<br/>
i<br/>
yi+zi<br/>
wi<br/>
yi+wi<br/>
11<br/>
<hr/>
<a name=12></a><img class="yflip" src="html/1808.04965-12_1.png"/><br/>
<img class="yflip" src="html/1808.04965-12_2.png"/><br/>
<img class="yflip" src="html/1808.04965-12_3.png"/><br/>
<img class="yflip" src="html/1808.04965-12_4.png"/><br/>
<img class="yflip" src="html/1808.04965-12_5.png"/><br/>
<img class="yflip" src="html/1808.04965-12_6.png"/><br/>
<img class="yflip" src="html/1808.04965-12_7.png"/><br/>
<img class="yflip" src="html/1808.04965-12_8.png"/><br/>
<img class="yflip" src="html/1808.04965-12_9.png"/><br/>
<img class="yflip" src="html/1808.04965-12_10.png"/><br/>
<img class="yflip" src="html/1808.04965-12_11.png"/><br/>
<img class="yflip" src="html/1808.04965-12_12.png"/><br/>
<img class="yflip" src="html/1808.04965-12_13.png"/><br/>
<img class="yflip" src="html/1808.04965-12_14.png"/><br/>
By&#160;computing&#160;the&#160;intersection&#160;of&#160;the&#160;left&#160;hand&#160;sides&#160;and&#160;the&#160;right&#160;hand&#160;sides&#160;we&#160;obtain&#160;that<br/>with&#160;probability&#160;at&#160;least&#160;exp(−O(d5)),&#160;it&#160;holds&#160;that<br/>
&#160;<br/>
3<br/>
4<br/>
4<br/>
!⊥<br/>
4<br/>
X<br/>
X<br/>
X<br/>
\<br/>
L(y)&#160;+<br/>
L(y<br/>
<br/>
<br/>
i)&#160;+<br/>
L(zi)&#160;+<br/>
L(wi)<br/>
⊂<br/>
V&#160;⊥&#160;∩&#160;V&#160;⊥<br/>
−<br/>
∩&#160;V&#160;⊥<br/>
.&#160;(7)<br/>
z<br/>
η<br/>
V&#160;⊥<br/>
i<br/>
yi+zi<br/>
wi<br/>
yi+wi<br/>
i=1<br/>
i=1<br/>
i=1<br/>
i=1<br/>
For&#160;a&#160;given&#160;y&#160;∈&#160;Fn,&#160;s&#160;=&#160;(y1,&#160;y2,&#160;y3,&#160;w1,&#160;w2,&#160;w3,&#160;w4,&#160;z1,&#160;z2,&#160;z3,&#160;z4)&#160;∈&#160;(Fn)11,&#160;let<br/>
4<br/>
\<br/>
V<br/>
<br/>
<br/>
y,s&#160;=<br/>
V&#160;⊥&#160;∩&#160;V&#160;⊥<br/>
−<br/>
∩&#160;V&#160;⊥<br/>
,<br/>
z<br/>
η<br/>
V&#160;⊥<br/>
i<br/>
yi+zi<br/>
wi<br/>
yi+wi<br/>
i=1<br/>
where&#160;to&#160;recall&#160;y4&#160;=&#160;−y&#160;+&#160;y1&#160;+&#160;y2&#160;−&#160;y3.&#160;Observe&#160;that&#160;for&#160;any&#160;s,<br/>
[&#160;Vy,s&#160;×&#160;{y}&#160;⊂&#160;φvvhv(B2).<br/>
y∈W<br/>
We&#160;rewrite&#160;Equation&#160;(7)&#160;more&#160;compactly&#160;as<br/>
h<br/>
i<br/>
Pr<br/>
L(y)&#160;+&#160;L(s)⊥&#160;⊂&#160;Vy,s&#160;≥&#160;exp(−O(d5)),<br/>
(8)<br/>
s<br/>
where&#160;we&#160;use&#160;the&#160;notation&#160;L(s)&#160;=&#160;P3<br/>
L(y<br/>
L(z<br/>
L(w<br/>
i=1<br/>
i)&#160;+&#160;P4<br/>
i=1<br/>
i)&#160;+&#160;P4<br/>
i=1<br/>
i).<br/>
Step&#160;6.<br/>
Now&#160;we&#160;consider&#160;applying&#160;the&#160;operation&#160;hvvhv&#160;altogether&#160;to&#160;B2.&#160;Only&#160;the&#160;last<br/>
operation&#160;h&#160;remains&#160;to&#160;be&#160;applied,&#160;which&#160;after&#160;doing&#160;so,&#160;we&#160;will&#160;find&#160;a&#160;subspace&#160;V&#160;⊂&#160;Fm<br/>of&#160;co-dimension&#160;O(d7)&#160;that&#160;satisfies&#160;the&#160;following:&#160;for&#160;any&#160;y&#160;∈&#160;W&#160;,&#160;choose&#160;s1,&#160;s2&#160;∈&#160;(Fn)11<br/>uniformly&#160;and&#160;randomly.&#160;Then&#160;with&#160;probability&#160;exp(−O(d5)),<br/>
V&#160;∩&#160;L(y)⊥&#160;⊂&#160;Vy,s&#160;−<br/>
.<br/>
1<br/>
η&#160;Vy,s2<br/>
where&#160;to&#160;recall&#160;η&#160;=&#160;exp(−O(d)).<br/>
To&#160;do&#160;so,<br/>
fix&#160;y<br/>
∈<br/>
W<br/>
and&#160;let&#160;Sy<br/>
be&#160;the&#160;set&#160;of&#160;all&#160;tuples&#160;s<br/>
=<br/>
(y1,&#160;y2,&#160;y3,&#160;w1,&#160;w2,&#160;w3,&#160;w4,&#160;z1,&#160;z2,&#160;z3,&#160;z4)&#160;∈&#160;(Fn)11&#160;that&#160;satisfy&#160;Equation&#160;(8).&#160;Note&#160;that&#160;the&#160;den-<br/>sity&#160;of&#160;each&#160;Sy&#160;is&#160;at&#160;least&#160;exp(−O(d5)).&#160;To&#160;simplify&#160;notation&#160;denote&#160;s&#160;=&#160;(s1,&#160;.&#160;.&#160;.&#160;,&#160;s11).&#160;We<br/>call&#160;up&#160;Lemma&#160;2.3&#160;in&#160;a&#160;similar&#160;way&#160;as&#160;we&#160;did&#160;before.&#160;Define&#160;a&#160;family&#160;L∗&#160;of&#160;linear&#160;maps,<br/>containing&#160;linear&#160;maps&#160;Li&#160;for&#160;each&#160;L&#160;∈&#160;L&#160;and&#160;i&#160;=&#160;1,&#160;.&#160;.&#160;.&#160;,&#160;11,&#160;where<br/>
Li&#160;:&#160;(Fn)11&#160;→&#160;Fm,&#160;Li(s)&#160;=&#160;L(si).<br/>
Apply&#160;Lemma&#160;2.3&#160;to&#160;L∗&#160;and&#160;density&#160;parameter&#160;exp(−O(d5)).&#160;So,&#160;we&#160;obtain&#160;a&#160;subspace<br/>V&#160;⊂&#160;Fm&#160;of&#160;co-dimension&#160;O(d7)&#160;such&#160;that&#160;for&#160;each&#160;y&#160;∈&#160;W&#160;,<br/>
1<br/>
Pr<br/>
V&#160;⊂&#160;L(s1)⊥&#160;+&#160;L(s2)⊥&#160;≥&#160;,<br/>
(9)<br/>
s1,s2∈Sy<br/>
2<br/>
12<br/>
<hr/>
<a name=13></a><img class="yflip" src="html/1808.04965-13_1.png"/><br/>
<img class="yflip" src="html/1808.04965-13_2.png"/><br/>
which&#160;implies<br/>
Pr<br/>
V&#160;∩&#160;L(y)⊥&#160;⊂&#160;V<br/>
<br/>
y,s<br/>
−<br/>
≥&#160;exp(−O(d5)).<br/>
(10)<br/>
1<br/>
η&#160;Vy,s2<br/>
s1,s2∈(Fn)11<br/>
Define&#160;the&#160;final&#160;bilinear&#160;structure&#160;as<br/>
[&#160;<br/>
⊥<br/>
B6&#160;:=<br/>
V&#160;∩&#160;L(y)<br/>
×&#160;{y}.<br/>
y∈W<br/>
It&#160;satisfies<br/>
B6&#160;⊂&#160;φε6<br/>
(B2)<br/>
hvvhv<br/>
for&#160;ε6&#160;=&#160;exp(−O(d5))&#160;and&#160;so&#160;over&#160;all<br/>
B6&#160;⊂&#160;φε<br/>
(A)<br/>
hvvhvvvhh<br/>
for&#160;ε&#160;=&#160;exp(−O(d5)).<br/>
References<br/>
[BL17]<br/>
Pierre-Yves&#160;Bienvenu&#160;and&#160;Th´ai&#160;Ho`ang&#160;Lˆe.&#160;A&#160;bilinear&#160;Bogolyubov&#160;theorem.&#160;arXiv<br/>preprint&#160;arXiv:1711.05349,&#160;2017.<br/>
[GM17a]&#160;WT&#160;Gowers&#160;and&#160;Luka&#160;Mili´cevi´c.&#160;A&#160;bilinear&#160;version&#160;of&#160;Bogolyubov’s&#160;theorem.&#160;arXiv<br/>
preprint&#160;arXiv:1712.00248,&#160;2017.<br/>
[GM17b]&#160;WT&#160;Gowers&#160;and&#160;Luka&#160;Mili´cevi´c.&#160;A&#160;quantitative&#160;inverse&#160;theorem&#160;for&#160;the&#160;U4&#160;norm<br/>
over&#160;finite&#160;fields.&#160;arXiv&#160;preprint&#160;arXiv:1712.00241,&#160;2017.<br/>
[Gre05]<br/>
B&#160;Green.&#160;Notes&#160;on&#160;the&#160;polynomial&#160;Freiman-Ruzsa&#160;conjecture.&#160;preprint,&#160;2005.<br/>http://people.maths.ox.ac.uk/greenbj/papers/PFR.pdf.<br/>
[GT08]<br/>
Ben&#160;Green&#160;and&#160;Terence&#160;Tao.&#160;An&#160;inverse&#160;theorem&#160;for&#160;the&#160;Gowers&#160;U3&#160;norm.&#160;Pro-<br/>ceedings&#160;of&#160;the&#160;Edinburgh&#160;Mathematical&#160;Society,&#160;51(1):73–153,&#160;2008.<br/>
[GT10]<br/>
Ben&#160;Green&#160;and&#160;Terence&#160;Tao.&#160;An&#160;equivalence&#160;between&#160;inverse&#160;sumset&#160;theorems&#160;and<br/>inverse&#160;conjectures&#160;for&#160;the&#160;U3&#160;norm.&#160;In&#160;Mathematical&#160;Proceedings&#160;of&#160;the&#160;Cambridge<br/>Philosophical&#160;Society,&#160;volume&#160;149,&#160;pages&#160;1–19.&#160;Cambridge&#160;University&#160;Press,&#160;2010.<br/>
[Lov12]<br/>
Shachar&#160;Lovett.&#160;Equivalence&#160;of&#160;polynomial&#160;conjectures&#160;in&#160;additive&#160;combinatorics.<br/>Combinatorica,&#160;32(5):607–618,&#160;2012.<br/>
[Sam07]&#160;Alex&#160;Samorodnitsky.&#160;Low-degree&#160;tests&#160;at&#160;large&#160;distances.&#160;In&#160;Proceedings&#160;of&#160;the<br/>
thirty-ninth&#160;annual&#160;ACM&#160;symposium&#160;on&#160;Theory&#160;of&#160;computing,&#160;pages&#160;506–515.<br/>ACM,&#160;2007.<br/>
[San12]<br/>
Tom&#160;Sanders.&#160;On&#160;the&#160;Bogolyubov-Ruzsa&#160;lemma.&#160;Analysis&#160;&amp;&#160;PDE,&#160;5(3):627–655,<br/>2012.<br/>
13<br/>
<hr/>
<a name=14></a>[SS16]<br/>
Tomasz&#160;Schoen&#160;and&#160;Olof&#160;Sisask.&#160;Roth’s&#160;theorem&#160;for&#160;four&#160;variables&#160;and&#160;additive<br/>structures&#160;in&#160;sums&#160;of&#160;sparse&#160;sets.&#160;In&#160;Forum&#160;of&#160;Mathematics,&#160;Sigma,&#160;volume&#160;4.<br/>Cambridge&#160;University&#160;Press,&#160;2016.<br/>
14<br/>
<hr/>
</body>
</html>
