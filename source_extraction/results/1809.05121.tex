\documentclass[a4paper,11pt]{amsart}
\usepackage[colorlinks, linkcolor=blue,anchorcolor=Periwinkle,
\usepackage[all]{xy}
\SelectTips{cm}{}
\usepackage[mathscr]{euscript}

\renewcommand{\qedsymbol}{$\surd$}



% CRM format

%\setlength{\baselineskip}{0.3cm}
%\setlength{\topmargin}{1.5cm}
%\setlength{\textwidth}{11.5cm}
%\setlength{\textheight}{17.5cm}
%\setlength{\footskip}{.7cm}
%\addtolength{\evensidemargin}{1mm}
%\addtolength{\oddsidemargin}{1mm}
%\setlength{\headsep}{.6cm}
%\setlength{\headheight}{4mm}

 
\textwidth15.1cm \textheight22.7cm \headheight12pt
\oddsidemargin.4cm \evensidemargin.4cm \topmargin0cm

%\numberwithin{equation}{section}

\newcommand{\ie}{{\em i.e.}\ }
\newcommand{\cf}{{\em cf.}\ }
\newcommand{\eg}{{\em e.g.}\ }
\newcommand{\ko}{\: , \;}
\newcommand{\ul}[1]{\underline{#1}}
\newcommand{\ol}[1]{\overline{#1}}

\setcounter{tocdepth}{1}

\numberwithin{equation}{subsection}
%EXTRACTING
 \usepackage{./extract}
%ENDEXTRACTING
\newtheorem{theorem}[subsection]{Theorem}
\newtheorem{classification-theorem}[subsection]{Classification Theorem}
\newtheorem{decomposition-theorem}[subsection]{Decomposition Theorem}
\newtheorem{proposition-definition}[subsection]{Proposition-Definition}
\newtheorem{periodicity-conjecture}[subsection]{Periodicity Conjecture}
%\newtheorem*{maintheorem}{"Theorem"}
\newtheorem{lemma}[subsection]{Lemma}
\newtheorem{proposition}[subsection]{Proposition}
\newtheorem{corollary}[subsection]{Corollary}
\newtheorem{conjecture}[subsection]{Conjecture}
\newtheorem{question}[subsection]{Question}
\newtheorem{example}[subsection]{Example}
\newtheorem{remark}[subsection]{Remark}

%\newcommand{\reminder}[1]{{\bf #1}}
\newcommand{\reminder}[1]{}

\newcommand{\opname}[1]{\operatorname{\mathsf{#1}}}
\newcommand{\opnamestar}[1]{\operatorname*{\mathsf{#1}}}
\renewcommand{\mod}{\opname{mod}\nolimits}
\newcommand{\coh}{\opname{coh}\nolimits}
\newcommand{\Loc}{\opname{Loc}\nolimits}
\newcommand{\rep}{\opname{rep}\nolimits}
\newcommand{\grmod}{\opname{grmod}\nolimits}
\newcommand{\proj}{\opname{proj}\nolimits}
\newcommand{\Proj}{\opname{Proj}\nolimits}
\newcommand{\inj}{\opname{inj}\nolimits}
\newcommand{\Mod}{\opname{Mod}\nolimits}
\newcommand{\Grmod}{\opname{Grmod}\nolimits}
\newcommand{\ind}{\opname{ind}\nolimits}
\newcommand{\per}{\opname{per}\nolimits}
\newcommand{\add}{\opname{add}\nolimits}
\newcommand{\op}{^{op}}
\newcommand{\der}{\cd}
\newcommand{\Gr}{\opname{Gr}\nolimits}
\newcommand{\dimv}{\underline{\dim}\,}
\renewcommand{\Im}{\opname{Im}\nolimits}
\newcommand{\inprod}[1]{\langle #1 \rangle}


\newcommand{\Za}{\opname{Za}\nolimits}
\newcommand{\hrz}{\opname{hrz}\nolimits}
\newcommand{\vrt}{\opname{vrt}\nolimits}
\newcommand{\Trop}{\opname{Trop}\nolimits}
\newcommand{\dgcat}{\opname{dgcat}\nolimits}
\newcommand{\Ho}{\opname{Ho}\nolimits}
\renewcommand{\rep}{\opname{rep}\nolimits}
\newcommand{\enh}{\opname{enh}\nolimits}
\newcommand{\eff}{\opname{eff}\nolimits}
\newcommand{\cyd}[1]{#1\mbox{-}\opname{cyd}\nolimits}
\newcommand{\pretr}{\opname{pretr}\nolimits}
\newcommand{\ex}{\opname{ex}\nolimits}
\newcommand{\ac}{\mathscr{A}}
\newcommand{\scr}{\mathscr}


\newcommand{\colim}{\opname{colim}}
\newcommand{\cok}{\opname{cok}\nolimits}
\newcommand{\im}{\opname{im}\nolimits}
\renewcommand{\ker}{\opname{ker}\nolimits}
\newcommand{\obj}{\opname{obj}\nolimits}

\newcommand{\Z}{\mathbb{Z}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\Q}{\mathbb{Q}}
\newcommand{\C}{\mathbb{C}}
\newcommand{\R}{\mathbb{R}}
\newcommand{\fq}{{\mathbb F}_q}
\renewcommand{\P}{\mathbb{P}}
\newcommand{\ra}{\rightarrow}
\newcommand{\la}{\leftarrow}
\newcommand{\iso}{\xrightarrow{_\sim}}
\newcommand{\liso}{\xleftarrow{_\sim}}
\newcommand{\id}{\mathbf{1}}


%
% Hom-spaces
%
\newcommand{\res}{\opname{res}}
\newcommand{\Hmo}{\opname{Hmo}}
\newcommand{\Hom}{\opname{Hom}}
\newcommand{\Sg}{\opname{Sg}}
\newcommand{\Sgh}{\widehat{\opname{Sg}}}
\newcommand{\go}{\opname{G_0}}
\newcommand{\gr}{\opname{Gr}}
\newcommand{\RHom}{\opname{RHom}}
\newcommand{\HOM}{\opname{Hom^\bullet}}
\newcommand{\Ext}{\opname{Ext}}
\newcommand{\Hominf}{\raisebox{0ex}[2ex][0ex]{$\overset{\,\infty}{
                              \raisebox{0ex}[1ex][0ex]{$\mathsf{Hom}$}
                                                                 }$}}
\newcommand{\sHominf}{\raisebox{0ex}[2ex][0ex]{$\mathscrsize
\overset{\mathscrsize
\,\infty}{\raisebox{0ex}[1ex][0ex]{$\mathscrsize \mathsf{Hom}$}}$}}
\newcommand{\Aut}{\opname{Aut}}\newcommand{\Ind}{\opname{Ind}}
\newcommand{\End}{\opname{End}}
\newcommand{\rad}{\opname{rad}}
\newcommand{\irr}{\opname{irr}}
\newcommand{\GL}{\opname{GL}}

\newcommand{\boxten}{\boxtimes}
\newcommand{\ten}{\otimes}
\newcommand{\lten}{\overset{\boldmath{L}}{\ten}}
\newcommand{\tensinf}{\overset{\infty}{\ten}}
\newcommand{\Tor}{\opname{Tor}}
\newcommand{\supp}{\opname{supp}}
\newcommand{\hh}{\opname{HH}}
%
% Calligraphic letters
%
\newcommand{\ca}{{\mathscr A}}
\newcommand{\cb}{{\mathscr B}}
\newcommand{\cc}{{\mathscr C}}
\newcommand{\cd}{{\mathscr D}}
\newcommand{\ce}{{\mathscr E}}
\newcommand{\cF}{{\mathscr F}}
\newcommand{\cg}{{\mathscr G}}
\newcommand{\ch}{{\mathscr H}}
\newcommand{\ci}{{\mathscr I}}
\newcommand{\ck}{{\mathscr K}}
\newcommand{\cl}{{\mathscr L}}
\newcommand{\cm}{{\mathscr M}}
\newcommand{\cn}{{\mathscr N}}
\newcommand{\co}{{\mathscr O}}
\newcommand{\cp}{{\mathscr P}}
\newcommand{\cR}{{\mathscr R}}
\newcommand{\cq}{{\mathscr Q}}
\newcommand{\cs}{{\mathscr S}}
\newcommand{\ct}{{\mathscr T}}
\newcommand{\cu}{{\mathscr U}}
\newcommand{\cv}{{\mathscr V}}
\newcommand{\cw}{{\mathscr W}}
\newcommand{\cx}{{\mathscr X}}

\newcommand{\bp}{\mathbf{p}}


\newcommand{\wmny}{W_{M,N}^Y}\newcommand{\wnmy}{W_{N,M}^Y}
\newcommand{\eps}{\varepsilon}
\renewcommand{\phi}{\varphi}
\newcommand{\del}{\partial}
\newcommand{\cdQ}{{\mathscr D}_Q}
\newcommand{\db}{{\mathscr D}^b}
\newcommand{\kos}{K_0^{split}(\cc)}
\newcommand{\hmod}{H\opname{-mod}}
\newcommand{\den}{\opname{den}\nolimits}

\newcommand{\tilting}{tilting }
\newcommand{\exceptional}{exceptional }
\renewcommand{\hat}[1]{\widehat{#1}}

\newcommand{\bt}{\bullet}
\newcommand{\sq}{\square}
\newcommand{\point}{.}
\newcommand{\dmd}{\diamondsuit}
\newcommand{\sqdmd}{\square\!\!\!\!\!\raisebox{1pt}{$\diamondsuit$}}
\newcommand{\sqbt}{\square\!\!\!\!\bt}
\newcommand{\sqpt}{\square\!\!\!\raisebox{3pt}{\point}}

\newcommand{\sgn}{\mbox{sgn}}
\newcommand{\sign}{\mbox{sign}}
\newcommand{\Spec}{\mbox{Spec}}

\renewcommand{\tilde}[1]{\widetilde{#1}}

\newcommand{\arr}[1]{\stackrel{#1}{\rightarrow}}
\newcommand{\mybox}{{\mathscrstyle\square}}

\begin{document}


%\setlength{\baselineskip}{0.5cm}

\date{June 3, 2018} 

\title{Singular Hochschild cohomology via the\\ singularity category}
\author{Bernhard Keller}
\address{Universit\'e Paris Diderot -- Paris 7\\
    Sorbonne Universit\'e\\
    UFR de Math\'ematiques\\
    CNRS\\
   Institut de Math\'ematiques de Jussieu--Paris Rive Gauche, IMJ-PRG \\   
    B\^{a}timent Sophie Germain\\
    75205 Paris Cedex 13\\
    France
}
\email{bernhard.keller@imj-prg.fr}
\urladdr{https://webusers.imj-prg.fr/~bernhard.keller/}


% Titre : La cohomologie de Hochschild singulire via la catŽgorie des singularitŽs

% RŽsumŽ : Nous montrons que la cohomologie de Hochschild singulire 
% (cohomologie de Tate--Hochschild) d'une algbre $A$ est isomorphe,
% en tant qu'algbre graduŽe, ˆ la cohomologie de Hochschild de l'enrichissement
% diffŽrentiel graduŽ de la catŽgorie des singularitŽs de $A$. L'existence d'un
% tel isomorphisme est suggŽrŽ par des travaux rŽcents de Zhengfang Wang.


\begin{abstract}
We show that the singular Hochschild cohomology (=Tate--Hochschild cohomology)
of an algebra $A$ is isomorphic, as a graded algebra, to the Hochschild cohomology
of the differential graded
enhancement of the singularity category of $A$. The existence of such
an isomorphism is suggested by recent work of Zhengfang Wang.
\end{abstract}

\keywords{Singular Hochschild cohomology, Tate--Hochschild cohomology,
singularity category, differential graded category}

%\subjclass[2010]{18E30 (primary); 13F60, 16E35, 16E45, 18E35, 18G60 (secondary)}

%\dedicatory{Dedicated to the memory of Ragnar-Olaf Buchweitz.}


\maketitle

\section{Introduction}

Let $k$ be a field. We write $\ten$ for $\ten_k$. Let $A$ be a
right noetherian (non commutative) $k$-algebra.
The {\em stable derived category} or {\em singularity category} of $A$ is
defined as the Verdier quotient 
\[
\Sg(A)=\cd^b(\mod A)/\per(A)
\]
of the bounded derived category of finitely generated (right) $A$-modules by
the {\em perfect derived category $\per(A)$}, 
\ie the full subcategory of complexes quasi-isomorphic
to bounded complexes of finitely generated projective modules. It was introduced
by Buchweitz in an unpublished manuscript \cite{Buchweitz86} in 1986
and rediscovered, in its scheme-theoretic variant, by Orlov in 2003 \cite{Orlov04}.
Notice that it vanishes when $A$ is of finite global dimension and thus measures
the degree to which $A$ is `singular', a view confirmed by the results of
\cite{Orlov04}.

Let us suppose that the enveloping algebra $A^e=A\ten A^{op}$ is also right
noetherian. In analogy with Hochschild cohomology, in view of Buchweitz'
theory, it is natural to define the {\em Tate--Hochschild cohomology}
or {\em singular Hochschild cohomology} of $A$ to be the graded algebra with
components
\[
HH^n_{sg}(A,A) = \Hom_{\Sg(A^e)}(A,\Sigma^n A)\ko n\in\Z \ko
\]
where $\Sigma$ denotes the suspension (=shift) functor.
It was studied for example in \cite{EuSchedler09,BerghJorgensen13,
Nguyen13} and more recently in \cite{Wang15, Wang15b, Wang16, RiveraWang17,
Wang18, ChenLiWang19}. 
Wang showed in \cite{Wang15} that, like Hochschild cohomology
\cite{Gerstenhaber63}, singular Hochschild cohomology carries a
structure of Gerstenhaber algebra. Now recall that the Gerstenhaber algebra
structure on Hochschild cohomology is a small part of much richer higher structure
on the Hochschild cochain complex $C(A,A)$ itself, namely the structure
of a $B_\infty$-algebra in the sense of Getzler--Jones \cite[5.2]{GetzlerJones94}
given by the brace operations \cite{Baues81, Kadeishvili88}. In \cite{Wang18},
Wang improves on \cite{Wang15} by defining a singular Hochschild
cochain complex $C_{sg}(A,A)$ and endowing it with a $B_\infty$-structure which
in particular yields the Gerstenhaber algebra structure on $HH^*_{sg}(A,A)$.

Using \cite{Keller03} Lowen--Van den Bergh showed in 
\cite[Theorem 4.4.1]{LowenVandenBergh05} that the Hochschild cohomology of $A$
is isomorphic to the Hochschild cohomology of the canonical differential
graded (=dg) enhancement of the
(bounded or unbounded) derived category of $A$ and that the isomorphism
lifts to the $B_\infty$-level (cf. Corollary 7.6 of \cite{Toen07} for a related
statement). Together with the
complete structural analogy between Hochschild and singular Hochschild
cohomology described above, this suggests the question whether
the singular Hochschild cohomology 
of $A$ is isomorphic to the Hochschild cohomology
of the canonical dg
enhancement $\Sg_{dg}(A)$ of the singularity category $\Sg(A)$
(note that such an enhancement exists by the construction of $\Sg(A)$
as a Verdier quotient \cite{Keller99, Drinfeld04}). Chen--Li--Wang show
in \cite{ChenLiWang19} that this does hold at the level of
Gerstenhaber algebras when $A$ is the radical square
zero algebra associated with a finite quiver without sources or sinks.
Our main result is the following.

\begin{theorem} \label{thm:main} There is a canonical isomorphism of graded algebras
between the singular Hochschild cohomology of $A$ and the Hochschild
cohomology of the dg singularity category $\Sg_{dg}(A)$.
\end{theorem}

\begin{conjecture} The isomorphism of the theorem lifts to an isomorphism
\[
C_{sg}(A,A) \iso C(\Sg_{dg}(A),\Sg_{dg}(A))
\] 
in the homotopy category of $B_\infty$-algebras.
\end{conjecture}

Notice that the $B_\infty$-structure on Hochschild cohomology of dg categories
is preserved (up to quasi-isomorphism) under Morita equivalences, 
cf. \cite{Keller03}.

Let us mention an application of Theorem \ref{thm:main} 
obtained in joint work with Zheng Hua. Suppose that $k$ is algebraically closed 
of characteristic $0$ and let $P$ the power series algebra $k[[x_1,\ldots, x_n]]$.

\begin{theorem}[\cite{HuaKeller18}] \label{thm:hypersurface} 
Suppose that $Q\in P$ has an isolated singularity at the origin and $A=P/(Q)$.
Then $A$ is determined up to
isomorphism by its dimension and the dg singularity category $\Sg_{dg}(A)$.
\end{theorem}

In \cite[Theorem 8.1]{Efimov12}, Efimov proves a related but different
reconstruction theorem: He shows that if $Q$ is a polynomial, it is
determined, up to a formal change of variables, by the differential
$\Z/2$-graded endomorphism algebra $E$ of the residue field 
in the differential $\Z/2$-graded singularity category together
with a fixed isomorphism between $H^*B$ and the exterior
algebra $\Lambda(k^n)$.

In section \ref{s:main}, we generalize Theorem \ref{thm:main} to the
non noetherian setting and prove the generalized statement. We comment on
a possible lift of this proof to the $B_\infty$-level in section \ref{s:B-infinity}.
We prove Theorem \ref{thm:hypersurface}
in section \ref{s:hypersurface}.

\section{Generalization and proof}
\label{s:main}

\subsection{Generalization to the non noetherian case}
We assume that $A$ is an arbitrary $k$-algebra projective as a $k$-module. 
Its singularity category $\Sg(A)$ is defined as the Verdier quotient 
$\ch^{-,b}(\proj A)/\ch^b(\proj A)$ of the homotopy category of right
bounded complexes of finitely generated projective $A$-modules
by its full subcategory of bounded complexes of finitely generated
projective $A$-modules. Notice that when $A$ is right noetherian,
this is equivalent to the definition given in the introduction.

The (partially) {\em completed singularity category $\Sgh(A)$} is defined as the Verdier
quotient of the right bounded derived category $\cd^- A$ by its full subcategory
consisting of all complexes quasi-isomorphic to bounded complexes of
arbitrary projective modules.

\begin{lemma} \label{lemma:fully-faithful}
The canonical functor $\Sg(A) \to \Sgh(A)$ is fully faithful.
\end{lemma}

\begin{proof} Let $M$ be a right bounded complex of finitely generated
projective modules with bounded homology and $P$ a bounded
complex of arbitrary projective modules. Since the components of
$M$ are finitely generated, each morphism $M \to P$ in the derived
category factors through a bounded complex $P'$ with finitely generated
projective components. This yields the claim.
\end{proof}

Since we do not assume that $A^e$ is noetherian, the $A$-bimodule $A$ will
not, in general, belong to the singularity category $\Sg(A^e)$. 
But it always belongs to the completed singularity category $\Sgh(A^e)$.
We define the singular Hochschild cohomology of $A$ to be the graded
algebra with components
\[
HH^n_{sg}(A,A) = \Hom_{\Sgh(A^e)}(A, \Sigma^n A)\ko n\in\Z.
\]

\begin{theorem}  \label{thm:non-noetherian} Even if $A^e$ is non noetherian,
there is a canonical isomorphism of graded algebras
between the singular Hochschild cohomology of $A$ and the Hochschild
cohomology of the dg singularity category $\Sg_{dg}(A)$.
\end{theorem}

Let $P$ be a right bounded complex of projective $A^e$-modules.
For $q\in\Z$, let $\sigma_{>q} P$ and $\sigma_{\leq q} P$
denote its stupid truncations:
\begin{align*}
\sigma_{> q}P:
\xymatrix{\ldots \ar[r] & 0 \ar[r] & P^{q+1} \ar[r] & P^{q+1} \ar[r] & \ldots} \\
\sigma_{\leq q}P:
\xymatrix{\ldots \ar[r]  & P^{q-1} \ar[r] & P^q \ar[r] & 0 \ar[r] & \ldots}
\end{align*}
so that we have a triangle
\[
\xymatrix{
\sigma_{>q}P \ar[r] & P \ar[r] & \sigma_{\leq q}P \ar[r] & \Sigma \sigma_{>q}P.}
\]
We have a direct system
\[
\xymatrix{
P=\sigma_{\leq 0}P \ar[r] & \sigma_{\leq -1} P \ar[r] & \sigma_{\leq -2} P \ar[r] & \ldots \ar[r] & P_{\leq q} 
\ar[r] & \ldots}.
\]

\begin{lemma} \label{lemma:sgh} Let $L\in\cd^-(A^e)$.
We have a canonical isomorphism
\[
\colim \Hom_{\cd A^e}(L, \sigma_{\leq q}P) \iso
\Hom_{\Sgh(A^e)}(L, P)\ko n\in\Z.
\]
In particular, if $P$ is a projective resolution of $A$ over $A^e$, we have
\[
\colim \Hom_{\cd A^e}(A, \Sigma^n \sigma_{\leq q}P) \iso
\Hom_{\Sgh(A^e)}(A, \Sigma^n A)\ko n\in\Z.
\]
\end{lemma}

\begin{proof} Clearly, if $Q$ is a bounded complex of projective modules,
each morphism $Q \to P$ in the derived category $\cd A^e$ factors through
$\sigma_{>q}P \to P$ for some $q\ll 0$. This shows that the morphisms
$P \to \sigma_{\leq q}P$ form a cofinal subcategory in the category
of morphisms $ P \to P'$ whose cylinder is a bounded complex of
projective modules. Whence the claim.
\end{proof}


\subsection{Proof of Theorem~\ref{thm:non-noetherian}}
We refer to \cite{Keller94, Keller06d, Toen14} for foundational material
on dg categories. We will follow the terminology of \cite{Keller06d}. 
For a dg category $\ca$, denote by $X \mapsto Y(X)$ the dg
Yoneda functor and by $\cd\ca$  the derived category. We write
$\ca^e$ for the enveloping dg category 
$\ca\ten\ca^{op}$ and $I_\ca$ for the {\em identity bimodule}
\[
I_\ca: (X,Y) \mapsto \ca(X,Y).
\]
In the case of the algebra $A$, the identity bimodule is the $A$-bimodule $A$.
Recall that if $F: \ca \to \cb$ is a fully faithful dg functor, the restriction
$F_*: \cd\cb \to \cd \ca$ is a localization functor admitting fully faithful left and
right adjoint functors $F^*$ and $F^!$ given respectively by
\[
F^*: M \mapsto M\lten_\ca \mbox{}_F\cb \quad\mbox{and}\quad
F^!: N \mapsto \RHom_\ca(\cb_F,N) \ko
\]
where $\mbox{}_F\cb=\cb(?,F-)$ and $\cb_F=\cb(F?,-)$. 

Let $\cm=\cc_{dg}^{-,b}(\proj A)$ denote the dg category of right bounded
complexes of finitely generated projective $A$-modules with bounded homology.
Let $\cp\subset \cm$ be the full dg subcategory $\cc_{dg}^b(\proj A)$ formed
by the bounded complexes of finitely generated projective $A$-modules.
Let $\cs$ denote 
the dg quotient of $\cm/\cp$. In the
homotopy category of dg categories, we have an isomorphism
between $\Sg_{dg}(A)$ and $\cs=\cm/\cp$.
We view $A$ as a dg category with one object whose endomorphism
algebra is $A$. We have the obvious inclusion and projection dg functors
\[
\xymatrix{
A \ar[r]^i & \cm \ar[r]^p & \cs.}
\]
We still denote by $i$ and $p$ the induced functors $A^e \to \cm^e \to \cs^e$.
Consider the fully faithful dg functors
\[
\xymatrix{
A\ten A^{op} \ar[r]^-{\id\ten i} & A\ten \cm^{op} \ar[r]^-{i\ten\id} & \cm\ten\cm^{op}}.
\]
The restriction along $G=\id\ten i$ admits the left adjoint $G^*$ given by
\[
G^*: X \mapsto \cm\mbox{}_i \lten_A X \ko
\]
and the restriction along $F=i\ten\id$ admits the left and right adjoints $F^*$ and
$F^!$ given by
\[
F^*: Y \mapsto Y \lten_A \mbox{}_i\cm \quad\mbox{and} \quad
F^!: Y \mapsto \RHom_A(\cm_i, Y).
\]
Since $F^*$ and $F^!$ are the two adjoints of a localization functor,
we have a canonical morphism $F^* \to F^!$. 

\begin{lemma} For each projective $A^e$-module $P$, the morphism
\[
F^* G^* (P) \to F^! G^* (P)
\]
is invertible. 
\end{lemma}

\begin{proof} We may assume that $P$ is the direct sum of a family of
modules $P_j\ten Q_j$, $j\in J$, where the $P_j$ and $Q_j$ are finitely
generated projective left resp. right $A$-modules. Since $F^*$ and $G^*$
commute with (arbitrary) coproducts, the left hand side is the dg module
\[
\bigoplus_j \cm(i?,-)\lten_A (P_j\ten Q_j) \lten_A \cm(?,i-) = 
\bigoplus_j \cm(P_j^*,-)\ten \cm(?,Q_j),
\]
where $P_j^*=\Hom_A(P_j,A)$. The right hand side is the dg module
\[
\RHom_A(\cm_i, \cm_i \lten_A (\bigoplus_j P_j\ten Q_j)) = 
\RHom_A(\cm_i, \bigoplus\cm(P_j^*,-)\ten Q_j).
\]
Let us evaluate the canonical morphism at $(M,L)\in \cm\ten\cm^{op}$. We find
the canonical morphism
\[
\bigoplus_j \cm(P_j^*,L) \ten \cm(M,Q_j) \to \Hom_A(M,\bigoplus_j \cm(P_j^*,L)\ten Q_j).
\]
Thus, we have to show that the canonical morphism
\[
\bigoplus_j \Hom(P_j^*,L) \ten \Hom_A(M,Q_j) \to 
\Hom_A(M, \bigoplus_j \Hom_A(P_j^*,L)\ten Q_j)
\]
is a quasi-isomorphism. Recall that $L$ and $M$ are right bounded complexes
of finitely generated projective modules with bounded homology. We fix $M$
and consider the morphism as a morphism of triangle functors with argument
$L\in\cd^b(\Mod A)$. Then we are reduced to the case where $L$ is
in $\Mod A$. In this case, the morphism becomes an isomorphism of complexes
because the components of $M$ are finitely generated projective.
\end{proof}

Let us put $H=F^! G^* : \cd(A^e) \to \cd(\cm^e)$. Let us compute
the image of the identity bimodule $A$ under $H$. We have
\[
H(A) =F^! (\cm_i \lten_A A) = F^!(\cm_i) = \RHom_A(\cm_i, \cm_i)
\]
and when we evaluate at $L$, $M$ in $\cm$, we find
\[
H(A)(L,M)=\RHom_A(\cm(i ?,L),\cm(i ?,M)) = \Hom_A(L,M)=\cm(L,M).
\]
Thus, the functor $H$ takes the identity bimodule $A$ to the identity
bimodule $I_\cm$. Since $F^!$ and $G^*$ are fully faithful
so is $H$. Denote by $\cn$ the image under $H$ of the closure of $\Proj A^e$
under finite extensions. Then $H$ induces a fully faithful functor
\[
\Sgh(A^e) \to \cd(\cm^e)/\cn
\]
and, by Lemma~\ref{lemma:fully-faithful}, a fully faithful functor
\[
\Sg(A^e) = \cd^b(A^e)/\per(A^e) \to \cd(\cm^e)/\cn
\]
taking the identity bimodule $A$ to the identity bimodule $I_\cm$.
Now notice that we have a Morita morphism of dg categories
\[
\cs^e \iso \frac{\cm\ten\cm^{op}}{\cp\ten\cm^{op}+\cm\ten\cp^{op}}.
\]
The functor $p^*: \cd(\cm^e) \to \cd(\cs^e)$ induces the quotient functor
\[
\xymatrix{
\frac{\cd(\cm\ten\cm^{op})}{\cn} \ar[r] &
\frac{\cd(\cm\ten\cm^{op})}{\cd(\cp\ten\cm^{op}+\cm\ten\cp^{op})}
=\cd(\cs^e)}.
\]
Since $p:\cm\to\cs$ is a localization, the image $p^*(I_\cm)$ is isomorphic
to $I_\cs$. It suffices to show that $p^*$ induces bijections in the morphism
spaces with target $I_\cm$
\[
\xymatrix{
\Hom_{\cd(\cm^e)/\cn}(?,I_\cm) \ar[r] &
\Hom_{\cd(\cs^e)}(p^*(?), p^*(I_\cm))}.
\]
For this, it suffices to show that
$I_\cm$ is right orthogonal in $\cd(\cm^e)/\cn$ on the images under
the Yoneda functor of the objects in $\cp\ten\cm^{op}+\cm\ten\cp^{op}$.
To show that $I_\cm$ is right orthogonal on $Y(\cm\ten\cp^{op})$, it
suffices to show that it is right orthogonal to an object $Y(M,A)$, $M\in\cm$.
Now a morphism in $\cd(\cm^e)/\cn$ is given by a diagram 
of $\cd(\cm^e)$ representing a left fraction
\[
\xymatrix{
Y(M,A) \ar[r] & I'_\cm & I_\cm \ar[l]}
\]
where the cone over $I_\cm \to I'_\cm$ lies in $\cn$. For each object $X$
of $\cd\cm^e$, we have canonical isomorphisms
\[
\Hom_{\cd\cm^e}(Y(M,A),X) = H^0(X(M,A)) =
\Hom_{\cd\cm}(Y(M), X(?,A)).
\]
Thus, the given fraction corresponds to a diagram in $\cd(\cm)$ of the form
\[
\xymatrix{
Y(M) \ar[r] & I'_\cm(?,A) & I_\cm(?,A)=\cm(?,A) \ar[l]} \ko
\]
where the cone over $I_\cm(?,A) \to I'_\cm(?,A)$ is the image under
$i^*: \cd\ca \to \cd\cm$ of a bounded complex with projective components. 
Thus, we may assume
that $I'_\cm(?,A)$ is a finite extension of shifts of arbitrary coproducts of
objects $Y(Q)$, where $Q$ is a finitely generated projective $A$-module.
Since $M$ has finitely generated components, the given morphism
$Y(M) \to I'_\cm(?,A)$ must then factor through $Y(Q)$ for an object $Q$ of $\cp$.
This means that the given morphism $Y(M,A) \to I'_\cm$ factors through
$Y(Q,A)$, which lies in $\cn$. Thus, the given fraction represents
the zero morphism of $\cd(\cm^e)/\cn$, as was to be shown.
The case of an object in $Y(\cp\ten\cm^{op})$ is analogous.
In summary, we have shown that the maps
\[
\xymatrix{
\Sg(A^e)(A, \Sigma^n A) \ar[r]^-H & (\cd(\cm^e)/\cn)(I_\cm,\Sigma^n I_\cm) 
\ar[r]^-{p^*} & \cd(\cs^e)(I_\cs, \Sigma^n I_\cs)}
\]
are bijective, which implies the assertion on Hochschild cohomology.


\section{Remark on a possible lift to the $B_\infty$-level}
\label{s:B-infinity}

Let $P \to A$ be a resolution of $A$ by 
projective $A$-$A$-bimodules.
The proof in section~\ref{s:main}
produces in fact isomorphisms in the derived category of
$k$-modules
\begin{align*}
\colim \RHom_{A^e}(A, \sigma_{\leq q}P)  
& \to \colim \RHom_{\cm^e}(I_\cm, H \sigma_{\leq q}P) \\
& \to \colim \RHom_{\cs^e}(I_\cs, p^* H \sigma_{\leq q}P) \\
& = \RHom_{\cs^e}(I_\cs, I_\cs).
\end{align*}
For the bar resolution $P$, the truncation $\sigma_{\leq -q}P$
is canonically isomorphic to $\Sigma^q\Omega^q A$ so that the first
complex carries a canonical $B_\infty$-structure constructed by
Wang \cite{Wang18}.  As explained in the introduction,
it is classical that the last complex carries a canonical
$B_\infty$-structure. It is not obvious to make the intermediate
complexes explicit because the functor $H$, being a composition of
a {\em right adjoint} with a left adjoint to a restriction functor, does not take
cofibrant objects to cofibrant objects.

\section{Proof of Theorem~\ref{thm:hypersurface}}
\label{s:hypersurface}

By the Weierstrass preparation theorem, we may assume that $Q$ is
a polynomial. Put $R=k[x_1,\ldots, x_n]/(Q)$ so that $A$ is isomorphic
to the completion $\widehat{R}$. By Theorem~3.2.7 of \cite{Bach92}, in sufficiently 
high even degrees, the Hochschild cohomology of $R$ is isomorphic to 
\[
T=k[x_1, \ldots, x_n]/(Q,\del_1 Q, \ldots, \del_n Q)
\]
as an $R$-module. Since $R\ten R$ is noetherian and Gorenstein 
(cf. Theorem~1.6 of \cite{TousiYassemi03}), by Theorem~6.3.4 of \cite{Buchweitz86},
the singular Hochschild cohomology of $R$ coincides with 
Hochschild cohomology in sufficiently high degrees. 
By Theorem \ref{thm:main}, the Hochschild cohomology of $\Sg_{dg}(R)$
is isomorphic to the singular Hochschild cohomology of $R$ and thus
isomorphic to $T$ in high even degrees. Since $R$ is a hypersurface,
the dg category $\Sg_{dg}(R)$ is isomorphic, in the homotopy category
of dg categories, to the underlying differential $\Z$-graded category of
the differential  $\Z/2$-graded category of matrix factorizations of $Q$,
cf. \cite{Eisenbud80}, \cite{Orlov04} and Theorem~2.49 of
\cite{BlancRobaloToenVezzosi16}. 
Thus, it is $2$-periodic and so is its Hochschild cohomology. 
It follows that the zeroth Hochschild cohomology of $\Sg_{dg}(R)$ is 
isomorphic to $T$ as an algebra. 
The completion functor $?\ten_R \widehat{R}$ yields an embedding
$\Sg(R) \to \Sg(A)$ through which $\Sg(A)$ identifies
with the idempotent completion of the triangulated category $\Sg(R)$,
cf. Theorem~5.7 of \cite{Dyckerhoff11}. Therefore, the corresponding
dg functor $\Sg_{dg}(R) \to \Sg_{dg}(A)$ induces an equivalence
in the derived categories and an isomorphism in Hochschild cohomology.
So we find an isomorphism
\[
HH^0(\Sg_{dg}(A), \Sg_{dg}(A)) \iso T.
\]
Since $Q$ has an isolated singularity at the origin, we have an isomorphism
\[
T \iso k[[x_1, \ldots, x_n]]/(Q,\del_1 Q, \ldots, \del_n Q)
\]
with the Tyurina algebra of $A=P/(Q)$.
Now by the Mather--Yau theorem \cite{MatherYau82}, more
precisely by its formal version \cite[Prop. 2.1]{GreuelPham17}, in
a fixed dimension, the Tyurina algebra determines 
$A$ up to isomorphism.

Notice that the Hochschild cohomology of the dg category of matrix
factorizations considered as a differential $\Z/2$-graded category
is different: As shown by Dyckerhoff \cite{Dyckerhoff11}, it is isomorphic
to the Milnor algebra $P/(\del_1 Q, \ldots, \del_n Q)$ in
even degree and vanishes in odd degree. 

\section*{Acknowledgments}
I am very grateful to Zhengfang Wang for inspiring discussions on his results
and on the question which lead to this article. I am indebted to Zheng Hua for
his comments and to Xiao-Wu Chen for detecting an embarassing error
in an earlier version of this note. I thank Greg Stevenson
for reference \cite{Efimov12}, Liran Shaul for reference \cite{TousiYassemi03}
and Amnon Yekutieli for pointing out a confusing misprint in the statement of
Lemma~\ref{lemma:sgh}.


%\bibliographystyle{amsplain}
%\bibliography{stanKeller}

\def\cprime{$'$} \def\cprime{$'$}
\providecommand{\bysame}{\leavevmode\hbox to3em{\hrulefill}\thinspace}
\providecommand{\MR}{\relax\ifhmode\unskip\space\fi MR }
% \MRhref is called by the amsart/book/proc definition of \MR.
\providecommand{\MRhref}[2]{%
  \href{http://www.ams.org/mathscinet-getitem?mr=#1}{#2}
}
\providecommand{\href}[2]{#2}
\begin{thebibliography}{10}

\bibitem{Baues81}
H.~J. Baues, \emph{The double bar and cobar constructions}, Compositio Math.
  \textbf{43} (1981), no.~3, 331--341.

\bibitem{BerghJorgensen13}
Petter~Andreas Bergh and David~A. Jorgensen, \emph{Tate-{H}ochschild homology
  and cohomology of {F}robenius algebras}, J. Noncommut. Geom. \textbf{7}
  (2013), no.~4, 907--937.

\bibitem{BlancRobaloToenVezzosi16}
Anthony Blanc, Marco Robalo, Bertrand To\"en, and Gabriele Vezzosi,
  \emph{Motivic realizations of singularity categories and vanishing cycles},
  arXiv:1607.03012 [math.AG].

\bibitem{Buchweitz86}
Ragnar-Olaf Buchweitz, \emph{Maximal {C}ohen--{M}acaulay modules and {T}ate
  cohomology over {G}orenstein rings}, \verb"http:hdl.handle.net/1807/16682"
  (1986), 155 pp.

\bibitem{ChenLiWang19}
Xiao-Wu Chen, Huanhuan Li, and Zhengfang Wang, \emph{The {H}ochschild
  cohomology of {L}eavitt path algebras and {T}ate--{H}ochschild cohomology},
  in preparation.

\bibitem{Drinfeld04}
Vladimir Drinfeld, \emph{D{G} quotients of {DG} categories}, J. Algebra
  \textbf{272} (2004), no.~2, 643--691.

\bibitem{Dyckerhoff11}
Tobias Dyckerhoff, \emph{Compact generators in categories of matrix
  factorizations}, Duke Math. J. \textbf{159} (2011), no.~2, 223--274.

\bibitem{Efimov12}
Alexander~I. Efimov, \emph{Homological mirror symmetry for curves of higher
  genus}, Adv. Math. \textbf{230} (2012), no.~2, 493--530.

\bibitem{Eisenbud80}
David Eisenbud, \emph{Homological algebra on a complete intersection, with an
  application to group representations}, Trans. Amer. Math. Soc. \textbf{260}
  (1980), no.~1, 35--64.

\bibitem{EuSchedler09}
Ching-Hwa Eu and Travis Schedler, \emph{Calabi-{Y}au {F}robenius algebras}, J.
  Algebra \textbf{321} (2009), no.~3, 774--815.

\bibitem{Gerstenhaber63}
Murray Gerstenhaber, \emph{The cohomology structure of an associative ring},
  Ann. of Math. (2) \textbf{78} (1963), 267--288.

\bibitem{GetzlerJones94}
Ezra Getzler and J.~D.~S. Jones, \emph{Operads, homotopy algebra, and iterated
  integrals for double loop spaces}, hep-th/9403055.

\bibitem{GreuelPham17}
Gert-Martin Greuel and Thuy~Huong Pham, \emph{Mather-{Y}au theorem in positive
  characteristic}, J. Algebraic Geom. \textbf{26} (2017), no.~2, 347--355.

\bibitem{Bach92}
Jorge~Alberto Guccione, Jose Guccione, Maria~Julia Redondo, and Orlando~Eugenio
  Villamayor, \emph{Hochschild and cyclic homology of hypersurfaces}, Adv.
  Math. \textbf{95} (1992), no.~1, 18--60.

\bibitem{HuaKeller18}
Zheng Hua and Bernhard Keller, \emph{Cluster categories and rational curves},
  arXiv:1810.00749 [math.AG].

\bibitem{Kadeishvili88}
T.~V. Kadeishvili, \emph{The structure of the {$A(\infty)$}-algebra, and the
  {H}ochschild and {H}arrison cohomologies}, Trudy Tbiliss. Mat. Inst. Razmadze
  Akad. Nauk Gruzin. SSR \textbf{91} (1988), 19--27.

\bibitem{Keller03}
Bernhard Keller, \emph{Derived invariance of higher structures on the
  {H}ochschild complex}, preprint, 2003, available at the author's home page.

\bibitem{Keller94}
Bernhard Keller, \emph{Deriving {D}{G} categories}, Ann. Sci. {\'E}cole Norm.
  Sup. (4) \textbf{27} (1994), no.~1, 63--102.

\bibitem{Keller99}
\bysame, \emph{On the cyclic homology of exact categories}, J. Pure Appl.
  Algebra \textbf{136} (1999), no.~1, 1--56.

\bibitem{Keller06d}
\bysame, \emph{On differential graded categories}, International Congress of
  Mathematicians. Vol. II, Eur. Math. Soc., Z\"urich, 2006, pp.~151--190.

\bibitem{LowenVandenBergh05}
Wendy Lowen and Michel Van~den Bergh, \emph{Hochschild cohomology of abelian
  categories and ringed spaces}, Adv. Math. \textbf{198} (2005), no.~1,
  172--221.

\bibitem{MatherYau82}
John~N. Mather and Stephen S.~T. Yau, \emph{Classification of isolated
  hypersurface singularities by their moduli algebras}, Invent. Math.
  \textbf{69} (1982), no.~2, 243--251.

\bibitem{Nguyen13}
Van~C. Nguyen, \emph{Tate and {T}ate-{H}ochschild cohomology for finite
  dimensional {H}opf algebras}, J. Pure Appl. Algebra \textbf{217} (2013),
  no.~10, 1967--1979.

\bibitem{Orlov04}
D.~O. Orlov, \emph{Triangulated categories of singularities and {D}-branes in
  {L}andau-{G}inzburg models}, Tr. Mat. Inst. Steklova \textbf{246} (2004),
  no.~Algebr. Geom. Metody, Svyazi i Prilozh., 240--262.
  
\bibitem{RiveraWang17}
Manuel Rivera and Zhengfang Wang, \emph{Singular {H}ochschild cohomology and
algebraic string operations}, arXiv:1703.03899 [math.RT].


\bibitem{Toen07}
Bertrand To{\"e}n, \emph{The homotopy theory of {$dg$}-categories and derived
  {M}orita theory}, Invent. Math. \textbf{167} (2007), no.~3, 615--667.

\bibitem{Toen14}
Bertrand To\H{e}n, \emph{Lectures on dg-categories}, Topics in algebraic and
  topological {$K$}-theory, Lecture Notes in Math., vol. 2008, Springer,
  Berlin, 2011, pp.~243--302.

\bibitem{TousiYassemi03}
Masoud Tousi and Siamak Yassemi, \emph{Tensor products of some special rings},
  J. Algebra \textbf{268} (2003), no.~2, 672--676.

\bibitem{Wang16}
\bysame, \emph{Singular deformation theory and the invariance of the
  {G}erstenhaber algebra structure on the singular {H}ochschild cohomology},
  arXiv:1501.01641 [math.RT].

\bibitem{Wang15}
\bysame, \emph{Singular {H}ochschild cohomology and {G}erstenhaber algebra
  structure}, arXiv:1508.00190 [math.RT].

\bibitem{Wang15b}
\bysame, \emph{Singular {H}ochschild cohomology of radical square zero
  algebras}, arXiv:1511.08348 [math.RT].

\bibitem{Wang18}
Zhengfang Wang, \emph{Gerstenhaber algebra and {D}eligne's conjecture on
  {T}ate--{H}ochschild cohomology}, arXiv:1801.07990.


\end{thebibliography}


\end{document}

